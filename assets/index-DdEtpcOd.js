(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var am={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function r1(){if(b_)return ql;b_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:u}}return ql.Fragment=e,ql.jsx=n,ql.jsxs=n,ql}var w_;function i1(){return w_||(w_=1,am.exports=r1()),am.exports}var we=i1(),sm={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function a1(){if(S_)return Fe;S_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,Q={};function Y(M,te,he){this.props=M,this.context=te,this.refs=Q,this.updater=he||I}Y.prototype.isReactComponent={},Y.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},Y.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=Y.prototype;function ue(M,te,he){this.props=M,this.context=te,this.refs=Q,this.updater=he||I}var ae=ue.prototype=new G;ae.constructor=ue,O(ae,Y.prototype),ae.isPureReactComponent=!0;var me=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function x(M,te,he,oe,Se,qe){return he=qe.ref,{$$typeof:r,type:M,key:te,ref:he!==void 0?he:null,props:qe}}function A(M,te){return x(M.type,te,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function V(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(he){return te[he]})}var L=/\/+/g;function k(M,te){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):te.toString(36)}function D(){}function ze(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function He(M,te,he,oe,Se){var qe=typeof M;(qe==="undefined"||qe==="boolean")&&(M=null);var Ce=!1;if(M===null)Ce=!0;else switch(qe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(M.$$typeof){case r:case e:Ce=!0;break;case _:return Ce=M._init,He(Ce(M._payload),te,he,oe,Se)}}if(Ce)return Se=Se(M),Ce=oe===""?"."+k(M,0):oe,me(Se)?(he="",Ce!=null&&(he=Ce.replace(L,"$&/")+"/"),He(Se,te,he,"",function($n){return $n})):Se!=null&&(R(Se)&&(Se=A(Se,he+(Se.key==null||M&&M.key===Se.key?"":(""+Se.key).replace(L,"$&/")+"/")+Ce)),te.push(Se)),1;Ce=0;var Pt=oe===""?".":oe+":";if(me(M))for(var pt=0;pt<M.length;pt++)oe=M[pt],qe=Pt+k(oe,pt),Ce+=He(oe,te,he,qe,Se);else if(pt=T(M),typeof pt=="function")for(M=pt.call(M),pt=0;!(oe=M.next()).done;)oe=oe.value,qe=Pt+k(oe,pt++),Ce+=He(oe,te,he,qe,Se);else if(qe==="object"){if(typeof M.then=="function")return He(ze(M),te,he,oe,Se);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function $(M,te,he){if(M==null)return M;var oe=[],Se=0;return He(M,oe,"","",function(qe){return te.call(he,qe,Se++)}),oe}function ce(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(he){(M._status===0||M._status===-1)&&(M._status=1,M._result=he)},function(he){(M._status===0||M._status===-1)&&(M._status=2,M._result=he)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Le(){}return Fe.Children={map:$,forEach:function(M,te,he){$(M,function(){te.apply(this,arguments)},he)},count:function(M){var te=0;return $(M,function(){te++}),te},toArray:function(M){return $(M,function(te){return te})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Fe.Component=Y,Fe.Fragment=n,Fe.Profiler=o,Fe.PureComponent=ue,Fe.StrictMode=a,Fe.Suspense=g,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return fe.H.useMemoCache(M)}},Fe.cache=function(M){return function(){return M.apply(null,arguments)}},Fe.cloneElement=function(M,te,he){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=O({},M.props),Se=M.key,qe=void 0;if(te!=null)for(Ce in te.ref!==void 0&&(qe=void 0),te.key!==void 0&&(Se=""+te.key),te)!B.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(oe[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)oe.children=he;else if(1<Ce){for(var Pt=Array(Ce),pt=0;pt<Ce;pt++)Pt[pt]=arguments[pt+2];oe.children=Pt}return x(M.type,Se,void 0,void 0,qe,oe)},Fe.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Fe.createElement=function(M,te,he){var oe,Se={},qe=null;if(te!=null)for(oe in te.key!==void 0&&(qe=""+te.key),te)B.call(te,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Se[oe]=te[oe]);var Ce=arguments.length-2;if(Ce===1)Se.children=he;else if(1<Ce){for(var Pt=Array(Ce),pt=0;pt<Ce;pt++)Pt[pt]=arguments[pt+2];Se.children=Pt}if(M&&M.defaultProps)for(oe in Ce=M.defaultProps,Ce)Se[oe]===void 0&&(Se[oe]=Ce[oe]);return x(M,qe,void 0,void 0,null,Se)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(M){return{$$typeof:m,render:M}},Fe.isValidElement=R,Fe.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:ce}},Fe.memo=function(M,te){return{$$typeof:p,type:M,compare:te===void 0?null:te}},Fe.startTransition=function(M){var te=fe.T,he={};fe.T=he;try{var oe=M(),Se=fe.S;Se!==null&&Se(he,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Le,ge)}catch(qe){ge(qe)}finally{fe.T=te}},Fe.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Fe.use=function(M){return fe.H.use(M)},Fe.useActionState=function(M,te,he){return fe.H.useActionState(M,te,he)},Fe.useCallback=function(M,te){return fe.H.useCallback(M,te)},Fe.useContext=function(M){return fe.H.useContext(M)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(M,te){return fe.H.useDeferredValue(M,te)},Fe.useEffect=function(M,te,he){var oe=fe.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(M,te)},Fe.useId=function(){return fe.H.useId()},Fe.useImperativeHandle=function(M,te,he){return fe.H.useImperativeHandle(M,te,he)},Fe.useInsertionEffect=function(M,te){return fe.H.useInsertionEffect(M,te)},Fe.useLayoutEffect=function(M,te){return fe.H.useLayoutEffect(M,te)},Fe.useMemo=function(M,te){return fe.H.useMemo(M,te)},Fe.useOptimistic=function(M,te){return fe.H.useOptimistic(M,te)},Fe.useReducer=function(M,te,he){return fe.H.useReducer(M,te,he)},Fe.useRef=function(M){return fe.H.useRef(M)},Fe.useState=function(M){return fe.H.useState(M)},Fe.useSyncExternalStore=function(M,te,he){return fe.H.useSyncExternalStore(M,te,he)},Fe.useTransition=function(){return fe.H.useTransition()},Fe.version="19.1.0",Fe}var A_;function rg(){return A_||(A_=1,sm.exports=a1()),sm.exports}var W=rg(),om={exports:{}},Fl={},lm={exports:{}},um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function s1(){return R_||(R_=1,function(r){function e($,ce){var ge=$.length;$.push(ce);e:for(;0<ge;){var Le=ge-1>>>1,M=$[Le];if(0<o(M,ce))$[Le]=ce,$[ge]=M,ge=Le;else break e}}function n($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var ce=$[0],ge=$.pop();if(ge!==ce){$[0]=ge;e:for(var Le=0,M=$.length,te=M>>>1;Le<te;){var he=2*(Le+1)-1,oe=$[he],Se=he+1,qe=$[Se];if(0>o(oe,ge))Se<M&&0>o(qe,oe)?($[Le]=qe,$[Se]=ge,Le=Se):($[Le]=oe,$[he]=ge,Le=he);else if(Se<M&&0>o(qe,ge))$[Le]=qe,$[Se]=ge,Le=Se;else break e}}return ce}function o($,ce){var ge=$.sortIndex-ce.sortIndex;return ge!==0?ge:$.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],_=1,w=null,T=3,I=!1,O=!1,Q=!1,Y=!1,G=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function me($){for(var ce=n(p);ce!==null;){if(ce.callback===null)a(p);else if(ce.startTime<=$)a(p),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=n(p)}}function fe($){if(Q=!1,me($),!O)if(n(g)!==null)O=!0,B||(B=!0,k());else{var ce=n(p);ce!==null&&He(fe,ce.startTime-$)}}var B=!1,x=-1,A=5,R=-1;function V(){return Y?!0:!(r.unstable_now()-R<A)}function L(){if(Y=!1,B){var $=r.unstable_now();R=$;var ce=!0;try{e:{O=!1,Q&&(Q=!1,ue(x),x=-1),I=!0;var ge=T;try{t:{for(me($),w=n(g);w!==null&&!(w.expirationTime>$&&V());){var Le=w.callback;if(typeof Le=="function"){w.callback=null,T=w.priorityLevel;var M=Le(w.expirationTime<=$);if($=r.unstable_now(),typeof M=="function"){w.callback=M,me($),ce=!0;break t}w===n(g)&&a(g),me($)}else a(g);w=n(g)}if(w!==null)ce=!0;else{var te=n(p);te!==null&&He(fe,te.startTime-$),ce=!1}}break e}finally{w=null,T=ge,I=!1}ce=void 0}}finally{ce?k():B=!1}}}var k;if(typeof ae=="function")k=function(){ae(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ze=D.port2;D.port1.onmessage=L,k=function(){ze.postMessage(null)}}else k=function(){G(L,0)};function He($,ce){x=G(function(){$(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function($){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var ge=T;T=ce;try{return $()}finally{T=ge}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function($,ce){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ge=T;T=$;try{return ce()}finally{T=ge}},r.unstable_scheduleCallback=function($,ce,ge){var Le=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Le+ge:Le):ge=Le,$){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ge+M,$={id:_++,callback:ce,priorityLevel:$,startTime:ge,expirationTime:M,sortIndex:-1},ge>Le?($.sortIndex=ge,e(p,$),n(g)===null&&$===n(p)&&(Q?(ue(x),x=-1):Q=!0,He(fe,ge-Le))):($.sortIndex=M,e(g,$),O||I||(O=!0,B||(B=!0,k()))),$},r.unstable_shouldYield=V,r.unstable_wrapCallback=function($){var ce=T;return function(){var ge=T;T=ce;try{return $.apply(this,arguments)}finally{T=ge}}}}(um)),um}var I_;function o1(){return I_||(I_=1,lm.exports=s1()),lm.exports}var cm={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function l1(){if(C_)return vn;C_=1;var r=rg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,vn.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,_)},vn.flushSync=function(g){var p=h.T,_=a.p;try{if(h.T=null,a.p=2,g)return g()}finally{h.T=p,a.p=_,a.d.f()}},vn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},vn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},vn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,w=m(_,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:I}):_==="script"&&a.d.X(g,{crossOrigin:w,integrity:T,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=m(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},vn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,w=m(_,p.crossOrigin);a.d.L(g,_,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vn.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=m(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},vn.requestFormReset=function(g){a.d.r(g)},vn.unstable_batchedUpdates=function(g,p){return g(p)},vn.useFormState=function(g,p,_){return h.H.useFormState(g,p,_)},vn.useFormStatus=function(){return h.H.useHostTransitionStatus()},vn.version="19.1.0",vn}var D_;function LE(){if(D_)return cm.exports;D_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=l1(),cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function u1(){if(O_)return Fl;O_=1;var r=o1(),e=rg(),n=LE();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),t;if(d===l)return m(f),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var E=!1,b=f.child;b;){if(b===s){E=!0,s=f,l=d;break}if(b===l){E=!0,l=f,s=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===s){E=!0,s=d,l=f;break}if(b===l){E=!0,l=d,s=f;break}b=b.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case Y:return"Profiler";case Q:return"StrictMode";case fe:return"Suspense";case B:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case ue:return(t._context.displayName||"Context")+".Consumer";case me:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:ze(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return ze(t(i))}catch{}}return null}var He=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Le=[],M=-1;function te(t){return{current:t}}function he(t){0>M||(t.current=Le[M],Le[M]=null,M--)}function oe(t,i){M++,Le[M]=t.current,t.current=i}var Se=te(null),qe=te(null),Ce=te(null),Pt=te(null);function pt(t,i){switch(oe(Ce,i),oe(qe,t),oe(Se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Xv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Xv(i),t=Wv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}he(Se),oe(Se,t)}function $n(){he(Se),he(qe),he(Ce)}function Rt(t){t.memoizedState!==null&&oe(Pt,t);var i=Se.current,s=Wv(i,t.type);i!==s&&(oe(qe,t),oe(Se,s))}function mn(t){qe.current===t&&(he(Se),he(qe)),Pt.current===t&&(he(Pt),Ul._currentValue=ge)}var Cr=Object.prototype.hasOwnProperty,ii=r.unstable_scheduleCallback,wn=r.unstable_cancelCallback,ka=r.unstable_shouldYield,Ns=r.unstable_requestPaint,Sn=r.unstable_now,Go=r.unstable_getCurrentPriorityLevel,Ua=r.unstable_ImmediatePriority,Bi=r.unstable_UserBlockingPriority,ai=r.unstable_NormalPriority,yr=r.unstable_LowPriority,Xn=r.unstable_IdlePriority,ji=r.log,Hi=r.unstable_setDisableYieldValue,ut=null,Ge=null;function gn(t){if(typeof ji=="function"&&Hi(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ut,t)}catch{}}var Lt=Math.clz32?Math.clz32:Dr,xs=Math.log,Wn=Math.LN2;function Dr(t){return t>>>=0,t===0?32:31-(xs(t)/Wn|0)|0}var Or=256,Mr=4194304;function Ln(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function si(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Ln(l):(E&=b,E!==0?f=Ln(E):s||(s=b&~t,s!==0&&(f=Ln(s))))):(b=l&~d,b!==0?f=Ln(b):E!==0?f=Ln(E):s||(s=l&~t,s!==0&&(f=Ln(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function Zn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function qi(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oi(){var t=Or;return Or<<=1,(Or&4194048)===0&&(Or=256),t}function za(){var t=Mr;return Mr<<=1,(Mr&62914560)===0&&(Mr=4194304),t}function Jn(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function vr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fi(t,i,s,l,f,d){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,F=t.hiddenUpdates;for(s=E&~s;0<s;){var J=31-Lt(s),ie=1<<J;b[J]=0,C[J]=-1;var K=F[J];if(K!==null)for(F[J]=null,J=0;J<K.length;J++){var X=K[J];X!==null&&(X.lane&=-536870913)}s&=~ie}l!==0&&An(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function An(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Lt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Nr(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Lt(s),f=1<<l;f&i|t[l]&i&&(t[l]|=i),s&=~f}}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function N(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:p_(t.type))}function z(t,i){var s=ce.p;try{return ce.p=t,i()}finally{ce.p=s}}var q=Math.random().toString(36).slice(2),ne="__reactFiber$"+q,le="__reactProps$"+q,ve="__reactContainer$"+q,De="__reactEvents$"+q,_e="__reactListeners$"+q,Te="__reactHandles$"+q,Ae="__reactResources$"+q,Oe="__reactMarker$"+q;function be(t){delete t[ne],delete t[le],delete t[De],delete t[_e],delete t[Te]}function Ne(t){var i=t[ne];if(i)return i;for(var s=t.parentNode;s;){if(i=s[ve]||s[ne]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=t_(t);t!==null;){if(s=t[ne])return s;t=t_(t)}return i}t=s,s=t.parentNode}return null}function Xe(t){if(t=t[ne]||t[ve]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ht(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ot(t){var i=t[Ae];return i||(i=t[Ae]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(t){t[Oe]=!0}var Qe=new Set,er={};function Gt(t,i){Rn(t,i),Rn(t+"Capture",i)}function Rn(t,i){for(er[t]=i,t=0;t<i.length;t++)Qe.add(i[t])}var an=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vr={},kn={};function Yi(t){return Cr.call(kn,t)?!0:Cr.call(Vr,t)?!1:an.test(t)?kn[t]=!0:(Vr[t]=!0,!1)}function pn(t,i,s){if(Yi(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function In(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Ue(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var kt,Un;function Mn(t){if(kt===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);kt=i&&i[1]||"",Un=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kt+t+Un}var Pr=!1;function Tt(t,i){if(!t||Pr)return"";Pr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var K=X}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(X){K=X}t.call(ie.prototype)}}else{try{throw Error()}catch(X){K=X}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var C=E.split(`
`),F=b.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===F.length)for(l=C.length-1,f=F.length-1;1<=l&&0<=f&&C[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==F[f]){var J=`
`+C[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=f);break}}}finally{Pr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Mn(s):""}function tr(t){switch(t.tag){case 26:case 27:case 5:return Mn(t.type);case 16:return Mn("Lazy");case 13:return Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return Tt(t.type,!1);case 11:return Tt(t.type.render,!1);case 1:return Tt(t.type,!0);case 31:return Mn("Activity");default:return""}}function li(t){try{var i="";do i+=tr(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function uf(t){var i=Yo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Vs(t){t._valueTracker||(t._valueTracker=uf(t))}function Ko(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Yo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cf=/[\n"\\]/g;function Ut(t){return t.replace(cf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function zn(t,i,s,l,f,d,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+sn(i)):t.value!==""+sn(i)&&(t.value=""+sn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Ki(t,E,sn(i)):s!=null?Ki(t,E,sn(s)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+sn(b):t.removeAttribute("name")}function ja(t,i,s,l,f,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+sn(s):"",i=i!=null?""+sn(i):s,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Ki(t,i,s){i==="number"&&Ba(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ui(t,i,s,l){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+sn(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function yt(t,i,s){if(i!=null&&(i=""+sn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+sn(s):""}function Ha(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(He(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=sn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function nr(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||qa.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Qo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&Pu(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Pu(t,d,i[d])}function $o(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ff=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(t){return ff.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ci=null;function rr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function Xo(t){var i=Xe(t);if(i&&(t=i.stateNode)){var s=t[le]||null;e:switch(t=i.stateNode,i.type){case"input":if(zn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ut(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var f=l[le]||null;if(!f)throw Error(a(90));zn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Ko(l)}break e;case"textarea":yt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ui(t,!!s.multiple,i,!1)}}}var Lr=!1;function Lu(t,i,s){if(Lr)return t(i,s);Lr=!0;try{var l=t(i);return l}finally{if(Lr=!1,(hi!==null||fi!==null)&&(Dc(),hi&&(i=hi,t=fi,fi=hi=null,Xo(i),t)))for(i=0;i<t.length;i++)Xo(t[i])}}function Fa(t,i){var s=t.stateNode;if(s===null)return null;var l=s[le]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ir=!1;if(_r)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){ir=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{ir=!1}var kr=null,Qi=null,di=null;function Wo(){if(di)return di;var t,i=Qi,s=i.length,l,f="value"in kr?kr.value:kr.textContent,d=f.length;for(t=0;t<s&&i[t]===f[t];t++);var E=s-t;for(l=1;l<=E&&i[s-l]===f[d-l];l++);return di=f.slice(t,1<l?1-l:void 0)}function Ur(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zr(){return!0}function Zo(){return!1}function Zt(t){function i(s,l,f,d,E){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zr:Zo,this.isPropagationStopped=Zo,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),i}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=Zt(ft),Ya=_({},ft,{view:0,detail:0}),ku=Zt(Ya),ks,Us,Br,Ka=_({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(ks=t.screenX-Br.screenX,Us=t.screenY-Br.screenY):Us=ks=0,Br=t),ks)},movementY:function(t){return"movementY"in t?t.movementY:Us}}),ar=Zt(Ka),Uu=_({},Ka,{dataTransfer:0}),df=Zt(Uu),Qa=_({},Ya,{relatedTarget:0}),zs=Zt(Qa),Jo=_({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Bs=Zt(Jo),zu=_({},ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),js=Zt(zu),mf=_({},ft,{data:0}),el=Zt(mf),$a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ju[t])?!!i[t]:!1}function Xa(){return tl}var Hu=_({},Ya,{key:function(t){if(t.key){var i=$a[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hs=Zt(Hu),qu=_({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=Zt(qu),mi=_({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),Fu=Zt(mi),Gu=_({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yu=Zt(Gu),Ku=_({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qs=Zt(Ku),Cn=_({},ft,{newState:0,oldState:0}),Qu=Zt(Cn),$u=[9,13,27,32],jr=_r&&"CompositionEvent"in window,c=null;_r&&"documentMode"in document&&(c=document.documentMode);var y=_r&&"TextEvent"in window&&!c,v=_r&&(!jr||c&&8<c&&11>=c),S=" ",j=!1;function Z(t,i){switch(t){case"keyup":return $u.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rt=!1;function Yt(t,i){switch(t){case"compositionend":return de(i);case"keypress":return i.which!==32?null:(j=!0,S);case"textInput":return t=i.data,t===S&&j?null:t;default:return null}}function it(t,i){if(rt)return t==="compositionend"||!jr&&Z(t,i)?(t=Wo(),di=Qi=kr=null,rt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Jt[t.type]:i==="textarea"}function gi(t,i,s,l){hi?fi?fi.push(l):fi=[l]:hi=l,i=Pc(i,"onChange"),0<i.length&&(s=new Ls("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var on=null,Hr=null;function rl(t){Gv(t,0)}function Xu(t){var i=ht(t);if(Ko(i))return t}function fp(t,i){if(t==="change")return i}var dp=!1;if(_r){var gf;if(_r){var pf="oninput"in document;if(!pf){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),pf=typeof mp.oninput=="function"}gf=pf}else gf=!1;dp=gf&&(!document.documentMode||9<document.documentMode)}function gp(){on&&(on.detachEvent("onpropertychange",pp),Hr=on=null)}function pp(t){if(t.propertyName==="value"&&Xu(Hr)){var i=[];gi(i,Hr,t,rr(t)),Lu(rl,i)}}function xw(t,i,s){t==="focusin"?(gp(),on=i,Hr=s,on.attachEvent("onpropertychange",pp)):t==="focusout"&&gp()}function Vw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(Hr)}function Pw(t,i){if(t==="click")return Xu(i)}function Lw(t,i){if(t==="input"||t==="change")return Xu(i)}function kw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Bn=typeof Object.is=="function"?Object.is:kw;function il(t,i){if(Bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Cr.call(i,f)||!Bn(t[f],i[f]))return!1}return!0}function yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vp(t,i){var s=yp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=yp(s)}}function _p(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?_p(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ep(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ba(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Ba(t.document)}return i}function yf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Uw=_r&&"documentMode"in document&&11>=document.documentMode,Fs=null,vf=null,al=null,_f=!1;function Tp(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;_f||Fs==null||Fs!==Ba(l)||(l=Fs,"selectionStart"in l&&yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&il(al,l)||(al=l,l=Pc(vf,"onSelect"),0<l.length&&(i=new Ls("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=Fs)))}function Wa(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Gs={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Ef={},bp={};_r&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Za(t){if(Ef[t])return Ef[t];if(!Gs[t])return t;var i=Gs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in bp)return Ef[t]=i[s];return t}var wp=Za("animationend"),Sp=Za("animationiteration"),Ap=Za("animationstart"),zw=Za("transitionrun"),Bw=Za("transitionstart"),jw=Za("transitioncancel"),Rp=Za("transitionend"),Ip=new Map,Tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tf.push("scrollEnd");function Er(t,i){Ip.set(t,i),Gt(i,[t])}var Cp=new WeakMap;function sr(t,i){if(typeof t=="object"&&t!==null){var s=Cp.get(t);return s!==void 0?s:(i={value:t,source:i,stack:li(i)},Cp.set(t,i),i)}return{value:t,source:i,stack:li(i)}}var or=[],Ys=0,bf=0;function Wu(){for(var t=Ys,i=bf=Ys=0;i<t;){var s=or[i];or[i++]=null;var l=or[i];or[i++]=null;var f=or[i];or[i++]=null;var d=or[i];if(or[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Dp(s,f,d)}}function Zu(t,i,s,l){or[Ys++]=t,or[Ys++]=i,or[Ys++]=s,or[Ys++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wf(t,i,s,l){return Zu(t,i,s,l),Ju(t)}function Ks(t,i){return Zu(t,null,null,i),Ju(t)}function Dp(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-Lt(s),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=s|536870912),d):null}function Ju(t){if(50<Ol)throw Ol=0,Dd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Qs={};function Hw(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,i,s,l){return new Hw(t,i,s,l)}function Sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pi(t,i){var s=t.alternate;return s===null?(s=jn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Op(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ec(t,i,s,l,f,d){var E=0;if(l=t,typeof t=="function")Sf(t)&&(E=1);else if(typeof t=="string")E=FS(t,s,Se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=jn(31,s,i,f),t.elementType=R,t.lanes=d,t;case O:return Ja(s.children,f,d,i);case Q:E=8,f|=24;break;case Y:return t=jn(12,s,i,f|2),t.elementType=Y,t.lanes=d,t;case fe:return t=jn(13,s,i,f),t.elementType=fe,t.lanes=d,t;case B:return t=jn(19,s,i,f),t.elementType=B,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:case ae:E=10;break e;case ue:E=9;break e;case me:E=11;break e;case x:E=14;break e;case A:E=16,l=null;break e}E=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=jn(E,s,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Ja(t,i,s,l){return t=jn(7,t,l,i),t.lanes=s,t}function Af(t,i,s){return t=jn(6,t,null,i),t.lanes=s,t}function Rf(t,i,s){return i=jn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $s=[],Xs=0,tc=null,nc=0,lr=[],ur=0,es=null,yi=1,vi="";function ts(t,i){$s[Xs++]=nc,$s[Xs++]=tc,tc=t,nc=i}function Mp(t,i,s){lr[ur++]=yi,lr[ur++]=vi,lr[ur++]=es,es=t;var l=yi;t=vi;var f=32-Lt(l)-1;l&=~(1<<f),s+=1;var d=32-Lt(i)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,yi=1<<32-Lt(i)+f|s<<f|l,vi=d+t}else yi=1<<d|s<<f|l,vi=t}function If(t){t.return!==null&&(ts(t,1),Mp(t,1,0))}function Cf(t){for(;t===tc;)tc=$s[--Xs],$s[Xs]=null,nc=$s[--Xs],$s[Xs]=null;for(;t===es;)es=lr[--ur],lr[ur]=null,vi=lr[--ur],lr[ur]=null,yi=lr[--ur],lr[ur]=null}var Dn=null,Ot=null,ct=!1,ns=null,qr=!1,Df=Error(a(519));function rs(t){var i=Error(a(418,""));throw ll(sr(i,t)),Df}function Np(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[ne]=t,i[le]=l,s){case"dialog":Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":case"embed":Ze("load",i);break;case"video":case"audio":for(s=0;s<Nl.length;s++)Ze(Nl[s],i);break;case"source":Ze("error",i);break;case"img":case"image":case"link":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"input":Ze("invalid",i),ja(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vs(i);break;case"select":Ze("invalid",i);break;case"textarea":Ze("invalid",i),Ha(i,l.value,l.defaultValue,l.children),Vs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||$v(i.textContent,s)?(l.popover!=null&&(Ze("beforetoggle",i),Ze("toggle",i)),l.onScroll!=null&&Ze("scroll",i),l.onScrollEnd!=null&&Ze("scrollend",i),l.onClick!=null&&(i.onclick=Lc),i=!0):i=!1,i||rs(t)}function xp(t){for(Dn=t.return;Dn;)switch(Dn.tag){case 5:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:Dn=Dn.return}}function sl(t){if(t!==Dn)return!1;if(!ct)return xp(t),ct=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Gd(t.type,t.memoizedProps)),s=!s),s&&Ot&&rs(t),xp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Ot=br(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Ot=null}}else i===27?(i=Ot,ca(t.type)?(t=$d,$d=null,Ot=t):Ot=i):Ot=Dn?br(t.stateNode.nextSibling):null;return!0}function ol(){Ot=Dn=null,ct=!1}function Vp(){var t=ns;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),ns=null),t}function ll(t){ns===null?ns=[t]:ns.push(t)}var Of=te(null),is=null,_i=null;function $i(t,i,s){oe(Of,i._currentValue),i._currentValue=s}function Ei(t){t._currentValue=Of.current,he(Of)}function Mf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Nf(t,i,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var C=0;C<i.length;C++)if(b.context===i[C]){d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),Mf(d.return,s,t),l||(E=null);break e}d=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),Mf(E,s,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function ul(t,i,s,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var b=f.type;Bn(f.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(f===Pt.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}f=f.return}t!==null&&Nf(i,t,s,l),i.flags|=262144}function rc(t){for(t=t.firstContext;t!==null;){if(!Bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function as(t){is=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yn(t){return Pp(is,t)}function ic(t,i){return is===null&&as(t),Pp(t,i)}function Pp(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},_i===null){if(t===null)throw Error(a(308));_i=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else _i=_i.next=i;return s}var qw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Fw=r.unstable_scheduleCallback,Gw=r.unstable_NormalPriority,Qt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new qw,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&Fw(Gw,function(){t.controller.abort()})}var hl=null,Vf=0,Ws=0,Zs=null;function Yw(t,i){if(hl===null){var s=hl=[];Vf=0,Ws=Ld(),Zs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Vf++,i.then(Lp,Lp),i}function Lp(){if(--Vf===0&&hl!==null){Zs!==null&&(Zs.status="fulfilled");var t=hl;hl=null,Ws=0,Zs=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Kw(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var kp=$.S;$.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Yw(t,i),kp!==null&&kp(t,i)};var ss=te(null);function Pf(){var t=ss.current;return t!==null?t:wt.pooledCache}function ac(t,i){i===null?oe(ss,ss.current):oe(ss,i.pool)}function Up(){var t=Pf();return t===null?null:{parent:Qt._currentValue,pool:t}}var fl=Error(a(460)),zp=Error(a(474)),sc=Error(a(542)),Lf={then:function(){}};function Bp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function oc(){}function jp(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(oc,oc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qp(t),t;default:if(typeof i.status=="string")i.then(oc,oc);else{if(t=wt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qp(t),t}throw dl=i,fl}}var dl=null;function Hp(){if(dl===null)throw Error(a(459));var t=dl;return dl=null,t}function qp(t){if(t===fl||t===sc)throw Error(a(483))}var Xi=!1;function kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(mt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Ju(t),Dp(t,null,s),i}return Zu(t,l,i,s),Ju(t)}function ml(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Nr(t,s)}}function zf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Bf=!1;function gl(){if(Bf){var t=Zs;if(t!==null)throw t}}function pl(t,i,s,l){Bf=!1;var f=t.updateQueue;Xi=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var C=b,F=C.next;C.next=null,E===null?d=F:E.next=F,E=C;var J=t.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==E&&(b===null?J.firstBaseUpdate=F:b.next=F,J.lastBaseUpdate=C))}if(d!==null){var ie=f.baseState;E=0,J=F=C=null,b=d;do{var K=b.lane&-536870913,X=K!==b.lane;if(X?(at&K)===K:(l&K)===K){K!==0&&K===Ws&&(Bf=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Pe=t,Me=b;K=i;var Et=s;switch(Me.tag){case 1:if(Pe=Me.payload,typeof Pe=="function"){ie=Pe.call(Et,ie,K);break e}ie=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Me.payload,K=typeof Pe=="function"?Pe.call(Et,ie,K):Pe,K==null)break e;ie=_({},ie,K);break e;case 2:Xi=!0}}K=b.callback,K!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(F=J=X,C=ie):J=J.next=X,E|=K;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;X=b,b=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(C=ie),f.baseState=C,f.firstBaseUpdate=F,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),sa|=E,t.lanes=E,t.memoizedState=ie}}function Fp(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Gp(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Fp(s[t],i)}var Js=te(null),lc=te(0);function Yp(t,i){t=Ii,oe(lc,t),oe(Js,i),Ii=t|i.baseLanes}function jf(){oe(lc,Ii),oe(Js,Js.current)}function Hf(){Ii=lc.current,he(Js),he(lc)}var Ji=0,Ye=null,vt=null,zt=null,uc=!1,eo=!1,os=!1,cc=0,yl=0,to=null,Qw=0;function Nt(){throw Error(a(321))}function qf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Bn(t[s],i[s]))return!1;return!0}function Ff(t,i,s,l,f,d){return Ji=d,Ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Dy:Oy,os=!1,d=s(l,f),os=!1,eo&&(d=Qp(i,s,l,f)),Kp(t),d}function Kp(t){$.H=pc;var i=vt!==null&&vt.next!==null;if(Ji=0,zt=vt=Ye=null,uc=!1,yl=0,to=null,i)throw Error(a(300));t===null||en||(t=t.dependencies,t!==null&&rc(t)&&(en=!0))}function Qp(t,i,s,l){Ye=t;var f=0;do{if(eo&&(to=null),yl=0,eo=!1,25<=f)throw Error(a(301));if(f+=1,zt=vt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=tS,d=i(s,l)}while(eo);return d}function $w(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?vl(i):i,t=t.useState()[0],(vt!==null?vt.memoizedState:null)!==t&&(Ye.flags|=1024),i}function Gf(){var t=cc!==0;return cc=0,t}function Yf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Kf(t){if(uc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uc=!1}Ji=0,zt=vt=Ye=null,eo=!1,yl=cc=0,to=null}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ye.memoizedState=zt=t:zt=zt.next=t,zt}function Bt(){if(vt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var i=zt===null?Ye.memoizedState:zt.next;if(i!==null)zt=i,vt=t;else{if(t===null)throw Ye.alternate===null?Error(a(467)):Error(a(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},zt===null?Ye.memoizedState=zt=t:zt=zt.next=t}return zt}function Qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var i=yl;return yl+=1,to===null&&(to=[]),t=jp(to,t,i),i=Ye,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Dy:Oy),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===ae)return yn(t)}throw Error(a(438,String(t)))}function $f(t){var i=null,s=Ye.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Qf(),Ye.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=V;return i.index++,s}function Ti(t,i){return typeof i=="function"?i(t):i}function fc(t){var i=Bt();return Xf(i,vt,t)}function Xf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var b=E=null,C=null,F=i,J=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(at&ie)===ie:(Ji&ie)===ie){var K=F.revertLane;if(K===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===Ws&&(J=!0);else if((Ji&K)===K){F=F.next,K===Ws&&(J=!0);continue}else ie={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(b=C=ie,E=d):C=C.next=ie,Ye.lanes|=K,sa|=K;ie=F.action,os&&s(d,ie),d=F.hasEagerState?F.eagerState:s(d,ie)}else K={lane:ie,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(b=C=K,E=d):C=C.next=K,Ye.lanes|=ie,sa|=ie;F=F.next}while(F!==null&&F!==i);if(C===null?E=d:C.next=b,!Bn(d,t.memoizedState)&&(en=!0,J&&(s=Zs,s!==null)))throw s;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wf(t){var i=Bt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);Bn(d,i.memoizedState)||(en=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function $p(t,i,s){var l=Ye,f=Bt(),d=ct;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!Bn((vt||f).memoizedState,s);E&&(f.memoizedState=s,en=!0),f=f.queue;var b=Zp.bind(null,l,f,t);if(_l(2048,8,b,[t]),f.getSnapshot!==i||E||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,no(9,dc(),Wp.bind(null,l,f,s,i),null),wt===null)throw Error(a(349));d||(Ji&124)!==0||Xp(l,i,s)}return s}function Xp(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ye.updateQueue,i===null?(i=Qf(),Ye.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Wp(t,i,s,l){i.value=s,i.getSnapshot=l,Jp(i)&&ey(t)}function Zp(t,i,s){return s(function(){Jp(i)&&ey(t)})}function Jp(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Bn(t,s)}catch{return!0}}function ey(t){var i=Ks(t,2);i!==null&&Yn(i,t,2)}function Zf(t){var i=Nn();if(typeof t=="function"){var s=t;if(t=s(),os){gn(!0);try{s()}finally{gn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:t},i}function ty(t,i,s,l){return t.baseState=s,Xf(t,vt,typeof l=="function"?l:Ti)}function Xw(t,i,s,l,f){if(gc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};$.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,ny(i,d)):(d.next=s.next,i.pending=s.next=d)}}function ny(t,i){var s=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=$.T,E={};$.T=E;try{var b=s(f,l),C=$.S;C!==null&&C(E,b),ry(t,i,b)}catch(F){Jf(t,i,F)}finally{$.T=d}}else try{d=s(f,l),ry(t,i,d)}catch(F){Jf(t,i,F)}}function ry(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){iy(t,i,l)},function(l){return Jf(t,i,l)}):iy(t,i,s)}function iy(t,i,s){i.status="fulfilled",i.value=s,ay(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,ny(t,s)))}function Jf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,ay(i),i=i.next;while(i!==l)}t.action=null}function ay(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function sy(t,i){return i}function oy(t,i){if(ct){var s=wt.formState;if(s!==null){e:{var l=Ye;if(ct){if(Ot){t:{for(var f=Ot,d=qr;f.nodeType!==8;){if(!d){f=null;break t}if(f=br(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ot=br(f.nextSibling),l=f.data==="F!";break e}}rs(l)}l=!1}l&&(i=s[0])}}return s=Nn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:i},s.queue=l,s=Ry.bind(null,Ye,l),l.dispatch=s,l=Zf(!1),d=id.bind(null,Ye,!1,l.queue),l=Nn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,s=Xw.bind(null,Ye,f,d,s),f.dispatch=s,l.memoizedState=t,[i,s,!1]}function ly(t){var i=Bt();return uy(i,vt,t)}function uy(t,i,s){if(i=Xf(t,i,sy)[0],t=fc(Ti)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=vl(i)}catch(E){throw E===fl?sc:E}else l=i;i=Bt();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(Ye.flags|=2048,no(9,dc(),Ww.bind(null,f,s),null)),[l,d,t]}function Ww(t,i){t.action=i}function cy(t){var i=Bt(),s=vt;if(s!==null)return uy(i,s,t);Bt(),i=i.memoizedState,s=Bt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function no(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ye.updateQueue,i===null&&(i=Qf(),Ye.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function dc(){return{destroy:void 0,resource:void 0}}function hy(){return Bt().memoizedState}function mc(t,i,s,l){var f=Nn();l=l===void 0?null:l,Ye.flags|=t,f.memoizedState=no(1|i,dc(),s,l)}function _l(t,i,s,l){var f=Bt();l=l===void 0?null:l;var d=f.memoizedState.inst;vt!==null&&l!==null&&qf(l,vt.memoizedState.deps)?f.memoizedState=no(i,d,s,l):(Ye.flags|=t,f.memoizedState=no(1|i,d,s,l))}function fy(t,i){mc(8390656,8,t,i)}function dy(t,i){_l(2048,8,t,i)}function my(t,i){return _l(4,2,t,i)}function gy(t,i){return _l(4,4,t,i)}function py(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function yy(t,i,s){s=s!=null?s.concat([t]):null,_l(4,4,py.bind(null,i,t),s)}function ed(){}function vy(t,i){var s=Bt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&qf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function _y(t,i){var s=Bt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&qf(i,l[1]))return l[0];if(l=t(),os){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[l,i],l}function td(t,i,s){return s===void 0||(Ji&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=bv(),Ye.lanes|=t,sa|=t,s)}function Ey(t,i,s,l){return Bn(s,i)?s:Js.current!==null?(t=td(t,s,l),Bn(t,i)||(en=!0),t):(Ji&42)===0?(en=!0,t.memoizedState=s):(t=bv(),Ye.lanes|=t,sa|=t,i)}function Ty(t,i,s,l,f){var d=ce.p;ce.p=d!==0&&8>d?d:8;var E=$.T,b={};$.T=b,id(t,!1,i,s);try{var C=f(),F=$.S;if(F!==null&&F(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=Kw(C,l);El(t,i,J,Gn(t))}else El(t,i,l,Gn(t))}catch(ie){El(t,i,{then:function(){},status:"rejected",reason:ie},Gn())}finally{ce.p=d,$.T=E}}function Zw(){}function nd(t,i,s,l){if(t.tag!==5)throw Error(a(476));var f=by(t).queue;Ty(t,f,i,ge,s===null?Zw:function(){return wy(t),s(l)})}function by(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:ge},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function wy(t){var i=by(t).next.queue;El(t,i,{},Gn())}function rd(){return yn(Ul)}function Sy(){return Bt().memoizedState}function Ay(){return Bt().memoizedState}function Jw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Gn();t=Wi(s);var l=Zi(i,t,s);l!==null&&(Yn(l,i,s),ml(l,i,s)),i={cache:xf()},t.payload=i;return}i=i.return}}function eS(t,i,s){var l=Gn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},gc(t)?Iy(i,s):(s=wf(t,i,s,l),s!==null&&(Yn(s,t,l),Cy(s,i,l)))}function Ry(t,i,s){var l=Gn();El(t,i,s,l)}function El(t,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(gc(t))Iy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,b=d(E,s);if(f.hasEagerState=!0,f.eagerState=b,Bn(b,E))return Zu(t,i,f,0),wt===null&&Wu(),!1}catch{}finally{}if(s=wf(t,i,f,l),s!==null)return Yn(s,t,l),Cy(s,i,l),!0}return!1}function id(t,i,s,l){if(l={lane:2,revertLane:Ld(),action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(a(479))}else i=wf(t,s,l,2),i!==null&&Yn(i,t,2)}function gc(t){var i=t.alternate;return t===Ye||i!==null&&i===Ye}function Iy(t,i){eo=uc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Cy(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Nr(t,s)}}var pc={readContext:yn,use:hc,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},Dy={readContext:yn,use:hc,useCallback:function(t,i){return Nn().memoizedState=[t,i===void 0?null:i],t},useContext:yn,useEffect:fy,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,mc(4194308,4,py.bind(null,i,t),s)},useLayoutEffect:function(t,i){return mc(4194308,4,t,i)},useInsertionEffect:function(t,i){mc(4,2,t,i)},useMemo:function(t,i){var s=Nn();i=i===void 0?null:i;var l=t();if(os){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Nn();if(s!==void 0){var f=s(i);if(os){gn(!0);try{s(i)}finally{gn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=eS.bind(null,Ye,t),[l.memoizedState,t]},useRef:function(t){var i=Nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Zf(t);var i=t.queue,s=Ry.bind(null,Ye,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:ed,useDeferredValue:function(t,i){var s=Nn();return td(s,t,i)},useTransition:function(){var t=Zf(!1);return t=Ty.bind(null,Ye,t.queue,!0,!1),Nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ye,f=Nn();if(ct){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),wt===null)throw Error(a(349));(at&124)!==0||Xp(l,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,fy(Zp.bind(null,l,d,t),[t]),l.flags|=2048,no(9,dc(),Wp.bind(null,l,d,s,i),null),s},useId:function(){var t=Nn(),i=wt.identifierPrefix;if(ct){var s=vi,l=yi;s=(l&~(1<<32-Lt(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=cc++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=Qw++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:rd,useFormState:oy,useActionState:oy,useOptimistic:function(t){var i=Nn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=id.bind(null,Ye,!0,s),s.dispatch=i,[t,i]},useMemoCache:$f,useCacheRefresh:function(){return Nn().memoizedState=Jw.bind(null,Ye)}},Oy={readContext:yn,use:hc,useCallback:vy,useContext:yn,useEffect:dy,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:_y,useReducer:fc,useRef:hy,useState:function(){return fc(Ti)},useDebugValue:ed,useDeferredValue:function(t,i){var s=Bt();return Ey(s,vt.memoizedState,t,i)},useTransition:function(){var t=fc(Ti)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:vl(t),i]},useSyncExternalStore:$p,useId:Sy,useHostTransitionStatus:rd,useFormState:ly,useActionState:ly,useOptimistic:function(t,i){var s=Bt();return ty(s,vt,t,i)},useMemoCache:$f,useCacheRefresh:Ay},tS={readContext:yn,use:hc,useCallback:vy,useContext:yn,useEffect:dy,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:_y,useReducer:Wf,useRef:hy,useState:function(){return Wf(Ti)},useDebugValue:ed,useDeferredValue:function(t,i){var s=Bt();return vt===null?td(s,t,i):Ey(s,vt.memoizedState,t,i)},useTransition:function(){var t=Wf(Ti)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:vl(t),i]},useSyncExternalStore:$p,useId:Sy,useHostTransitionStatus:rd,useFormState:cy,useActionState:cy,useOptimistic:function(t,i){var s=Bt();return vt!==null?ty(s,vt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:$f,useCacheRefresh:Ay},ro=null,Tl=0;function yc(t){var i=Tl;return Tl+=1,ro===null&&(ro=[]),jp(ro,t,i)}function bl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function vc(t,i){throw i.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function My(t){var i=t._init;return i(t._payload)}function Ny(t){function i(U,P){if(t){var H=U.deletions;H===null?(U.deletions=[P],U.flags|=16):H.push(P)}}function s(U,P){if(!t)return null;for(;P!==null;)i(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function f(U,P){return U=pi(U,P),U.index=0,U.sibling=null,U}function d(U,P,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<P?(U.flags|=67108866,P):H):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,P,H,ee){return P===null||P.tag!==6?(P=Af(H,U.mode,ee),P.return=U,P):(P=f(P,H),P.return=U,P)}function C(U,P,H,ee){var Ee=H.type;return Ee===O?J(U,P,H.props.children,ee,H.key):P!==null&&(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&My(Ee)===P.type)?(P=f(P,H.props),bl(P,H),P.return=U,P):(P=ec(H.type,H.key,H.props,null,U.mode,ee),bl(P,H),P.return=U,P)}function F(U,P,H,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=Rf(H,U.mode,ee),P.return=U,P):(P=f(P,H.children||[]),P.return=U,P)}function J(U,P,H,ee,Ee){return P===null||P.tag!==7?(P=Ja(H,U.mode,ee,Ee),P.return=U,P):(P=f(P,H),P.return=U,P)}function ie(U,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Af(""+P,U.mode,H),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return H=ec(P.type,P.key,P.props,null,U.mode,H),bl(H,P),H.return=U,H;case I:return P=Rf(P,U.mode,H),P.return=U,P;case A:var ee=P._init;return P=ee(P._payload),ie(U,P,H)}if(He(P)||k(P))return P=Ja(P,U.mode,H,null),P.return=U,P;if(typeof P.then=="function")return ie(U,yc(P),H);if(P.$$typeof===ae)return ie(U,ic(U,P),H);vc(U,P)}return null}function K(U,P,H,ee){var Ee=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:b(U,P,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===Ee?C(U,P,H,ee):null;case I:return H.key===Ee?F(U,P,H,ee):null;case A:return Ee=H._init,H=Ee(H._payload),K(U,P,H,ee)}if(He(H)||k(H))return Ee!==null?null:J(U,P,H,ee,null);if(typeof H.then=="function")return K(U,P,yc(H),ee);if(H.$$typeof===ae)return K(U,P,ic(U,H),ee);vc(U,H)}return null}function X(U,P,H,ee,Ee){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(H)||null,b(P,U,""+ee,Ee);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case T:return U=U.get(ee.key===null?H:ee.key)||null,C(P,U,ee,Ee);case I:return U=U.get(ee.key===null?H:ee.key)||null,F(P,U,ee,Ee);case A:var $e=ee._init;return ee=$e(ee._payload),X(U,P,H,ee,Ee)}if(He(ee)||k(ee))return U=U.get(H)||null,J(P,U,ee,Ee,null);if(typeof ee.then=="function")return X(U,P,H,yc(ee),Ee);if(ee.$$typeof===ae)return X(U,P,H,ic(P,ee),Ee);vc(P,ee)}return null}function Pe(U,P,H,ee){for(var Ee=null,$e=null,Re=P,xe=P=0,nn=null;Re!==null&&xe<H.length;xe++){Re.index>xe?(nn=Re,Re=null):nn=Re.sibling;var lt=K(U,Re,H[xe],ee);if(lt===null){Re===null&&(Re=nn);break}t&&Re&&lt.alternate===null&&i(U,Re),P=d(lt,P,xe),$e===null?Ee=lt:$e.sibling=lt,$e=lt,Re=nn}if(xe===H.length)return s(U,Re),ct&&ts(U,xe),Ee;if(Re===null){for(;xe<H.length;xe++)Re=ie(U,H[xe],ee),Re!==null&&(P=d(Re,P,xe),$e===null?Ee=Re:$e.sibling=Re,$e=Re);return ct&&ts(U,xe),Ee}for(Re=l(Re);xe<H.length;xe++)nn=X(Re,U,xe,H[xe],ee),nn!==null&&(t&&nn.alternate!==null&&Re.delete(nn.key===null?xe:nn.key),P=d(nn,P,xe),$e===null?Ee=nn:$e.sibling=nn,$e=nn);return t&&Re.forEach(function(ga){return i(U,ga)}),ct&&ts(U,xe),Ee}function Me(U,P,H,ee){if(H==null)throw Error(a(151));for(var Ee=null,$e=null,Re=P,xe=P=0,nn=null,lt=H.next();Re!==null&&!lt.done;xe++,lt=H.next()){Re.index>xe?(nn=Re,Re=null):nn=Re.sibling;var ga=K(U,Re,lt.value,ee);if(ga===null){Re===null&&(Re=nn);break}t&&Re&&ga.alternate===null&&i(U,Re),P=d(ga,P,xe),$e===null?Ee=ga:$e.sibling=ga,$e=ga,Re=nn}if(lt.done)return s(U,Re),ct&&ts(U,xe),Ee;if(Re===null){for(;!lt.done;xe++,lt=H.next())lt=ie(U,lt.value,ee),lt!==null&&(P=d(lt,P,xe),$e===null?Ee=lt:$e.sibling=lt,$e=lt);return ct&&ts(U,xe),Ee}for(Re=l(Re);!lt.done;xe++,lt=H.next())lt=X(Re,U,xe,lt.value,ee),lt!==null&&(t&&lt.alternate!==null&&Re.delete(lt.key===null?xe:lt.key),P=d(lt,P,xe),$e===null?Ee=lt:$e.sibling=lt,$e=lt);return t&&Re.forEach(function(n1){return i(U,n1)}),ct&&ts(U,xe),Ee}function Et(U,P,H,ee){if(typeof H=="object"&&H!==null&&H.type===O&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var Ee=H.key;P!==null;){if(P.key===Ee){if(Ee=H.type,Ee===O){if(P.tag===7){s(U,P.sibling),ee=f(P,H.props.children),ee.return=U,U=ee;break e}}else if(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&My(Ee)===P.type){s(U,P.sibling),ee=f(P,H.props),bl(ee,H),ee.return=U,U=ee;break e}s(U,P);break}else i(U,P);P=P.sibling}H.type===O?(ee=Ja(H.props.children,U.mode,ee,H.key),ee.return=U,U=ee):(ee=ec(H.type,H.key,H.props,null,U.mode,ee),bl(ee,H),ee.return=U,U=ee)}return E(U);case I:e:{for(Ee=H.key;P!==null;){if(P.key===Ee)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){s(U,P.sibling),ee=f(P,H.children||[]),ee.return=U,U=ee;break e}else{s(U,P);break}else i(U,P);P=P.sibling}ee=Rf(H,U.mode,ee),ee.return=U,U=ee}return E(U);case A:return Ee=H._init,H=Ee(H._payload),Et(U,P,H,ee)}if(He(H))return Pe(U,P,H,ee);if(k(H)){if(Ee=k(H),typeof Ee!="function")throw Error(a(150));return H=Ee.call(H),Me(U,P,H,ee)}if(typeof H.then=="function")return Et(U,P,yc(H),ee);if(H.$$typeof===ae)return Et(U,P,ic(U,H),ee);vc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(s(U,P.sibling),ee=f(P,H),ee.return=U,U=ee):(s(U,P),ee=Af(H,U.mode,ee),ee.return=U,U=ee),E(U)):s(U,P)}return function(U,P,H,ee){try{Tl=0;var Ee=Et(U,P,H,ee);return ro=null,Ee}catch(Re){if(Re===fl||Re===sc)throw Re;var $e=jn(29,Re,null,U.mode);return $e.lanes=ee,$e.return=U,$e}finally{}}}var io=Ny(!0),xy=Ny(!1),cr=te(null),Fr=null;function ea(t){var i=t.alternate;oe($t,$t.current&1),oe(cr,t),Fr===null&&(i===null||Js.current!==null||i.memoizedState!==null)&&(Fr=t)}function Vy(t){if(t.tag===22){if(oe($t,$t.current),oe(cr,t),Fr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Fr=t)}}else ta()}function ta(){oe($t,$t.current),oe(cr,cr.current)}function bi(t){he(cr),Fr===t&&(Fr=null),he($t)}var $t=te(0);function _c(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Qd(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ad(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:_({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var sd={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Gn(),f=Wi(l);f.payload=i,s!=null&&(f.callback=s),i=Zi(t,f,l),i!==null&&(Yn(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Gn(),f=Wi(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=Zi(t,f,l),i!==null&&(Yn(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Gn(),l=Wi(s);l.tag=2,i!=null&&(l.callback=i),i=Zi(t,l,s),i!==null&&(Yn(i,t,s),ml(i,t,s))}};function Py(t,i,s,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!il(s,l)||!il(f,d):!0}function Ly(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&sd.enqueueReplaceState(i,i.state,null)}function ls(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=_({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var Ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ky(t){Ec(t)}function Uy(t){console.error(t)}function zy(t){Ec(t)}function Tc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function By(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function od(t,i,s){return s=Wi(s),s.tag=3,s.payload={element:null},s.callback=function(){Tc(t,i)},s}function jy(t){return t=Wi(t),t.tag=3,t}function Hy(t,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){By(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){By(i,s,l),typeof f!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function nS(t,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&ul(i,s,f,!0),s=cr.current,s!==null){switch(s.tag){case 13:return Fr===null?Md():s.alternate===null&&Mt===0&&(Mt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Lf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),xd(t,l,f)),!1;case 22:return s.flags|=65536,l===Lf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),xd(t,l,f)),!1}throw Error(a(435,s.tag))}return xd(t,l,f),Md(),!1}if(ct)return i=cr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Df&&(t=Error(a(422),{cause:l}),ll(sr(t,s)))):(l!==Df&&(i=Error(a(423),{cause:l}),ll(sr(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=sr(l,s),f=od(t.stateNode,l,f),zf(t,f),Mt!==4&&(Mt=2)),!1;var d=Error(a(520),{cause:l});if(d=sr(d,s),Dl===null?Dl=[d]:Dl.push(d),Mt!==4&&(Mt=2),i===null)return!0;l=sr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=od(s.stateNode,l,t),zf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(oa===null||!oa.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=jy(f),Hy(f,t,s,l),zf(s,f),!1}s=s.return}while(s!==null);return!1}var qy=Error(a(461)),en=!1;function ln(t,i,s,l){i.child=t===null?xy(i,null,s,l):io(i,t.child,s,l)}function Fy(t,i,s,l,f){s=s.render;var d=i.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return as(i),l=Ff(t,i,s,E,d,f),b=Gf(),t!==null&&!en?(Yf(t,i,f),wi(t,i,f)):(ct&&b&&If(i),i.flags|=1,ln(t,i,l,f),i.child)}function Gy(t,i,s,l,f){if(t===null){var d=s.type;return typeof d=="function"&&!Sf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Yy(t,i,d,l,f)):(t=ec(s.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!gd(t,f)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:il,s(E,l)&&t.ref===i.ref)return wi(t,i,f)}return i.flags|=1,t=pi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Yy(t,i,s,l,f){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===i.ref)if(en=!1,i.pendingProps=l=d,gd(t,f))(t.flags&131072)!==0&&(en=!0);else return i.lanes=t.lanes,wi(t,i,f)}return ld(t,i,s,l,f)}function Ky(t,i,s){var l=i.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(f=i.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Qy(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(i,d!==null?d.cachePool:null),d!==null?Yp(i,d):jf(),Vy(i);else return i.lanes=i.childLanes=536870912,Qy(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(ac(i,d.cachePool),Yp(i,d),ta(),i.memoizedState=null):(t!==null&&ac(i,null),jf(),ta());return ln(t,i,f,s),i.child}function Qy(t,i,s,l){var f=Pf();return f=f===null?null:{parent:Qt._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&ac(i,null),jf(),Vy(i),t!==null&&ul(t,i,l,!0),null}function bc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function ld(t,i,s,l,f){return as(i),s=Ff(t,i,s,l,void 0,f),l=Gf(),t!==null&&!en?(Yf(t,i,f),wi(t,i,f)):(ct&&l&&If(i),i.flags|=1,ln(t,i,s,f),i.child)}function $y(t,i,s,l,f,d){return as(i),i.updateQueue=null,s=Qp(i,l,s,f),Kp(t),l=Gf(),t!==null&&!en?(Yf(t,i,d),wi(t,i,d)):(ct&&l&&If(i),i.flags|=1,ln(t,i,s,d),i.child)}function Xy(t,i,s,l,f){if(as(i),i.stateNode===null){var d=Qs,E=s.contextType;typeof E=="object"&&E!==null&&(d=yn(E)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},kf(i),E=s.contextType,d.context=typeof E=="object"&&E!==null?yn(E):Qs,d.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(ad(i,s,E,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&sd.enqueueReplaceState(d,d.state,null),pl(i,l,d,f),gl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,C=ls(s,b);d.props=C;var F=d.context,J=s.contextType;E=Qs,typeof J=="object"&&J!==null&&(E=yn(J));var ie=s.getDerivedStateFromProps;J=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==E)&&Ly(i,d,l,E),Xi=!1;var K=i.memoizedState;d.state=K,pl(i,l,d,f),gl(),F=i.memoizedState,b||K!==F||Xi?(typeof ie=="function"&&(ad(i,s,ie,l),F=i.memoizedState),(C=Xi||Py(i,s,C,l,K,F,E))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Uf(t,i),E=i.memoizedProps,J=ls(s,E),d.props=J,ie=i.pendingProps,K=d.context,F=s.contextType,C=Qs,typeof F=="object"&&F!==null&&(C=yn(F)),b=s.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ie||K!==C)&&Ly(i,d,l,C),Xi=!1,K=i.memoizedState,d.state=K,pl(i,l,d,f),gl();var X=i.memoizedState;E!==ie||K!==X||Xi||t!==null&&t.dependencies!==null&&rc(t.dependencies)?(typeof b=="function"&&(ad(i,s,b,l),X=i.memoizedState),(J=Xi||Py(i,s,J,l,K,X,C)||t!==null&&t.dependencies!==null&&rc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=C,l=J):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,bc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=io(i,t.child,null,f),i.child=io(i,null,s,f)):ln(t,i,s,f),i.memoizedState=d.state,t=i.child):t=wi(t,i,f),t}function Wy(t,i,s,l){return ol(),i.flags|=256,ln(t,i,s,l),i.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:Up()}}function hd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=hr),t}function Zy(t,i,s){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:($t.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(ct){if(f?ea(i):ta(),ct){var b=Ot,C;if(C=b){e:{for(C=b,b=qr;C.nodeType!==8;){if(!b){b=null;break e}if(C=br(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(i.memoizedState={dehydrated:b,treeContext:es!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},C=jn(18,null,null,0),C.stateNode=b,C.return=i,i.child=C,Dn=i,Ot=null,C=!0):C=!1}C||rs(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Qd(b)?i.lanes=32:i.lanes=536870912,null;bi(i)}return b=l.children,l=l.fallback,f?(ta(),f=i.mode,b=wc({mode:"hidden",children:b},f),l=Ja(l,f,s,null),b.return=i,l.return=i,b.sibling=l,i.child=b,f=i.child,f.memoizedState=cd(s),f.childLanes=hd(t,E,s),i.memoizedState=ud,l):(ea(i),fd(i,b))}if(C=t.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)i.flags&256?(ea(i),i.flags&=-257,i=dd(t,i,s)):i.memoizedState!==null?(ta(),i.child=t.child,i.flags|=128,i=null):(ta(),f=l.fallback,b=i.mode,l=wc({mode:"visible",children:l.children},b),f=Ja(f,b,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,io(i,t.child,null,s),l=i.child,l.memoizedState=cd(s),l.childLanes=hd(t,E,s),i.memoizedState=ud,i=f);else if(ea(i),Qd(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(a(419)),l.stack="",l.digest=E,ll({value:l,source:null,stack:null}),i=dd(t,i,s)}else if(en||ul(t,i,s,!1),E=(s&t.childLanes)!==0,en||E){if(E=wt,E!==null&&(l=s&-s,l=(l&42)!==0?1:xr(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ks(t,l),Yn(E,t,l),qy;b.data==="$?"||Md(),i=dd(t,i,s)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,Ot=br(b.nextSibling),Dn=i,ct=!0,ns=null,qr=!1,t!==null&&(lr[ur++]=yi,lr[ur++]=vi,lr[ur++]=es,yi=t.id,vi=t.overflow,es=i),i=fd(i,l.children),i.flags|=4096);return i}return f?(ta(),f=l.fallback,b=i.mode,C=t.child,F=C.sibling,l=pi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,F!==null?f=pi(F,f):(f=Ja(f,b,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,b=t.child.memoizedState,b===null?b=cd(s):(C=b.cachePool,C!==null?(F=Qt._currentValue,C=C.parent!==F?{parent:F,pool:F}:C):C=Up(),b={baseLanes:b.baseLanes|s,cachePool:C}),f.memoizedState=b,f.childLanes=hd(t,E,s),i.memoizedState=ud,l):(ea(i),s=t.child,t=s.sibling,s=pi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=s,i.memoizedState=null,s)}function fd(t,i){return i=wc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function wc(t,i){return t=jn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function dd(t,i,s){return io(i,t.child,null,s),t=fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Jy(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Mf(t.return,i,s)}function md(t,i,s,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=f)}function ev(t,i,s){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(ln(t,i,l.children,s),l=$t.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jy(t,s,i);else if(t.tag===19)Jy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe($t,l),f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&_c(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),md(i,!1,f,s,d);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&_c(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}md(i,!0,s,null,d);break;case"together":md(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function wi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),sa|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(ul(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=pi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=pi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function gd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&rc(t)))}function rS(t,i,s){switch(i.tag){case 3:pt(i,i.stateNode.containerInfo),$i(i,Qt,t.memoizedState.cache),ol();break;case 27:case 5:Rt(i);break;case 4:pt(i,i.stateNode.containerInfo);break;case 10:$i(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ea(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Zy(t,i,s):(ea(i),t=wi(t,i,s),t!==null?t.sibling:null);ea(i);break;case 19:var f=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(ul(t,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return ev(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe($t,$t.current),l)break;return null;case 22:case 23:return i.lanes=0,Ky(t,i,s);case 24:$i(i,Qt,t.memoizedState.cache)}return wi(t,i,s)}function tv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)en=!0;else{if(!gd(t,s)&&(i.flags&128)===0)return en=!1,rS(t,i,s);en=(t.flags&131072)!==0}else en=!1,ct&&(i.flags&1048576)!==0&&Mp(i,nc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Sf(l)?(t=ls(l,t),i.tag=1,i=Xy(null,i,l,t,s)):(i.tag=0,i=ld(null,i,l,t,s));else{if(l!=null){if(f=l.$$typeof,f===me){i.tag=11,i=Fy(null,i,l,t,s);break e}else if(f===x){i.tag=14,i=Gy(null,i,l,t,s);break e}}throw i=ze(l)||l,Error(a(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=ls(l,i.pendingProps),Xy(t,i,l,f,s);case 3:e:{if(pt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Uf(t,i),pl(i,l,null,s);var E=i.memoizedState;if(l=E.cache,$i(i,Qt,l),l!==d.cache&&Nf(i,[Qt],s,!0),gl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Wy(t,i,l,s);break e}else if(l!==f){f=sr(Error(a(424)),i),ll(f),i=Wy(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ot=br(t.firstChild),Dn=i,ct=!0,ns=null,qr=!0,s=xy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ol(),l===f){i=wi(t,i,s);break e}ln(t,i,l,s)}i=i.child}return i;case 26:return bc(t,i),t===null?(s=a_(i.type,null,i.pendingProps,null))?i.memoizedState=s:ct||(s=i.type,t=i.pendingProps,l=kc(Ce.current).createElement(s),l[ne]=i,l[le]=t,cn(l,s,t),nt(l),i.stateNode=l):i.memoizedState=a_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Rt(i),t===null&&ct&&(l=i.stateNode=n_(i.type,i.pendingProps,Ce.current),Dn=i,qr=!0,f=Ot,ca(i.type)?($d=f,Ot=br(l.firstChild)):Ot=f),ln(t,i,i.pendingProps.children,s),bc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ct&&((f=l=Ot)&&(l=MS(l,i.type,i.pendingProps,qr),l!==null?(i.stateNode=l,Dn=i,Ot=br(l.firstChild),qr=!1,f=!0):f=!1),f||rs(i)),Rt(i),f=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Gd(f,d)?l=null:E!==null&&Gd(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Ff(t,i,$w,null,null,s),Ul._currentValue=f),bc(t,i),ln(t,i,l,s),i.child;case 6:return t===null&&ct&&((t=s=Ot)&&(s=NS(s,i.pendingProps,qr),s!==null?(i.stateNode=s,Dn=i,Ot=null,t=!0):t=!1),t||rs(i)),null;case 13:return Zy(t,i,s);case 4:return pt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=io(i,null,l,s):ln(t,i,l,s),i.child;case 11:return Fy(t,i,i.type,i.pendingProps,s);case 7:return ln(t,i,i.pendingProps,s),i.child;case 8:return ln(t,i,i.pendingProps.children,s),i.child;case 12:return ln(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,$i(i,i.type,l.value),ln(t,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,as(i),f=yn(f),l=l(f),i.flags|=1,ln(t,i,l,s),i.child;case 14:return Gy(t,i,i.type,i.pendingProps,s);case 15:return Yy(t,i,i.type,i.pendingProps,s);case 19:return ev(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=wc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=pi(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Ky(t,i,s);case 24:return as(i),l=yn(Qt),t===null?(f=Pf(),f===null&&(f=wt,d=xf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:l,cache:f},kf(i),$i(i,Qt,f)):((t.lanes&s)!==0&&(Uf(t,i),pl(i,null,null,s),gl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),$i(i,Qt,l)):(l=d.cache,$i(i,Qt,l),l!==f.cache&&Nf(i,[Qt],s,!0))),ln(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Si(t){t.flags|=4}function nv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!c_(i)){if(i=cr.current,i!==null&&((at&4194048)===at?Fr!==null:(at&62914560)!==at&&(at&536870912)===0||i!==Fr))throw dl=Lf,zp;t.flags|=8192}}function Sc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?za():536870912,t.lanes|=i,lo|=i)}function wl(t,i){if(!ct)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ct(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function iS(t,i,s){var l=i.pendingProps;switch(Cf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(i),null;case 1:return Ct(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ei(Qt),$n(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(sl(i)?Si(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vp())),Ct(i),null;case 26:return s=i.memoizedState,t===null?(Si(i),s!==null?(Ct(i),nv(i,s)):(Ct(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Si(i),Ct(i),nv(i,s)):(Ct(i),i.flags&=-16777217):(t.memoizedProps!==l&&Si(i),Ct(i),i.flags&=-16777217),null;case 27:mn(i),s=Ce.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Si(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Ct(i),null}t=Se.current,sl(i)?Np(i):(t=n_(f,l,s),i.stateNode=t,Si(i))}return Ct(i),null;case 5:if(mn(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Si(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Ct(i),null}if(t=Se.current,sl(i))Np(i);else{switch(f=kc(Ce.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}t[ne]=i,t[le]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(cn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Si(i)}}return Ct(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Si(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ce.current,sl(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,f=Dn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[ne]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||$v(t.nodeValue,s)),t||rs(i)}else t=kc(t).createTextNode(l),t[ne]=i,i.stateNode=t}return Ct(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=sl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ne]=i}else ol(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ct(i),f=!1}else f=Vp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(bi(i),i):(bi(i),null)}if(bi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Sc(i,i.updateQueue),Ct(i),null;case 4:return $n(),t===null&&Bd(i.stateNode.containerInfo),Ct(i),null;case 10:return Ei(i.type),Ct(i),null;case 19:if(he($t),f=i.memoizedState,f===null)return Ct(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)wl(f,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=_c(t),d!==null){for(i.flags|=128,wl(f,!1),t=d.updateQueue,i.updateQueue=t,Sc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Op(s,t),s=s.sibling;return oe($t,$t.current&1|2),i.child}t=t.sibling}f.tail!==null&&Sn()>Ic&&(i.flags|=128,l=!0,wl(f,!1),i.lanes=4194304)}else{if(!l)if(t=_c(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Sc(i,t),wl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!ct)return Ct(i),null}else 2*Sn()-f.renderingStartTime>Ic&&s!==536870912&&(i.flags|=128,l=!0,wl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(t=f.last,t!==null?t.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Sn(),i.sibling=null,t=$t.current,oe($t,l?t&1|2:t&1),i):(Ct(i),null);case 22:case 23:return bi(i),Hf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Ct(i),i.subtreeFlags&6&&(i.flags|=8192)):Ct(i),s=i.updateQueue,s!==null&&Sc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&he(ss),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ei(Qt),Ct(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function aS(t,i){switch(Cf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ei(Qt),$n(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return mn(i),null;case 13:if(bi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ol()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return he($t),null;case 4:return $n(),null;case 10:return Ei(i.type),null;case 22:case 23:return bi(i),Hf(),t!==null&&he(ss),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ei(Qt),null;case 25:return null;default:return null}}function rv(t,i){switch(Cf(i),i.tag){case 3:Ei(Qt),$n();break;case 26:case 27:case 5:mn(i);break;case 4:$n();break;case 13:bi(i);break;case 19:he($t);break;case 10:Ei(i.type);break;case 22:case 23:bi(i),Hf(),t!==null&&he(ss);break;case 24:Ei(Qt)}}function Sl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var d=s.create,E=s.inst;l=d(),E.destroy=l}s=s.next}while(s!==f)}}catch(b){bt(i,i.return,b)}}function na(t,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=i;var C=s,F=b;try{F()}catch(J){bt(f,C,J)}}}l=l.next}while(l!==d)}}catch(J){bt(i,i.return,J)}}function iv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Gp(i,s)}catch(l){bt(t,t.return,l)}}}function av(t,i,s){s.props=ls(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){bt(t,i,l)}}function Al(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){bt(t,i,f)}}function Gr(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){bt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){bt(t,i,f)}else s.current=null}function sv(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){bt(t,t.return,f)}}function pd(t,i,s){try{var l=t.stateNode;RS(l,t.type,s,i),l[le]=i}catch(f){bt(t,t.return,f)}}function ov(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ca(t.type)||t.tag===4}function yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ov(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ca(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Lc));else if(l!==4&&(l===27&&ca(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,s),t=t.sibling;t!==null;)vd(t,i,s),t=t.sibling}function Ac(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&ca(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ac(t,i,s),t=t.sibling;t!==null;)Ac(t,i,s),t=t.sibling}function lv(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);cn(i,l,s),i[ne]=t,i[le]=s}catch(d){bt(t,t.return,d)}}var Ai=!1,xt=!1,_d=!1,uv=typeof WeakSet=="function"?WeakSet:Set,tn=null;function sS(t,i){if(t=t.containerInfo,qd=qc,t=Ep(t),yf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var E=0,b=-1,C=-1,F=0,J=0,ie=t,K=null;t:for(;;){for(var X;ie!==s||f!==0&&ie.nodeType!==3||(b=E+f),ie!==d||l!==0&&ie.nodeType!==3||(C=E+l),ie.nodeType===3&&(E+=ie.nodeValue.length),(X=ie.firstChild)!==null;)K=ie,ie=X;for(;;){if(ie===t)break t;if(K===s&&++F===f&&(b=E),K===d&&++J===l&&(C=E),(X=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=X}s=b===-1||C===-1?null:{start:b,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Fd={focusedElem:t,selectionRange:s},qc=!1,tn=i;tn!==null;)if(i=tn,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,tn=t;else for(;tn!==null;){switch(i=tn,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Pe=ls(s.type,f,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Pe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Me){bt(s,s.return,Me)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Kd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,tn=t;break}tn=i.return}}function cv(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ra(t,s),l&4&&Sl(5,s);break;case 1:if(ra(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(E){bt(s,s.return,E)}else{var f=ls(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){bt(s,s.return,E)}}l&64&&iv(s),l&512&&Al(s,s.return);break;case 3:if(ra(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Gp(t,i)}catch(E){bt(s,s.return,E)}}break;case 27:i===null&&l&4&&lv(s);case 26:case 5:ra(t,s),i===null&&l&4&&sv(s),l&512&&Al(s,s.return);break;case 12:ra(t,s);break;case 13:ra(t,s),l&4&&dv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=gS.bind(null,s),xS(t,s))));break;case 22:if(l=s.memoizedState!==null||Ai,!l){i=i!==null&&i.memoizedState!==null||xt,f=Ai;var d=xt;Ai=l,(xt=i)&&!d?ia(t,s,(s.subtreeFlags&8772)!==0):ra(t,s),Ai=f,xt=d}break;case 30:break;default:ra(t,s)}}function hv(t){var i=t.alternate;i!==null&&(t.alternate=null,hv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&be(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var It=null,xn=!1;function Ri(t,i,s){for(s=s.child;s!==null;)fv(t,i,s),s=s.sibling}function fv(t,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ut,s)}catch{}switch(s.tag){case 26:xt||Gr(s,i),Ri(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xt||Gr(s,i);var l=It,f=xn;ca(s.type)&&(It=s.stateNode,xn=!1),Ri(t,i,s),Vl(s.stateNode),It=l,xn=f;break;case 5:xt||Gr(s,i);case 6:if(l=It,f=xn,It=null,Ri(t,i,s),It=l,xn=f,It!==null)if(xn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(s.stateNode)}catch(d){bt(s,i,d)}else try{It.removeChild(s.stateNode)}catch(d){bt(s,i,d)}break;case 18:It!==null&&(xn?(t=It,e_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Hl(t)):e_(It,s.stateNode));break;case 4:l=It,f=xn,It=s.stateNode.containerInfo,xn=!0,Ri(t,i,s),It=l,xn=f;break;case 0:case 11:case 14:case 15:xt||na(2,s,i),xt||na(4,s,i),Ri(t,i,s);break;case 1:xt||(Gr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&av(s,i,l)),Ri(t,i,s);break;case 21:Ri(t,i,s);break;case 22:xt=(l=xt)||s.memoizedState!==null,Ri(t,i,s),xt=l;break;default:Ri(t,i,s)}}function dv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hl(t)}catch(s){bt(i,i.return,s)}}function oS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new uv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new uv),i;default:throw Error(a(435,t.tag))}}function Ed(t,i){var s=oS(t);i.forEach(function(l){var f=pS.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}function Hn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=t,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(ca(b.type)){It=b.stateNode,xn=!1;break e}break;case 5:It=b.stateNode,xn=!1;break e;case 3:case 4:It=b.stateNode.containerInfo,xn=!0;break e}b=b.return}if(It===null)throw Error(a(160));fv(d,E,f),It=null,xn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)mv(i,t),i=i.sibling}var Tr=null;function mv(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Hn(i,t),qn(t),l&4&&(na(3,t,t.return),Sl(3,t),na(5,t,t.return));break;case 1:Hn(i,t),qn(t),l&512&&(xt||s===null||Gr(s,s.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Tr;if(Hn(i,t),qn(t),l&512&&(xt||s===null||Gr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Oe]||d[ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),cn(d,l,s),d[ne]=t,nt(d),l=d;break e;case"link":var E=l_("link","href",f).get(l+(s.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(b,1);break t}}d=f.createElement(l),cn(d,l,s),f.head.appendChild(d);break;case"meta":if(E=l_("meta","content",f).get(l+(s.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(b,1);break t}}d=f.createElement(l),cn(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[ne]=t,nt(d),l=d}t.stateNode=l}else u_(f,t.type,t.stateNode);else t.stateNode=o_(f,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?u_(f,t.type,t.stateNode):o_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Hn(i,t),qn(t),l&512&&(xt||s===null||Gr(s,s.return)),s!==null&&l&4&&pd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Hn(i,t),qn(t),l&512&&(xt||s===null||Gr(s,s.return)),t.flags&32){f=t.stateNode;try{nr(f,"")}catch(X){bt(t,t.return,X)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,pd(t,f,s!==null?s.memoizedProps:f)),l&1024&&(_d=!0);break;case 6:if(Hn(i,t),qn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(X){bt(t,t.return,X)}}break;case 3:if(Bc=null,f=Tr,Tr=Uc(i.containerInfo),Hn(i,t),Tr=f,qn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Hl(i.containerInfo)}catch(X){bt(t,t.return,X)}_d&&(_d=!1,gv(t));break;case 4:l=Tr,Tr=Uc(t.stateNode.containerInfo),Hn(i,t),qn(t),Tr=l;break;case 12:Hn(i,t),qn(t);break;case 13:Hn(i,t),qn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Rd=Sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ed(t,l)));break;case 22:f=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,F=Ai,J=xt;if(Ai=F||f,xt=J||C,Hn(i,t),xt=J,Ai=F,qn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||C||Ai||xt||us(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=C.stateNode;var ie=C.memoizedProps.style,K=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(X){bt(C,C.return,X)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(X){bt(C,C.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ed(t,s))));break;case 19:Hn(i,t),qn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ed(t,l)));break;case 30:break;case 21:break;default:Hn(i,t),qn(t)}}function qn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(ov(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=yd(t);Ac(t,d,f);break;case 5:var E=s.stateNode;s.flags&32&&(nr(E,""),s.flags&=-33);var b=yd(t);Ac(t,b,E);break;case 3:case 4:var C=s.stateNode.containerInfo,F=yd(t);vd(t,F,C);break;default:throw Error(a(161))}}catch(J){bt(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function gv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;gv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ra(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cv(t,i.alternate,i),i=i.sibling}function us(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:na(4,i,i.return),us(i);break;case 1:Gr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&av(i,i.return,s),us(i);break;case 27:Vl(i.stateNode);case 26:case 5:Gr(i,i.return),us(i);break;case 22:i.memoizedState===null&&us(i);break;case 30:us(i);break;default:us(i)}t=t.sibling}}function ia(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:ia(f,d,s),Sl(4,d);break;case 1:if(ia(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){bt(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Fp(C[f],b)}catch(F){bt(l,l.return,F)}}s&&E&64&&iv(d),Al(d,d.return);break;case 27:lv(d);case 26:case 5:ia(f,d,s),s&&l===null&&E&4&&sv(d),Al(d,d.return);break;case 12:ia(f,d,s);break;case 13:ia(f,d,s),s&&E&4&&dv(f,d);break;case 22:d.memoizedState===null&&ia(f,d,s),Al(d,d.return);break;case 30:break;default:ia(f,d,s)}i=i.sibling}}function Td(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&cl(s))}function bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t))}function Yr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pv(t,i,s,l),i=i.sibling}function pv(t,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Yr(t,i,s,l),f&2048&&Sl(9,i);break;case 1:Yr(t,i,s,l);break;case 3:Yr(t,i,s,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t)));break;case 12:if(f&2048){Yr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){bt(i,i.return,C)}}else Yr(t,i,s,l);break;case 13:Yr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?Yr(t,i,s,l):Rl(t,i):d._visibility&2?Yr(t,i,s,l):(d._visibility|=2,ao(t,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&Td(E,i);break;case 24:Yr(t,i,s,l),f&2048&&bd(i.alternate,i);break;default:Yr(t,i,s,l)}}function ao(t,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,b=s,C=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:ao(d,E,b,C,f),Sl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?ao(d,E,b,C,f):Rl(d,E):(J._visibility|=2,ao(d,E,b,C,f)),f&&F&2048&&Td(E.alternate,E);break;case 24:ao(d,E,b,C,f),f&&F&2048&&bd(E.alternate,E);break;default:ao(d,E,b,C,f)}i=i.sibling}}function Rl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,f=l.flags;switch(l.tag){case 22:Rl(s,l),f&2048&&Td(l.alternate,l);break;case 24:Rl(s,l),f&2048&&bd(l.alternate,l);break;default:Rl(s,l)}i=i.sibling}}var Il=8192;function so(t){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)yv(t),t=t.sibling}function yv(t){switch(t.tag){case 26:so(t),t.flags&Il&&t.memoizedState!==null&&YS(Tr,t.memoizedState,t.memoizedProps);break;case 5:so(t);break;case 3:case 4:var i=Tr;Tr=Uc(t.stateNode.containerInfo),so(t),Tr=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,so(t),Il=i):so(t));break;default:so(t)}}function vv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tn=l,Ev(l,t)}vv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_v(t),t=t.sibling}function _v(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&na(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Rc(t)):Cl(t);break;default:Cl(t)}}function Rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tn=l,Ev(l,t)}vv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:na(8,i,i.return),Rc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Rc(i));break;default:Rc(i)}t=t.sibling}}function Ev(t,i){for(;tn!==null;){var s=tn;switch(s.tag){case 0:case 11:case 15:na(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,tn=l;else e:for(s=t;tn!==null;){l=tn;var f=l.sibling,d=l.return;if(hv(l),l===s){tn=null;break e}if(f!==null){f.return=d,tn=f;break e}tn=d}}}var lS={getCacheForType:function(t){var i=yn(Qt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},uS=typeof WeakMap=="function"?WeakMap:Map,mt=0,wt=null,We=null,at=0,gt=0,Fn=null,aa=!1,oo=!1,wd=!1,Ii=0,Mt=0,sa=0,cs=0,Sd=0,hr=0,lo=0,Dl=null,Vn=null,Ad=!1,Rd=0,Ic=1/0,Cc=null,oa=null,un=0,la=null,uo=null,co=0,Id=0,Cd=null,Tv=null,Ol=0,Dd=null;function Gn(){if((mt&2)!==0&&at!==0)return at&-at;if($.T!==null){var t=Ws;return t!==0?t:Ld()}return N()}function bv(){hr===0&&(hr=(at&536870912)===0||ct?oi():536870912);var t=cr.current;return t!==null&&(t.flags|=32),hr}function Yn(t,i,s){(t===wt&&(gt===2||gt===9)||t.cancelPendingCommit!==null)&&(ho(t,0),ua(t,at,hr,!1)),vr(t,s),((mt&2)===0||t!==wt)&&(t===wt&&((mt&2)===0&&(cs|=s),Mt===4&&ua(t,at,hr,!1)),Kr(t))}function wv(t,i,s){if((mt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||Zn(t,i),f=l?fS(t,i):Nd(t,i,!0),d=l;do{if(f===0){oo&&!l&&ua(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!cS(s)){f=Nd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var b=t;f=Dl;var C=b.current.memoizedState.isDehydrated;if(C&&(ho(b,E).flags|=256),E=Nd(b,E,!1),E!==2){if(wd&&!C){b.errorRecoveryDisabledLanes|=d,cs|=d,f=4;break e}d=Vn,Vn=f,d!==null&&(Vn===null?Vn=d:Vn.push.apply(Vn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){ho(t,0),ua(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ua(l,i,hr,!aa);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Rd+300-Sn(),10<f)){if(ua(l,i,hr,!aa),si(l,0,!0)!==0)break e;l.timeoutHandle=Zv(Sv.bind(null,l,s,Vn,Cc,Ad,i,hr,cs,lo,aa,d,2,-0,0),f);break e}Sv(l,s,Vn,Cc,Ad,i,hr,cs,lo,aa,d,0,-0,0)}}break}while(!0);Kr(t)}function Sv(t,i,s,l,f,d,E,b,C,F,J,ie,K,X){if(t.timeoutHandle=-1,ie=i.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:GS},yv(i),ie=KS(),ie!==null)){t.cancelPendingCommit=ie(Mv.bind(null,t,i,d,s,l,f,E,b,C,J,1,K,X)),ua(t,d,E,!F);return}Mv(t,i,d,s,l,f,E,b,C)}function cS(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!Bn(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ua(t,i,s,l){i&=~Sd,i&=~cs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-Lt(f),E=1<<d;l[d]=-1,f&=~E}s!==0&&An(t,s,i)}function Dc(){return(mt&6)===0?(Ml(0),!1):!0}function Od(){if(We!==null){if(gt===0)var t=We.return;else t=We,_i=is=null,Kf(t),ro=null,Tl=0,t=We;for(;t!==null;)rv(t.alternate,t),t=t.return;We=null}}function ho(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,CS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Od(),wt=t,We=s=pi(t.current,null),at=i,gt=0,Fn=null,aa=!1,oo=Zn(t,i),wd=!1,lo=hr=Sd=cs=sa=Mt=0,Vn=Dl=null,Ad=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-Lt(l),d=1<<f;i|=t[f],l&=~d}return Ii=i,Wu(),s}function Av(t,i){Ye=null,$.H=pc,i===fl||i===sc?(i=Hp(),gt=3):i===zp?(i=Hp(),gt=4):gt=i===qy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Fn=i,We===null&&(Mt=1,Tc(t,sr(i,t.current)))}function Rv(){var t=$.H;return $.H=pc,t===null?pc:t}function Iv(){var t=$.A;return $.A=lS,t}function Md(){Mt=4,aa||(at&4194048)!==at&&cr.current!==null||(oo=!0),(sa&134217727)===0&&(cs&134217727)===0||wt===null||ua(wt,at,hr,!1)}function Nd(t,i,s){var l=mt;mt|=2;var f=Rv(),d=Iv();(wt!==t||at!==i)&&(Cc=null,ho(t,i)),i=!1;var E=Mt;e:do try{if(gt!==0&&We!==null){var b=We,C=Fn;switch(gt){case 8:Od(),E=6;break e;case 3:case 2:case 9:case 6:cr.current===null&&(i=!0);var F=gt;if(gt=0,Fn=null,fo(t,b,C,F),s&&oo){E=0;break e}break;default:F=gt,gt=0,Fn=null,fo(t,b,C,F)}}hS(),E=Mt;break}catch(J){Av(t,J)}while(!0);return i&&t.shellSuspendCounter++,_i=is=null,mt=l,$.H=f,$.A=d,We===null&&(wt=null,at=0,Wu()),E}function hS(){for(;We!==null;)Cv(We)}function fS(t,i){var s=mt;mt|=2;var l=Rv(),f=Iv();wt!==t||at!==i?(Cc=null,Ic=Sn()+500,ho(t,i)):oo=Zn(t,i);e:do try{if(gt!==0&&We!==null){i=We;var d=Fn;t:switch(gt){case 1:gt=0,Fn=null,fo(t,i,d,1);break;case 2:case 9:if(Bp(d)){gt=0,Fn=null,Dv(i);break}i=function(){gt!==2&&gt!==9||wt!==t||(gt=7),Kr(t)},d.then(i,i);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:Bp(d)?(gt=0,Fn=null,Dv(i)):(gt=0,Fn=null,fo(t,i,d,7));break;case 5:var E=null;switch(We.tag){case 26:E=We.memoizedState;case 5:case 27:var b=We;if(!E||c_(E)){gt=0,Fn=null;var C=b.sibling;if(C!==null)We=C;else{var F=b.return;F!==null?(We=F,Oc(F)):We=null}break t}}gt=0,Fn=null,fo(t,i,d,5);break;case 6:gt=0,Fn=null,fo(t,i,d,6);break;case 8:Od(),Mt=6;break e;default:throw Error(a(462))}}dS();break}catch(J){Av(t,J)}while(!0);return _i=is=null,$.H=l,$.A=f,mt=s,We!==null?0:(wt=null,at=0,Wu(),Mt)}function dS(){for(;We!==null&&!ka();)Cv(We)}function Cv(t){var i=tv(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,i===null?Oc(t):We=i}function Dv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=$y(s,i,i.pendingProps,i.type,void 0,at);break;case 11:i=$y(s,i,i.pendingProps,i.type.render,i.ref,at);break;case 5:Kf(i);default:rv(s,i),i=We=Op(i,Ii),i=tv(s,i,Ii)}t.memoizedProps=t.pendingProps,i===null?Oc(t):We=i}function fo(t,i,s,l){_i=is=null,Kf(i),ro=null,Tl=0;var f=i.return;try{if(nS(t,f,i,s,at)){Mt=1,Tc(t,sr(s,t.current)),We=null;return}}catch(d){if(f!==null)throw We=f,d;Mt=1,Tc(t,sr(s,t.current)),We=null;return}i.flags&32768?(ct||l===1?t=!0:oo||(at&536870912)!==0?t=!1:(aa=t=!0,(l===2||l===9||l===3||l===6)&&(l=cr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ov(i,t)):Oc(i)}function Oc(t){var i=t;do{if((i.flags&32768)!==0){Ov(i,aa);return}t=i.return;var s=iS(i.alternate,i,Ii);if(s!==null){We=s;return}if(i=i.sibling,i!==null){We=i;return}We=i=t}while(i!==null);Mt===0&&(Mt=5)}function Ov(t,i){do{var s=aS(t.alternate,t);if(s!==null){s.flags&=32767,We=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){We=t;return}We=t=s}while(t!==null);Mt=6,We=null}function Mv(t,i,s,l,f,d,E,b,C){t.cancelPendingCommit=null;do Mc();while(un!==0);if((mt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=bf,Fi(t,s,d,E,b,C),t===wt&&(We=wt=null,at=0),uo=i,la=t,co=s,Id=d,Cd=f,Tv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yS(ai,function(){return Lv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ce.p,ce.p=2,E=mt,mt|=4;try{sS(t,i,s)}finally{mt=E,ce.p=f,$.T=l}}un=1,Nv(),xv(),Vv()}}function Nv(){if(un===1){un=0;var t=la,i=uo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var l=ce.p;ce.p=2;var f=mt;mt|=4;try{mv(i,t);var d=Fd,E=Ep(t.containerInfo),b=d.focusedElem,C=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&_p(b.ownerDocument.documentElement,b)){if(C!==null&&yf(b)){var F=C.start,J=C.end;if(J===void 0&&(J=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(J,b.value.length);else{var ie=b.ownerDocument||document,K=ie&&ie.defaultView||window;if(K.getSelection){var X=K.getSelection(),Pe=b.textContent.length,Me=Math.min(C.start,Pe),Et=C.end===void 0?Me:Math.min(C.end,Pe);!X.extend&&Me>Et&&(E=Et,Et=Me,Me=E);var U=vp(b,Me),P=vp(b,Et);if(U&&P&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var H=ie.createRange();H.setStart(U.node,U.offset),X.removeAllRanges(),Me>Et?(X.addRange(H),X.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),X.addRange(H))}}}}for(ie=[],X=b;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ie.length;b++){var ee=ie[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}qc=!!qd,Fd=qd=null}finally{mt=f,ce.p=l,$.T=s}}t.current=i,un=2}}function xv(){if(un===2){un=0;var t=la,i=uo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var l=ce.p;ce.p=2;var f=mt;mt|=4;try{cv(t,i.alternate,i)}finally{mt=f,ce.p=l,$.T=s}}un=3}}function Vv(){if(un===4||un===3){un=0,Ns();var t=la,i=uo,s=co,l=Tv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?un=5:(un=0,uo=la=null,Pv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(oa=null),Gi(s),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,f=ce.p,ce.p=2,$.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{$.T=i,ce.p=f}}(co&3)!==0&&Mc(),Kr(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===Dd?Ol++:(Ol=0,Dd=t):Ol=0,Ml(0)}}function Pv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,cl(i)))}function Mc(t){return Nv(),xv(),Vv(),Lv()}function Lv(){if(un!==5)return!1;var t=la,i=Id;Id=0;var s=Gi(co),l=$.T,f=ce.p;try{ce.p=32>s?32:s,$.T=null,s=Cd,Cd=null;var d=la,E=co;if(un=0,uo=la=null,co=0,(mt&6)!==0)throw Error(a(331));var b=mt;if(mt|=4,_v(d.current),pv(d,d.current,E,s),mt=b,Ml(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{ce.p=f,$.T=l,Pv(t,i)}}function kv(t,i,s){i=sr(s,i),i=od(t.stateNode,i,2),t=Zi(t,i,2),t!==null&&(vr(t,2),Kr(t))}function bt(t,i,s){if(t.tag===3)kv(t,t,s);else for(;i!==null;){if(i.tag===3){kv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(oa===null||!oa.has(l))){t=sr(s,t),s=jy(2),l=Zi(i,s,2),l!==null&&(Hy(s,l,i,t),vr(l,2),Kr(l));break}}i=i.return}}function xd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new uS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(wd=!0,f.add(s),t=mS.bind(null,t,i,s),i.then(t,t))}function mS(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,wt===t&&(at&s)===s&&(Mt===4||Mt===3&&(at&62914560)===at&&300>Sn()-Rd?(mt&2)===0&&ho(t,0):Sd|=s,lo===at&&(lo=0)),Kr(t)}function Uv(t,i){i===0&&(i=za()),t=Ks(t,i),t!==null&&(vr(t,i),Kr(t))}function gS(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Uv(t,s)}function pS(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Uv(t,s)}function yS(t,i){return ii(t,i)}var Nc=null,mo=null,Vd=!1,xc=!1,Pd=!1,hs=0;function Kr(t){t!==mo&&t.next===null&&(mo===null?Nc=mo=t:mo=mo.next=t),xc=!0,Vd||(Vd=!0,_S())}function Ml(t,i){if(!Pd&&xc){Pd=!0;do for(var s=!1,l=Nc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Lt(42|t)+1)-1,d&=f&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Hv(l,d))}else d=at,d=si(l,l===wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Zn(l,d)||(s=!0,Hv(l,d));l=l.next}while(s);Pd=!1}}function vS(){zv()}function zv(){xc=Vd=!1;var t=0;hs!==0&&(IS()&&(t=hs),hs=0);for(var i=Sn(),s=null,l=Nc;l!==null;){var f=l.next,d=Bv(l,i);d===0?(l.next=null,s===null?Nc=f:s.next=f,f===null&&(mo=s)):(s=l,(t!==0||(d&3)!==0)&&(xc=!0)),l=f}Ml(t)}function Bv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Lt(d),b=1<<E,C=f[E];C===-1?((b&s)===0||(b&l)!==0)&&(f[E]=qi(b,i)):C<=i&&(t.expiredLanes|=b),d&=~b}if(i=wt,s=at,s=si(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(gt===2||gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Zn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&wn(l),Gi(s)){case 2:case 8:s=Bi;break;case 32:s=ai;break;case 268435456:s=Xn;break;default:s=ai}return l=jv.bind(null,t),s=ii(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&wn(l),t.callbackPriority=2,t.callbackNode=null,2}function jv(t,i){if(un!==0&&un!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Mc()&&t.callbackNode!==s)return null;var l=at;return l=si(t,t===wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(wv(t,l,i),Bv(t,Sn()),t.callbackNode!=null&&t.callbackNode===s?jv.bind(null,t):null)}function Hv(t,i){if(Mc())return null;wv(t,i,!0)}function _S(){DS(function(){(mt&6)!==0?ii(Ua,vS):zv()})}function Ld(){return hs===0&&(hs=oi()),hs}function qv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ps(""+t)}function Fv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function ES(t,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var d=qv((f[le]||null).action),E=l.submitter;E&&(i=(i=E[le]||null)?qv(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var b=new Ls("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hs!==0){var C=E?Fv(f,E):new FormData(f);nd(s,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=E?Fv(f,E):new FormData(f),nd(s,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var kd=0;kd<Tf.length;kd++){var Ud=Tf[kd],TS=Ud.toLowerCase(),bS=Ud[0].toUpperCase()+Ud.slice(1);Er(TS,"on"+bS)}Er(wp,"onAnimationEnd"),Er(Sp,"onAnimationIteration"),Er(Ap,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(zw,"onTransitionRun"),Er(Bw,"onTransitionStart"),Er(jw,"onTransitionCancel"),Er(Rp,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Gv(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var b=l[E],C=b.instance,F=b.currentTarget;if(b=b.listener,C!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(J){Ec(J)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(b=l[E],C=b.instance,F=b.currentTarget,b=b.listener,C!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(J){Ec(J)}f.currentTarget=null,d=C}}}}function Ze(t,i){var s=i[De];s===void 0&&(s=i[De]=new Set);var l=t+"__bubble";s.has(l)||(Yv(i,t,2,!1),s.add(l))}function zd(t,i,s){var l=0;i&&(l|=4),Yv(s,t,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[Vc]){t[Vc]=!0,Qe.forEach(function(s){s!=="selectionchange"&&(wS.has(s)||zd(s,!1,t),zd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,zd("selectionchange",!1,i))}}function Yv(t,i,s,l){switch(p_(i)){case 2:var f=XS;break;case 8:f=WS;break;default:f=em}s=f.bind(null,i,s,t),f=void 0,!ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function jd(t,i,s,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Ne(b),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}b=b.parentNode}}l=l.return}Lu(function(){var F=d,J=rr(s),ie=[];e:{var K=Ip.get(t);if(K!==void 0){var X=Ls,Pe=t;switch(t){case"keypress":if(Ur(s)===0)break e;case"keydown":case"keyup":X=Hs;break;case"focusin":Pe="focus",X=zs;break;case"focusout":Pe="blur",X=zs;break;case"beforeblur":case"afterblur":X=zs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Fu;break;case wp:case Sp:case Ap:X=Bs;break;case Rp:X=Yu;break;case"scroll":case"scrollend":X=ku;break;case"wheel":X=qs;break;case"copy":case"cut":case"paste":X=js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=nl;break;case"toggle":case"beforetoggle":X=Qu}var Me=(i&4)!==0,Et=!Me&&(t==="scroll"||t==="scrollend"),U=Me?K!==null?K+"Capture":null:K;Me=[];for(var P=F,H;P!==null;){var ee=P;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||U===null||(ee=Fa(P,U),ee!=null&&Me.push(xl(P,ee,H))),Et)break;P=P.return}0<Me.length&&(K=new X(K,Pe,null,s,J),ie.push({event:K,listeners:Me}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",K&&s!==ci&&(Pe=s.relatedTarget||s.fromElement)&&(Ne(Pe)||Pe[ve]))break e;if((X||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,X?(Pe=s.relatedTarget||s.toElement,X=F,Pe=Pe?Ne(Pe):null,Pe!==null&&(Et=u(Pe),Me=Pe.tag,Pe!==Et||Me!==5&&Me!==27&&Me!==6)&&(Pe=null)):(X=null,Pe=F),X!==Pe)){if(Me=ar,ee="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Me=nl,ee="onPointerLeave",U="onPointerEnter",P="pointer"),Et=X==null?K:ht(X),H=Pe==null?K:ht(Pe),K=new Me(ee,P+"leave",X,s,J),K.target=Et,K.relatedTarget=H,ee=null,Ne(J)===F&&(Me=new Me(U,P+"enter",Pe,s,J),Me.target=H,Me.relatedTarget=Et,ee=Me),Et=ee,X&&Pe)t:{for(Me=X,U=Pe,P=0,H=Me;H;H=go(H))P++;for(H=0,ee=U;ee;ee=go(ee))H++;for(;0<P-H;)Me=go(Me),P--;for(;0<H-P;)U=go(U),H--;for(;P--;){if(Me===U||U!==null&&Me===U.alternate)break t;Me=go(Me),U=go(U)}Me=null}else Me=null;X!==null&&Kv(ie,K,X,Me,!1),Pe!==null&&Et!==null&&Kv(ie,Et,Pe,Me,!0)}}e:{if(K=F?ht(F):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Ee=fp;else if(Kt(K))if(dp)Ee=Lw;else{Ee=Vw;var $e=xw}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&$o(F.elementType)&&(Ee=fp):Ee=Pw;if(Ee&&(Ee=Ee(t,F))){gi(ie,Ee,s,J);break e}$e&&$e(t,K,F),t==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&Ki(K,"number",K.value)}switch($e=F?ht(F):window,t){case"focusin":(Kt($e)||$e.contentEditable==="true")&&(Fs=$e,vf=F,al=null);break;case"focusout":al=vf=Fs=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,Tp(ie,s,J);break;case"selectionchange":if(Uw)break;case"keydown":case"keyup":Tp(ie,s,J)}var Re;if(jr)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else rt?Z(t,s)&&(xe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(xe="onCompositionStart");xe&&(v&&s.locale!=="ko"&&(rt||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&rt&&(Re=Wo()):(kr=J,Qi="value"in kr?kr.value:kr.textContent,rt=!0)),$e=Pc(F,xe),0<$e.length&&(xe=new el(xe,t,null,s,J),ie.push({event:xe,listeners:$e}),Re?xe.data=Re:(Re=de(s),Re!==null&&(xe.data=Re)))),(Re=y?Yt(t,s):it(t,s))&&(xe=Pc(F,"onBeforeInput"),0<xe.length&&($e=new el("onBeforeInput","beforeinput",null,s,J),ie.push({event:$e,listeners:xe}),$e.data=Re)),ES(ie,t,F,s,J)}Gv(ie,i)})}function xl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Pc(t,i){for(var s=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Fa(t,s),f!=null&&l.unshift(xl(t,f,d)),f=Fa(t,i),f!=null&&l.push(xl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kv(t,i,s,l,f){for(var d=i._reactName,E=[];s!==null&&s!==l;){var b=s,C=b.alternate,F=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||F===null||(C=F,f?(F=Fa(s,d),F!=null&&E.unshift(xl(s,F,C))):f||(F=Fa(s,d),F!=null&&E.push(xl(s,F,C)))),s=s.return}E.length!==0&&t.push({event:i,listeners:E})}var SS=/\r\n?/g,AS=/\u0000|\uFFFD/g;function Qv(t){return(typeof t=="string"?t:""+t).replace(SS,`
`).replace(AS,"")}function $v(t,i){return i=Qv(i),Qv(t)===i}function Lc(){}function _t(t,i,s,l,f,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||nr(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&nr(t,""+l);break;case"className":In(t,"class",l);break;case"tabIndex":In(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,s,l);break;case"style":Qo(t,l,d);break;case"data":if(i!=="object"){In(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ps(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&_t(t,i,"name",f.name,f,null),_t(t,i,"formEncType",f.formEncType,f,null),_t(t,i,"formMethod",f.formMethod,f,null),_t(t,i,"formTarget",f.formTarget,f,null)):(_t(t,i,"encType",f.encType,f,null),_t(t,i,"method",f.method,f,null),_t(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ps(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ps(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),pn(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hf.get(s)||s,pn(t,s,l))}}function Hd(t,i,s,l,f,d){switch(s){case"style":Qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?nr(t,l):(typeof l=="number"||typeof l=="bigint")&&nr(t,""+l);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!er.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=t[le]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):pn(t,s,l)}}}function cn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(t,i,d,E,s,null)}}f&&_t(t,i,"srcSet",s.srcSet,s,null),l&&_t(t,i,"src",s.src,s,null);return;case"input":Ze("invalid",t);var b=d=E=f=null,C=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":f=J;break;case"type":E=J;break;case"checked":C=J;break;case"defaultChecked":F=J;break;case"value":d=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:_t(t,i,l,J,s,null)}}ja(t,d,b,C,F,E,f,!1),Vs(t);return;case"select":Ze("invalid",t),l=E=d=null;for(f in s)if(s.hasOwnProperty(f)&&(b=s[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:_t(t,i,f,b,s,null)}i=d,s=E,t.multiple=!!l,i!=null?ui(t,!!l,i,!1):s!=null&&ui(t,!!l,s,!0);return;case"textarea":Ze("invalid",t),d=f=l=null;for(E in s)if(s.hasOwnProperty(E)&&(b=s[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:_t(t,i,E,b,s,null)}Ha(t,l,f,d),Vs(t);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:_t(t,i,C,l,s,null)}return;case"dialog":Ze("beforetoggle",t),Ze("toggle",t),Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ze(Nl[l],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(t,i,F,l,s,null)}return;default:if($o(i)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&Hd(t,i,J,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&_t(t,i,b,l,s,null))}function RS(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,b=null,C=null,F=null,J=null;for(X in s){var ie=s[X];if(s.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=ie;default:l.hasOwnProperty(X)||_t(t,i,X,null,l,ie)}}for(var K in l){var X=l[K];if(ie=s[K],l.hasOwnProperty(K)&&(X!=null||ie!=null))switch(K){case"type":d=X;break;case"name":f=X;break;case"checked":F=X;break;case"defaultChecked":J=X;break;case"value":E=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:X!==ie&&_t(t,i,K,X,l,ie)}}zn(t,E,b,C,F,J,d,f);return;case"select":X=E=b=K=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":X=C;default:l.hasOwnProperty(d)||_t(t,i,d,null,l,C)}for(f in l)if(d=l[f],C=s[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==C&&_t(t,i,f,d,l,C)}i=b,s=E,l=X,K!=null?ui(t,!!s,K,!1):!!l!=!!s&&(i!=null?ui(t,!!s,i,!0):ui(t,!!s,s?[]:"",!1));return;case"textarea":X=K=null;for(b in s)if(f=s[b],s.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:_t(t,i,b,null,l,f)}for(E in l)if(f=l[E],d=s[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&_t(t,i,E,f,l,d)}yt(t,K,X);return;case"option":for(var Pe in s)if(K=s[Pe],s.hasOwnProperty(Pe)&&K!=null&&!l.hasOwnProperty(Pe))switch(Pe){case"selected":t.selected=!1;break;default:_t(t,i,Pe,null,l,K)}for(C in l)if(K=l[C],X=s[C],l.hasOwnProperty(C)&&K!==X&&(K!=null||X!=null))switch(C){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:_t(t,i,C,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in s)K=s[Me],s.hasOwnProperty(Me)&&K!=null&&!l.hasOwnProperty(Me)&&_t(t,i,Me,null,l,K);for(F in l)if(K=l[F],X=s[F],l.hasOwnProperty(F)&&K!==X&&(K!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:_t(t,i,F,K,l,X)}return;default:if($o(i)){for(var Et in s)K=s[Et],s.hasOwnProperty(Et)&&K!==void 0&&!l.hasOwnProperty(Et)&&Hd(t,i,Et,void 0,l,K);for(J in l)K=l[J],X=s[J],!l.hasOwnProperty(J)||K===X||K===void 0&&X===void 0||Hd(t,i,J,K,l,X);return}}for(var U in s)K=s[U],s.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&_t(t,i,U,null,l,K);for(ie in l)K=l[ie],X=s[ie],!l.hasOwnProperty(ie)||K===X||K==null&&X==null||_t(t,i,ie,K,l,X)}var qd=null,Fd=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function Xv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Gd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yd=null;function IS(){var t=window.event;return t&&t.type==="popstate"?t===Yd?!1:(Yd=t,!0):(Yd=null,!1)}var Zv=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,DS=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(t){return Jv.resolve(null).then(t).catch(OS)}:Zv;function OS(t){setTimeout(function(){throw t})}function ca(t){return t==="head"}function e_(t,i){var s=i,l=0,f=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var E=t.ownerDocument;if(s&1&&Vl(E.documentElement),s&2&&Vl(E.body),s&4)for(s=E.head,Vl(s),E=s.firstChild;E;){var b=E.nextSibling,C=E.nodeName;E[Oe]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=b}}if(f===0){t.removeChild(d),Hl(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Hl(i)}function Kd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Kd(s),be(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function MS(t,i,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Oe])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=br(t.nextSibling),t===null)break}return null}function NS(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=br(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function xS(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function br(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var $d=null;function t_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function n_(t,i,s){switch(i=kc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Vl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);be(t)}var fr=new Map,r_=new Set;function Uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=ce.d;ce.d={f:VS,r:PS,D:LS,C:kS,L:US,m:zS,X:jS,S:BS,M:HS};function VS(){var t=Ci.f(),i=Dc();return t||i}function PS(t){var i=Xe(t);i!==null&&i.tag===5&&i.type==="form"?wy(i):Ci.r(t)}var po=typeof document>"u"?null:document;function i_(t,i,s){var l=po;if(l&&typeof i=="string"&&i){var f=Ut(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),r_.has(f)||(r_.add(f),t={rel:t,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),cn(i,"link",t),nt(i),l.head.appendChild(i)))}}function LS(t){Ci.D(t),i_("dns-prefetch",t,null)}function kS(t,i){Ci.C(t,i),i_("preconnect",t,i)}function US(t,i,s){Ci.L(t,i,s);var l=po;if(l&&t&&i){var f='link[rel="preload"][as="'+Ut(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Ut(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Ut(s.imageSizes)+'"]')):f+='[href="'+Ut(t)+'"]';var d=f;switch(i){case"style":d=yo(t);break;case"script":d=vo(t)}fr.has(d)||(t=_({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),fr.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Pl(d))||i==="script"&&l.querySelector(Ll(d))||(i=l.createElement("link"),cn(i,"link",t),nt(i),l.head.appendChild(i)))}}function zS(t,i){Ci.m(t,i);var s=po;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=vo(t)}if(!fr.has(d)&&(t=_({rel:"modulepreload",href:t},i),fr.set(d,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ll(d)))return}l=s.createElement("link"),cn(l,"link",t),nt(l),s.head.appendChild(l)}}}function BS(t,i,s){Ci.S(t,i,s);var l=po;if(l&&t){var f=ot(l).hoistableStyles,d=yo(t);i=i||"default";var E=f.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Pl(d)))b.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},s),(s=fr.get(d))&&Xd(t,s);var C=E=l.createElement("link");nt(C),cn(C,"link",t),C._p=new Promise(function(F,J){C.onload=F,C.onerror=J}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,zc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(d,E)}}}function jS(t,i){Ci.X(t,i);var s=po;if(s&&t){var l=ot(s).hoistableScripts,f=vo(t),d=l.get(f);d||(d=s.querySelector(Ll(f)),d||(t=_({src:t,async:!0},i),(i=fr.get(f))&&Wd(t,i),d=s.createElement("script"),nt(d),cn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function HS(t,i){Ci.M(t,i);var s=po;if(s&&t){var l=ot(s).hoistableScripts,f=vo(t),d=l.get(f);d||(d=s.querySelector(Ll(f)),d||(t=_({src:t,async:!0,type:"module"},i),(i=fr.get(f))&&Wd(t,i),d=s.createElement("script"),nt(d),cn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function a_(t,i,s,l){var f=(f=Ce.current)?Uc(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=yo(s.href),s=ot(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=yo(s.href);var d=ot(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(Pl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),fr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},fr.set(t,s),d||qS(f,t,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vo(s),s=ot(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function yo(t){return'href="'+Ut(t)+'"'}function Pl(t){return'link[rel="stylesheet"]['+t+"]"}function s_(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function qS(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),cn(i,"link",s),nt(i),t.head.appendChild(i))}function vo(t){return'[src="'+Ut(t)+'"]'}function Ll(t){return"script[async]"+t}function o_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(s.href)+'"]');if(l)return i.instance=l,nt(l),l;var f=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),cn(l,"style",f),zc(l,s.precedence,t),i.instance=l;case"stylesheet":f=yo(s.href);var d=t.querySelector(Pl(f));if(d)return i.state.loading|=4,i.instance=d,nt(d),d;l=s_(s),(f=fr.get(f))&&Xd(l,f),d=(t.ownerDocument||t).createElement("link"),nt(d);var E=d;return E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),cn(d,"link",l),i.state.loading|=4,zc(d,s.precedence,t),i.instance=d;case"script":return d=vo(s.src),(f=t.querySelector(Ll(d)))?(i.instance=f,nt(f),f):(l=s,(f=fr.get(d))&&(l=_({},s),Wd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),nt(f),cn(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,s.precedence,t));return i.instance}function zc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Wd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function l_(t,i,s){if(Bc===null){var l=new Map,f=Bc=new Map;f.set(s,l)}else f=Bc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var d=s[f];if(!(d[Oe]||d[ne]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function u_(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function FS(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function c_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var kl=null;function GS(){}function YS(t,i,s){if(kl===null)throw Error(a(475));var l=kl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=yo(s.href),d=t.querySelector(Pl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=jc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,nt(d);return}d=t.ownerDocument||t,s=s_(s),(f=fr.get(f))&&Xd(s,f),d=d.createElement("link"),nt(d);var E=d;E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),cn(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=jc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function KS(){if(kl===null)throw Error(a(475));var t=kl;return t.stylesheets&&t.count===0&&Zd(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Zd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function jc(){if(this.count--,this.count===0){if(this.stylesheets)Zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function Zd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(QS,t),Hc=null,jc.call(t))}function QS(t,i){if(!(i.state.loading&4)){var s=Hc.get(t);if(s)var l=s.get(null);else{s=new Map,Hc.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),d=s.get(E)||l,d===l&&s.set(null,f),s.set(E,f),this.count++,l=jc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Ul={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function $S(t,i,s,l,f,d,E,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function h_(t,i,s,l,f,d,E,b,C,F,J,ie){return t=new $S(t,i,s,E,b,C,F,ie),i=1,d===!0&&(i|=24),d=jn(3,null,null,i),t.current=d,d.stateNode=t,i=xf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},kf(d),t}function f_(t){return t?(t=Qs,t):Qs}function d_(t,i,s,l,f,d){f=f_(f),l.context===null?l.context=f:l.pendingContext=f,l=Wi(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Zi(t,l,i),s!==null&&(Yn(s,t,i),ml(s,t,i))}function m_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Jd(t,i){m_(t,i),(t=t.alternate)&&m_(t,i)}function g_(t){if(t.tag===13){var i=Ks(t,67108864);i!==null&&Yn(i,t,67108864),Jd(t,67108864)}}var qc=!0;function XS(t,i,s,l){var f=$.T;$.T=null;var d=ce.p;try{ce.p=2,em(t,i,s,l)}finally{ce.p=d,$.T=f}}function WS(t,i,s,l){var f=$.T;$.T=null;var d=ce.p;try{ce.p=8,em(t,i,s,l)}finally{ce.p=d,$.T=f}}function em(t,i,s,l){if(qc){var f=tm(l);if(f===null)jd(t,i,l,Fc,s),y_(t,l);else if(JS(f,t,i,s,l))l.stopPropagation();else if(y_(t,l),i&4&&-1<ZS.indexOf(t)){for(;f!==null;){var d=Xe(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Ln(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var C=1<<31-Lt(E);b.entanglements[1]|=C,E&=~C}Kr(d),(mt&6)===0&&(Ic=Sn()+500,Ml(0))}}break;case 13:b=Ks(d,2),b!==null&&Yn(b,d,2),Dc(),Jd(d,2)}if(d=tm(l),d===null&&jd(t,i,l,Fc,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else jd(t,i,l,null,s)}}function tm(t){return t=rr(t),nm(t)}var Fc=null;function nm(t){if(Fc=null,t=Ne(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=h(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Fc=t,null}function p_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Go()){case Ua:return 2;case Bi:return 8;case ai:case yr:return 32;case Xn:return 268435456;default:return 32}default:return 32}}var rm=!1,ha=null,fa=null,da=null,zl=new Map,Bl=new Map,ma=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(t,i){switch(t){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function jl(t,i,s,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Xe(i),i!==null&&g_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function JS(t,i,s,l,f){switch(i){case"focusin":return ha=jl(ha,t,i,s,l,f),!0;case"dragenter":return fa=jl(fa,t,i,s,l,f),!0;case"mouseover":return da=jl(da,t,i,s,l,f),!0;case"pointerover":var d=f.pointerId;return zl.set(d,jl(zl.get(d)||null,t,i,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Bl.set(d,jl(Bl.get(d)||null,t,i,s,l,f)),!0}return!1}function v_(t){var i=Ne(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){t.blockedOn=i,z(t.priority,function(){if(s.tag===13){var l=Gn();l=xr(l);var f=Ks(s,l);f!==null&&Yn(f,s,l),Jd(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=tm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ci=l,s.target.dispatchEvent(l),ci=null}else return i=Xe(s),i!==null&&g_(i),t.blockedOn=s,!1;i.shift()}return!0}function __(t,i,s){Gc(t)&&s.delete(i)}function e1(){rm=!1,ha!==null&&Gc(ha)&&(ha=null),fa!==null&&Gc(fa)&&(fa=null),da!==null&&Gc(da)&&(da=null),zl.forEach(__),Bl.forEach(__)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,rm||(rm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,e1)))}var Kc=null;function E_(t){Kc!==t&&(Kc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(nm(l||s)===null)continue;break}var d=Xe(s);d!==null&&(t.splice(i,3),i-=3,nd(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Hl(t){function i(C){return Yc(C,t)}ha!==null&&Yc(ha,t),fa!==null&&Yc(fa,t),da!==null&&Yc(da,t),zl.forEach(i),Bl.forEach(i);for(var s=0;s<ma.length;s++){var l=ma[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ma.length&&(s=ma[0],s.blockedOn===null);)v_(s),s.blockedOn===null&&ma.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],E=f[le]||null;if(typeof d=="function")E||E_(s);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[le]||null)b=E.formAction;else if(nm(f)!==null)continue}else b=E.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),E_(s)}}}function im(t){this._internalRoot=t}Qc.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Gn();d_(s,l,t,i,null,null)},Qc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;d_(t.current,2,null,t,null,null),Dc(),i[ve]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=N();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ma.length&&i!==0&&i<ma[s].priority;s++);ma.splice(s,0,t),s===0&&v_(t)}};var T_=e.version;if(T_!=="19.1.0")throw Error(a(527,T_,"19.1.0"));ce.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var t1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{ut=$c.inject(t1),Ge=$c}catch{}}return Fl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",f=ky,d=Uy,E=zy,b=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=h_(t,1,!1,null,null,s,l,f,d,E,b,null),t[ve]=i.current,Bd(t),new im(i)},Fl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,f="",d=ky,E=Uy,b=zy,C=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),i=h_(t,1,!0,i,s??null,l,f,d,E,b,C,F),i.context=f_(null),s=i.current,l=Gn(),l=xr(l),f=Wi(l),f.callback=null,Zi(s,f,l),s=l,i.current.lanes=s,vr(i,s),Kr(i),t[ve]=i.current,Bd(t),new Qc(i)},Fl.version="19.1.0",Fl}var M_;function c1(){if(M_)return om.exports;M_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),om.exports=u1(),om.exports}var h1=c1();const f1=()=>{};var N_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},d1=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,_=u>>2,w=(u&3)<<4|m>>4;let T=(m&15)<<2|p>>6,I=p&63;g||(I=64,h||(T=64)),a.push(n[_],n[w],n[T],n[I])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(kE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):d1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||w==null)throw new m1;const T=u<<2|m>>4;if(a.push(T),p!==64){const I=m<<4&240|p>>2;if(a.push(I),w!==64){const O=p<<6&192|w;a.push(O)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class m1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g1=function(r){const e=kE(r);return UE.encodeByteArray(e,!0)},Eh=function(r){return g1(r).replace(/\./g,"")},zE=function(r){try{return UE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=()=>p1().__FIREBASE_DEFAULTS__,v1=()=>{if(typeof process>"u"||typeof N_>"u")return;const r=N_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&zE(r[1]);return e&&JSON.parse(e)},qh=()=>{try{return f1()||y1()||v1()||_1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},BE=r=>{var e,n;return(n=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},E1=r=>{const e=BE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},jE=()=>{var r;return(r=qh())===null||r===void 0?void 0:r.config},HE=r=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T1=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Eh(JSON.stringify(n)),Eh(JSON.stringify(h)),""].join(".")}const ru={};function w1(){const r={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?r.emulator.push(e):r.prod.push(e);return r}function S1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let x_=!1;function FE(r,e){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||ru[r]===e||ru[r]||x_)return;ru[r]=e;function n(T){return`__firebase__banner__${T}`}const a="__firebase__banner",u=w1().prod.length>0;function h(){const T=document.getElementById(a);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{x_=!0,h()},T}function _(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=S1(a),I=n("text"),O=document.getElementById(I)||document.createElement("span"),Q=n("learnmore"),Y=document.getElementById(Q)||document.createElement("a"),G=n("preprendIcon"),ue=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ae=T.element;m(ae),_(Y,Q);const me=p();g(ue,G),ae.append(ue,O,Y,me),document.body.appendChild(ae)}u?(O.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function R1(){var r;const e=(r=qh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function D1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O1(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function M1(){return!R1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N1(){try{return typeof indexedDB=="object"}catch{return!1}}function x1(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="FirebaseError";class Ui extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=V1,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?P1(u,a):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ui(o,m,a)}}function P1(r,e){return r.replace(L1,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const L1=/\{\$([^}]+)}/g;function k1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Es(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],h=e[o];if(V_(u)&&V_(h)){if(!Es(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function V_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function U1(r,e){const n=new z1(r,e);return n.subscribe.bind(n)}class z1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");B1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=hm),o.error===void 0&&(o.error=hm),o.complete===void 0&&(o.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(r){return r&&r._delegate?r._delegate:r}class Ts{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new T1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q1(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:H1(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H1(r){return r===fs?void 0:r}function q1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(et||(et={}));const G1={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},Y1=et.INFO,K1={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},Q1=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=K1[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ig{constructor(e){this.name=e,this._logLevel=Y1,this._logHandler=Q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const $1=(r,e)=>e.some(n=>r instanceof n);let P_,L_;function X1(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W1(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GE=new WeakMap,Cm=new WeakMap,YE=new WeakMap,fm=new WeakMap,ag=new WeakMap;function Z1(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ba(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&GE.set(n,r)}).catch(()=>{}),ag.set(e,r),e}function J1(r){if(Cm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Cm.set(r,e)}let Dm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Cm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||YE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ba(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function eA(r){Dm=r(Dm)}function tA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(dm(this),e,...n);return YE.set(a,e.sort?e.sort():[e]),ba(a)}:W1().includes(r)?function(...e){return r.apply(dm(this),e),ba(GE.get(this))}:function(...e){return ba(r.apply(dm(this),e))}}function nA(r){return typeof r=="function"?tA(r):(r instanceof IDBTransaction&&J1(r),$1(r,X1())?new Proxy(r,Dm):r)}function ba(r){if(r instanceof IDBRequest)return Z1(r);if(fm.has(r))return fm.get(r);const e=nA(r);return e!==r&&(fm.set(r,e),ag.set(e,r)),e}const dm=r=>ag.get(r);function rA(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ba(h);return a&&h.addEventListener("upgradeneeded",g=>{a(ba(h.result),g.oldVersion,g.newVersion,ba(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const iA=["get","getKey","getAll","getAllKeys","count"],aA=["put","add","delete","clear"],mm=new Map;function k_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=aA.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||iA.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return mm.set(e,u),u}eA(r=>({...r,get:(e,n,a)=>k_(e,n)||r.get(e,n,a),has:(e,n)=>!!k_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oA(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function oA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Om="@firebase/app",U_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new ig("@firebase/app"),lA="@firebase/app-compat",uA="@firebase/analytics-compat",cA="@firebase/analytics",hA="@firebase/app-check-compat",fA="@firebase/app-check",dA="@firebase/auth",mA="@firebase/auth-compat",gA="@firebase/database",pA="@firebase/data-connect",yA="@firebase/database-compat",vA="@firebase/functions",_A="@firebase/functions-compat",EA="@firebase/installations",TA="@firebase/installations-compat",bA="@firebase/messaging",wA="@firebase/messaging-compat",SA="@firebase/performance",AA="@firebase/performance-compat",RA="@firebase/remote-config",IA="@firebase/remote-config-compat",CA="@firebase/storage",DA="@firebase/storage-compat",OA="@firebase/firestore",MA="@firebase/ai",NA="@firebase/firestore-compat",xA="firebase",VA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="[DEFAULT]",PA={[Om]:"fire-core",[lA]:"fire-core-compat",[cA]:"fire-analytics",[uA]:"fire-analytics-compat",[fA]:"fire-app-check",[hA]:"fire-app-check-compat",[dA]:"fire-auth",[mA]:"fire-auth-compat",[gA]:"fire-rtdb",[pA]:"fire-data-connect",[yA]:"fire-rtdb-compat",[vA]:"fire-fn",[_A]:"fire-fn-compat",[EA]:"fire-iid",[TA]:"fire-iid-compat",[bA]:"fire-fcm",[wA]:"fire-fcm-compat",[SA]:"fire-perf",[AA]:"fire-perf-compat",[RA]:"fire-rc",[IA]:"fire-rc-compat",[CA]:"fire-gcs",[DA]:"fire-gcs-compat",[OA]:"fire-fst",[NA]:"fire-fst-compat",[MA]:"fire-vertex","fire-js":"fire-js",[xA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,LA=new Map,Nm=new Map;function z_(r,e){try{r.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Oo(r){const e=r.name;if(Nm.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,r);for(const n of Th.values())z_(n,r);for(const n of LA.values())z_(n,r);return!0}function sg(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function wr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new bu("app","Firebase",kA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=VA;function KE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Mm,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw wa.create("bad-app-name",{appName:String(o)});if(n||(n=jE()),!n)throw wa.create("no-options");const u=Th.get(o);if(u){if(Es(n,u.options)&&Es(a,u.config))return u;throw wa.create("duplicate-app",{appName:o})}const h=new F1(o);for(const g of Nm.values())h.addComponent(g);const m=new UA(n,a,h);return Th.set(o,m),m}function QE(r=Mm){const e=Th.get(r);if(!e&&r===Mm&&jE())return KE();if(!e)throw wa.create("no-app",{appName:r});return e}function Sa(r,e,n){var a;let o=(a=PA[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(m.join(" "));return}Oo(new Ts(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firebase-heartbeat-database",BA=1,cu="firebase-heartbeat-store";let gm=null;function $E(){return gm||(gm=rA(zA,BA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(cu)}catch(n){console.warn(n)}}}}).catch(r=>{throw wa.create("idb-open",{originalErrorMessage:r.message})})),gm}async function jA(r){try{const n=(await $E()).transaction(cu),a=await n.objectStore(cu).get(XE(r));return await n.done,a}catch(e){if(e instanceof Ui)Vi.warn(e.message);else{const n=wa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}async function B_(r,e){try{const a=(await $E()).transaction(cu,"readwrite");await a.objectStore(cu).put(e,XE(r)),await a.done}catch(n){if(n instanceof Ui)Vi.warn(n.message);else{const a=wa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vi.warn(a.message)}}}function XE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1024,qA=30;class FA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YA(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=j_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>qA){const h=KA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Vi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=j_(),{heartbeatsToSend:a,unsentEntries:o}=GA(this._heartbeatsCache.heartbeats),u=Eh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Vi.warn(n),""}}}function j_(){return new Date().toISOString().substring(0,10)}function GA(r,e=HA){const n=[];let a=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),H_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),H_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class YA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N1()?x1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function H_(r){return Eh(JSON.stringify({version:2,heartbeats:r})).length}function KA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(r){Oo(new Ts("platform-logger",e=>new sA(e),"PRIVATE")),Oo(new Ts("heartbeat",e=>new FA(e),"PRIVATE")),Sa(Om,U_,r),Sa(Om,U_,"esm2017"),Sa("fire-js","")}QA("");function og(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function WE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $A=WE,ZE=new bu("auth","Firebase",WE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new ig("@firebase/auth");function XA(r,...e){bh.logLevel<=et.WARN&&bh.warn(`Auth (${Uo}): ${r}`,...e)}function sh(r,...e){bh.logLevel<=et.ERROR&&bh.error(`Auth (${Uo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(r,...e){throw ug(r,...e)}function Rr(r,...e){return ug(r,...e)}function lg(r,e,n){const a=Object.assign(Object.assign({},$A()),{[e]:n});return new bu("auth","Firebase",a).create(e,{appName:r.name})}function ys(r){return lg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WA(r,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&ti(r,"argument-error"),lg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ug(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return ZE.create(r,...e)}function ke(r,e,...n){if(!r)throw ug(e,...n)}function Mi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw sh(e),new Error(e)}function Pi(r,e){r||Mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function ZA(){return q_()==="http:"||q_()==="https:"}function q_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZA()||C1()||"connection"in navigator)?navigator.onLine:!0}function eR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=A1()||D1()}get(){return JA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(r,e){Pi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rR=new Su(3e4,6e4);function hg(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function zo(r,e,n,a,o={}){return eT(r,o,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const m=wu(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:g},u);return I1()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&ko(r.emulatorConfig.host)&&(p.credentials="include"),JE.fetch()(await tT(r,r.config.apiHost,n,m),p)})}async function eT(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},tR),e);try{const o=new aR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Xc(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Xc(r,"user-disabled",h);const _=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw lg(r,_,p);ti(r,_)}}catch(o){if(o instanceof Ui)throw o;ti(r,"network-request-failed",{message:String(o)})}}async function iR(r,e,n,a,o={}){const u=await zo(r,e,n,a,o);return"mfaPendingCredential"in u&&ti(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function tT(r,e,n,a){const o=`${e}${n}?${a}`,u=r,h=u.config.emulator?cg(r.config,o):`${r.config.apiScheme}://${o}`;return nR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class aR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Rr(this.auth,"network-request-failed")),rR.get())})}}function Xc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Rr(r,e,a);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(r,e){return zo(r,"POST","/v1/accounts:delete",e)}async function wh(r,e){return zo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oR(r,e=!1){const n=On(r),a=await n.getIdToken(e),o=fg(a);ke(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:iu(pm(o.auth_time)),issuedAtTime:iu(pm(o.iat)),expirationTime:iu(pm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function pm(r){return Number(r)*1e3}function fg(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=zE(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function F_(r){const e=fg(r);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ui&&lR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function lR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(r){var e;const n=r.auth,a=await r.getIdToken(),o=await hu(r,wh(n,{idToken:a}));ke(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?nT(u.providerUserInfo):[],m=hR(r.providerData,h),g=r.isAnonymous,p=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),_=g?p:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Vm(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(r,w)}async function cR(r){const e=On(r);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hR(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function nT(r){return r.map(e=>{var{providerId:n}=e,a=og(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(r,e){const n=await eT(r,{},async()=>{const a=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await tT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:a};return r.emulatorConfig&&ko(r.emulatorConfig.host)&&(g.credentials="include"),JE.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dR(r,e){return zo(r,"POST","/v2/accounts:revokeToken",hg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=F_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await fR(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,h=new So;return a&&(ke(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(ke(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ke(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(r,e){ke(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Sr{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=og(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Vm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oR(this,e)}reload(){return cR(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await hu(this,sR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,h,m,g,p,_;const w=(a=n.displayName)!==null&&a!==void 0?a:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,I=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(h=n.photoURL)!==null&&h!==void 0?h:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,Y=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,G=(p=n.createdAt)!==null&&p!==void 0?p:void 0,ue=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ae,emailVerified:me,isAnonymous:fe,providerData:B,stsTokenManager:x}=n;ke(ae&&x,e,"internal-error");const A=So.fromJSON(this.name,x);ke(typeof ae=="string",e,"internal-error"),pa(w,e.name),pa(T,e.name),ke(typeof me=="boolean",e,"internal-error"),ke(typeof fe=="boolean",e,"internal-error"),pa(I,e.name),pa(O,e.name),pa(Q,e.name),pa(Y,e.name),pa(G,e.name),pa(ue,e.name);const R=new Sr({uid:ae,auth:e,email:T,emailVerified:me,displayName:w,isAnonymous:fe,photoURL:O,phoneNumber:I,tenantId:Q,stsTokenManager:A,createdAt:G,lastLoginAt:ue});return B&&Array.isArray(B)&&(R.providerData=B.map(V=>Object.assign({},V))),Y&&(R._redirectEventId=Y),R}static async _fromIdTokenResponse(e,n,a=!1){const o=new So;o.updateFromServerResponse(n);const u=new Sr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Sh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];ke(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?nT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new So;m.updateFromIdToken(a);const g=new Sr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;function Ni(r){Pi(r instanceof Function,"Expected a class definition");let e=G_.get(r);return e?(Pi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,G_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rT.type="NONE";const Y_=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(r,e,n){return`firebase:${r}:${e}:${n}`}class Ao{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?Sr._fromGetAccountInfoResponse(this.auth,n,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Ao(Ni(Y_),e,a);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Ni(Y_);const h=oh(a,e.config.apiKey,e.name);let m=null;for(const p of n)try{const _=await p._get(h);if(_){let w;if(typeof _=="string"){const T=await wh(e,{idToken:_}).catch(()=>{});if(!T)break;w=await Sr._fromGetAccountInfoResponse(e,T,_)}else w=Sr._fromJSON(e,_);p!==u&&(m=w),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ao(u,e,a):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new Ao(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uT(e))return"Blackberry";if(cT(e))return"Webos";if(aT(e))return"Safari";if((e.includes("chrome/")||sT(e))&&!e.includes("edge/"))return"Chrome";if(lT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function iT(r=bn()){return/firefox\//i.test(r)}function aT(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sT(r=bn()){return/crios\//i.test(r)}function oT(r=bn()){return/iemobile/i.test(r)}function lT(r=bn()){return/android/i.test(r)}function uT(r=bn()){return/blackberry/i.test(r)}function cT(r=bn()){return/webos/i.test(r)}function dg(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mR(r=bn()){var e;return dg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gR(){return O1()&&document.documentMode===10}function hT(r=bn()){return dg(r)||lT(r)||cT(r)||uT(r)||/windows phone/i.test(r)||oT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r,e=[]){let n;switch(r){case"Browser":n=K_(bn());break;case"Worker":n=`${K_(bn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(r,e={}){return zo(r,"GET","/v2/passwordPolicy",hg(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=6;class _R{constructor(e){var n,a,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:vR,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(a=g.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new pR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),a=await Sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(ys(this));const n=e?On(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yR(this),n=new _R(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await dR(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ni(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fh(r){return On(r)}class Q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=U1(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TR(r){mg=r}function bR(r){return mg.loadJS(r)}function wR(){return mg.gapiScript}function SR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(r,e){const n=sg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Es(u,e??{}))return o;ti(o,"already-initialized")}return n.initialize({options:e})}function RR(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Ni);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function IR(r,e,n){const a=Fh(r);ke(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=dT(e),{host:h,port:m}=CR(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ke(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ke(Es(p,a.config.emulator)&&Es(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,ko(h)?(qE(`${u}//${h}${g}`),FE("Auth",!0)):DR()}function dT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function CR(r){const e=dT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:$_(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:$_(h)}}}function $_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function DR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,n){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(r,e){return iR(r,"POST","/v1/accounts:signInWithIdp",hg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="http://localhost";class bs extends mT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=og(n,["providerId","signInMethod"]);if(!a||!o)return null;const h=new bs(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Ro(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Ro(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ro(e,n)}buildRequest(){const e={requestUri:OR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends gg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Au{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.FACEBOOK_SIGN_IN_METHOD="facebook.com";va.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Di.credential(n,a)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Au{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com";Oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Au{constructor(){super("twitter.com")}static credential(e,n){return bs._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return _a.credential(n,a)}catch{return null}}}_a.TWITTER_SIGN_IN_METHOD="twitter.com";_a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Sr._fromIdTokenResponse(e,a,o),h=X_(a);return new Mo({user:u,providerId:h,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=X_(a);return new Mo({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function X_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends Ui{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Ah(e,n,a,o)}}function gT(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(r,u,e,a):u})}async function MR(r,e,n=!1){const a=await hu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Mo._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(r,e,n=!1){const{auth:a}=r;if(wr(a.app))return Promise.reject(ys(a));const o="reauthenticate";try{const u=await hu(r,gT(a,o,e,r),n);ke(u.idToken,a,"internal-error");const h=fg(u.idToken);ke(h,a,"internal-error");const{sub:m}=h;return ke(r.uid===m,a,"user-mismatch"),Mo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ti(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(r,e,n=!1){if(wr(r.app))return Promise.reject(ys(r));const a="signIn",o=await gT(r,a,e),u=await Mo._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}function VR(r,e,n,a){return On(r).onIdTokenChanged(e,n,a)}function PR(r,e,n){return On(r).beforeAuthStateChanged(e,n)}function LR(r,e,n,a){return On(r).onAuthStateChanged(e,n,a)}function kR(r){return On(r).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1e3,zR=10;class yT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);gR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,zR):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},UR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yT.type="LOCAL";const BR=yT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vT.type="SESSION";const _T=vT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Gh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await jR(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=pg("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function qR(r){$r().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function FR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function YR(){return ET()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firebaseLocalStorageDb",KR=1,Ih="firebaseLocalStorage",bT="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(r,e){return r.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function QR(){const r=indexedDB.deleteDatabase(TT);return new Ru(r).toPromise()}function Pm(){const r=indexedDB.open(TT,KR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Ih,{keyPath:bT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Ih)?e(a):(a.close(),await QR(),e(await Pm()))})})}async function W_(r,e,n){const a=Yh(r,!0).put({[bT]:e,value:n});return new Ru(a).toPromise()}async function $R(r,e){const n=Yh(r,!1).get(e),a=await new Ru(n).toPromise();return a===void 0?null:a.value}function Z_(r,e){const n=Yh(r,!0).delete(e);return new Ru(n).toPromise()}const XR=800,WR=3;class wT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>WR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ET()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(YR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FR(),!this.activeServiceWorker)return;this.sender=new HR(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pm();return await W_(e,Rh,"1"),await Z_(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>W_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>$R(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new Ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wT.type="LOCAL";const ZR=wT;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(r,e){return e?Ni(e):(ke(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends mT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JR(r){return xR(r.auth,new yg(r),r.bypassAuthState)}function eI(r){const{auth:e,user:n}=r;return ke(n,e,"internal-error"),NR(n,new yg(r),r.bypassAuthState)}async function tI(r){const{auth:e,user:n}=r;return ke(n,e,"internal-error"),MR(n,new yg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JR;case"linkViaPopup":case"linkViaRedirect":return tI;case"reauthViaPopup":case"reauthViaRedirect":return eI;default:ti(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new Su(2e3,1e4);async function J_(r,e,n){if(wr(r.app))return Promise.reject(Rr(r,"operation-not-supported-in-this-environment"));const a=Fh(r);WA(r,e,gg);const o=ST(a,n);return new ms(a,"signInViaPopup",e,o).executeNotNull()}class ms extends AT{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,ms.currentPopupAction&&ms.currentPopupAction.cancel(),ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nI.get())};e()}}ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="pendingRedirect",lh=new Map;class iI extends AT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const a=await aI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aI(r,e){const n=lI(e),a=oI(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function sI(r,e){lh.set(r._key(),e)}function oI(r){return Ni(r._redirectPersistence)}function lI(r){return oh(rI,r.config.apiKey,r.name)}async function uI(r,e,n=!1){if(wr(r.app))return Promise.reject(ys(r));const a=Fh(r),o=ST(a,e),h=await new iI(a,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=10*60*1e3;class hI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!RT(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cI&&this.cachedEventUids.clear(),this.cachedEventUids.has(e0(e))}saveEventToCache(e){this.cachedEventUids.add(e0(e)),this.lastProcessedEventTime=Date.now()}}function e0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function RT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,e={}){return zo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gI=/^https?/;async function pI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await dI(r);for(const n of e)try{if(yI(n))return}catch{}ti(r,"unauthorized-domain")}function yI(r){const e=xm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!gI.test(n))return!1;if(mI.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new Su(3e4,6e4);function t0(){const r=$r().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function _I(r){return new Promise((e,n)=>{var a,o,u;function h(){t0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t0(),n(Rr(r,"network-request-failed"))},timeout:vI.get()})}if(!((o=(a=$r().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=$r().gapi)===null||u===void 0)&&u.load)h();else{const m=SR("iframefcb");return $r()[m]=()=>{gapi.load?h():n(Rr(r,"network-request-failed"))},bR(`${wR()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw uh=null,e})}let uh=null;function EI(r){return uh=uh||_I(r),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Su(5e3,15e3),bI="__/auth/iframe",wI="emulator/auth/iframe",SI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RI(r){const e=r.config;ke(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?cg(e,wI):`https://${r.config.authDomain}/${bI}`,a={apiKey:e.apiKey,appName:r.name,v:Uo},o=AI.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${wu(a).slice(1)}`}async function II(r){const e=await EI(r),n=$r().gapi;return ke(n,r,"internal-error"),e.open({where:document.body,url:RI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SI,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=Rr(r,"network-request-failed"),m=$r().setTimeout(()=>{u(h)},TI.get());function g(){$r().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DI=500,OI=600,MI="_blank",NI="http://localhost";class n0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xI(r,e,n,a=DI,o=OI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g=Object.assign(Object.assign({},CI),{width:a.toString(),height:o.toString(),top:u,left:h}),p=bn().toLowerCase();n&&(m=sT(p)?MI:n),iT(p)&&(e=e||NI,g.scrollbars="yes");const _=Object.entries(g).reduce((T,[I,O])=>`${T}${I}=${O},`,"");if(mR(p)&&m!=="_self")return VI(e||"",m),new n0(null);const w=window.open(e||"",m,_);ke(w,r,"popup-blocked");try{w.focus()}catch{}return new n0(w)}function VI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="__/auth/handler",LI="emulator/auth/handler",kI=encodeURIComponent("fac");async function r0(r,e,n,a,o,u){ke(r.config.authDomain,r,"auth-domain-config-required"),ke(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Uo,eventId:o};if(e instanceof gg){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",k1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))h[_]=w}if(e instanceof Au){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await r._getAppCheckToken(),p=g?`#${kI}=${encodeURIComponent(g)}`:"";return`${UI(r)}?${wu(m).slice(1)}${p}`}function UI({config:r}){return r.emulator?cg(r,LI):`https://${r.authDomain}/${PI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="webStorageSupport";class zI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_T,this._completeRedirectFn=uI,this._overrideRedirectResult=sI}async _openPopup(e,n,a,o){var u;Pi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await r0(e,n,a,xm(),o);return xI(e,h,pg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await r0(e,n,a,xm(),o);return qR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Pi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await II(e),a=new hI(e);return n.register("authEvent",o=>(ke(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ym,{type:ym},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[ym];h!==void 0&&n(!!h),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hT()||aT()||dg()}}const BI=zI;var i0="@firebase/auth",a0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qI(r){Oo(new Ts("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;ke(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fT(r)},p=new ER(a,o,u,g);return RR(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Oo(new Ts("auth-internal",e=>{const n=Fh(e.getProvider("auth").getImmediate());return(a=>new jI(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sa(i0,a0,HI(r)),Sa(i0,a0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=5*60,GI=HE("authIdTokenMaxAge")||FI;let s0=null;const YI=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>GI)return;const o=n==null?void 0:n.token;s0!==o&&(s0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KI(r=QE()){const e=sg(r,"auth");if(e.isInitialized())return e.getImmediate();const n=AR(r,{popupRedirectResolver:BI,persistence:[ZR,BR,_T]}),a=HE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=YI(u.toString());PR(n,h,()=>h(n.currentUser)),VR(n,m=>h(m))}}const o=BE("auth");return o&&IR(n,`http://${o}`),n}function QI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}TR({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Rr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",QI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qI("Browser");var $I="firebase",XI="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sa($I,XI,"app");var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Aa,IT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function R(){}R.prototype=A.prototype,x.D=A.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(V,L,k){for(var D=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)D[ze-2]=arguments[ze];return A.prototype[L].apply(V,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,R){R||(R=0);var V=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)V[L]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(L=0;16>L;++L)V[L]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=x.g[0],R=x.g[1],L=x.g[2];var k=x.g[3],D=A+(k^R&(L^k))+V[0]+3614090360&4294967295;A=R+(D<<7&4294967295|D>>>25),D=k+(L^A&(R^L))+V[1]+3905402710&4294967295,k=A+(D<<12&4294967295|D>>>20),D=L+(R^k&(A^R))+V[2]+606105819&4294967295,L=k+(D<<17&4294967295|D>>>15),D=R+(A^L&(k^A))+V[3]+3250441966&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(k^R&(L^k))+V[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=k+(L^A&(R^L))+V[5]+1200080426&4294967295,k=A+(D<<12&4294967295|D>>>20),D=L+(R^k&(A^R))+V[6]+2821735955&4294967295,L=k+(D<<17&4294967295|D>>>15),D=R+(A^L&(k^A))+V[7]+4249261313&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(k^R&(L^k))+V[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=k+(L^A&(R^L))+V[9]+2336552879&4294967295,k=A+(D<<12&4294967295|D>>>20),D=L+(R^k&(A^R))+V[10]+4294925233&4294967295,L=k+(D<<17&4294967295|D>>>15),D=R+(A^L&(k^A))+V[11]+2304563134&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(k^R&(L^k))+V[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=k+(L^A&(R^L))+V[13]+4254626195&4294967295,k=A+(D<<12&4294967295|D>>>20),D=L+(R^k&(A^R))+V[14]+2792965006&4294967295,L=k+(D<<17&4294967295|D>>>15),D=R+(A^L&(k^A))+V[15]+1236535329&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(L^k&(R^L))+V[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^L&(A^R))+V[6]+3225465664&4294967295,k=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(k^A))+V[11]+643717713&4294967295,L=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(L^k))+V[0]+3921069994&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(L^k&(R^L))+V[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^L&(A^R))+V[10]+38016083&4294967295,k=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(k^A))+V[15]+3634488961&4294967295,L=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(L^k))+V[4]+3889429448&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(L^k&(R^L))+V[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^L&(A^R))+V[14]+3275163606&4294967295,k=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(k^A))+V[3]+4107603335&4294967295,L=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(L^k))+V[8]+1163531501&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(L^k&(R^L))+V[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^L&(A^R))+V[2]+4243563512&4294967295,k=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(k^A))+V[7]+1735328473&4294967295,L=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(L^k))+V[12]+2368359562&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(R^L^k)+V[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^L)+V[8]+2272392833&4294967295,k=A+(D<<11&4294967295|D>>>21),D=L+(k^A^R)+V[11]+1839030562&4294967295,L=k+(D<<16&4294967295|D>>>16),D=R+(L^k^A)+V[14]+4259657740&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(R^L^k)+V[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^L)+V[4]+1272893353&4294967295,k=A+(D<<11&4294967295|D>>>21),D=L+(k^A^R)+V[7]+4139469664&4294967295,L=k+(D<<16&4294967295|D>>>16),D=R+(L^k^A)+V[10]+3200236656&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(R^L^k)+V[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^L)+V[0]+3936430074&4294967295,k=A+(D<<11&4294967295|D>>>21),D=L+(k^A^R)+V[3]+3572445317&4294967295,L=k+(D<<16&4294967295|D>>>16),D=R+(L^k^A)+V[6]+76029189&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(R^L^k)+V[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^L)+V[12]+3873151461&4294967295,k=A+(D<<11&4294967295|D>>>21),D=L+(k^A^R)+V[15]+530742520&4294967295,L=k+(D<<16&4294967295|D>>>16),D=R+(L^k^A)+V[2]+3299628645&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(L^(R|~k))+V[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~L))+V[7]+1126891415&4294967295,k=A+(D<<10&4294967295|D>>>22),D=L+(A^(k|~R))+V[14]+2878612391&4294967295,L=k+(D<<15&4294967295|D>>>17),D=R+(k^(L|~A))+V[5]+4237533241&4294967295,R=L+(D<<21&4294967295|D>>>11),D=A+(L^(R|~k))+V[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~L))+V[3]+2399980690&4294967295,k=A+(D<<10&4294967295|D>>>22),D=L+(A^(k|~R))+V[10]+4293915773&4294967295,L=k+(D<<15&4294967295|D>>>17),D=R+(k^(L|~A))+V[1]+2240044497&4294967295,R=L+(D<<21&4294967295|D>>>11),D=A+(L^(R|~k))+V[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~L))+V[15]+4264355552&4294967295,k=A+(D<<10&4294967295|D>>>22),D=L+(A^(k|~R))+V[6]+2734768916&4294967295,L=k+(D<<15&4294967295|D>>>17),D=R+(k^(L|~A))+V[13]+1309151649&4294967295,R=L+(D<<21&4294967295|D>>>11),D=A+(L^(R|~k))+V[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~L))+V[11]+3174756917&4294967295,k=A+(D<<10&4294967295|D>>>22),D=L+(A^(k|~R))+V[2]+718787259&4294967295,L=k+(D<<15&4294967295|D>>>17),D=R+(k^(L|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+k&4294967295}a.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var R=A-this.blockSize,V=this.B,L=this.h,k=0;k<A;){if(L==0)for(;k<=R;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<A;)if(V[L++]=x.charCodeAt(k++),L==this.blockSize){o(this,V),L=0;break}}else for(;k<A;)if(V[L++]=x[k++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=A},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var R=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=R&255,R/=256;for(this.u(x),x=Array(16),A=R=0;4>A;++A)for(var V=0;32>V;V+=8)x[R++]=this.g[A]>>>V&255;return x};function u(x,A){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=A(x)}function h(x,A){this.h=A;for(var R=[],V=!0,L=x.length-1;0<=L;L--){var k=x[L]|0;V&&k==A||(R[L]=k,V=!1)}this.g=R}var m={};function g(x){return-128<=x&&128>x?u(x,function(A){return new h([A|0],0>A?-1:0)}):new h([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return Y(p(-x));for(var A=[],R=1,V=0;x>=R;V++)A[V]=x/R|0,R*=4294967296;return new h(A,0)}function _(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return Y(_(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(A,8)),V=w,L=0;L<x.length;L+=8){var k=Math.min(8,x.length-L),D=parseInt(x.substring(L,L+k),A);8>k?(k=p(Math.pow(A,k)),V=V.j(k).add(p(D))):(V=V.j(R),V=V.add(p(D)))}return V}var w=g(0),T=g(1),I=g(16777216);r=h.prototype,r.m=function(){if(Q(this))return-Y(this).m();for(var x=0,A=1,R=0;R<this.g.length;R++){var V=this.i(R);x+=(0<=V?V:4294967296+V)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O(this))return"0";if(Q(this))return"-"+Y(this).toString(x);for(var A=p(Math.pow(x,6)),R=this,V="";;){var L=me(R,A).g;R=G(R,L.j(A));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=L,O(R))return k+V;for(;6>k.length;)k="0"+k;V=k+V}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function O(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function Q(x){return x.h==-1}r.l=function(x){return x=G(this,x),Q(x)?-1:O(x)?0:1};function Y(x){for(var A=x.g.length,R=[],V=0;V<A;V++)R[V]=~x.g[V];return new h(R,~x.h).add(T)}r.abs=function(){return Q(this)?Y(this):this},r.add=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],V=0,L=0;L<=A;L++){var k=V+(this.i(L)&65535)+(x.i(L)&65535),D=(k>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);V=D>>>16,k&=65535,D&=65535,R[L]=D<<16|k}return new h(R,R[R.length-1]&-2147483648?-1:0)};function G(x,A){return x.add(Y(A))}r.j=function(x){if(O(this)||O(x))return w;if(Q(this))return Q(x)?Y(this).j(Y(x)):Y(Y(this).j(x));if(Q(x))return Y(this.j(Y(x)));if(0>this.l(I)&&0>x.l(I))return p(this.m()*x.m());for(var A=this.g.length+x.g.length,R=[],V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<x.g.length;L++){var k=this.i(V)>>>16,D=this.i(V)&65535,ze=x.i(L)>>>16,He=x.i(L)&65535;R[2*V+2*L]+=D*He,ue(R,2*V+2*L),R[2*V+2*L+1]+=k*He,ue(R,2*V+2*L+1),R[2*V+2*L+1]+=D*ze,ue(R,2*V+2*L+1),R[2*V+2*L+2]+=k*ze,ue(R,2*V+2*L+2)}for(V=0;V<A;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=A;V<2*A;V++)R[V]=0;return new h(R,0)};function ue(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function ae(x,A){this.g=x,this.h=A}function me(x,A){if(O(A))throw Error("division by zero");if(O(x))return new ae(w,w);if(Q(x))return A=me(Y(x),A),new ae(Y(A.g),Y(A.h));if(Q(A))return A=me(x,Y(A)),new ae(Y(A.g),A.h);if(30<x.g.length){if(Q(x)||Q(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,V=A;0>=V.l(x);)R=fe(R),V=fe(V);var L=B(R,1),k=B(V,1);for(V=B(V,2),R=B(R,2);!O(V);){var D=k.add(V);0>=D.l(x)&&(L=L.add(R),k=D),V=B(V,1),R=B(R,1)}return A=G(x,L.j(A)),new ae(L,A)}for(L=w;0<=x.l(A);){for(R=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),k=p(R),D=k.j(A);Q(D)||0<D.l(x);)R-=V,k=p(R),D=k.j(A);O(k)&&(k=T),L=L.add(k),x=G(x,D)}return new ae(L,x)}r.A=function(x){return me(this,x).h},r.and=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)&x.i(V);return new h(R,this.h&x.h)},r.or=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)|x.i(V);return new h(R,this.h|x.h)},r.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)^x.i(V);return new h(R,this.h^x.h)};function fe(x){for(var A=x.g.length+1,R=[],V=0;V<A;V++)R[V]=x.i(V)<<1|x.i(V-1)>>>31;return new h(R,x.h)}function B(x,A){var R=A>>5;A%=32;for(var V=x.g.length-R,L=[],k=0;k<V;k++)L[k]=0<A?x.i(k+R)>>>A|x.i(k+R+1)<<32-A:x.i(k+R);return new h(L,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,IT=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=_,Aa=h}).apply(typeof o0<"u"?o0:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CT,Wl,DT,ch,Lm,OT,MT,NT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break e;v=v[j]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,j={next:function(){if(!S&&v<c.length){var Z=v++;return{value:y(Z,c[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function T(c,y,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function I(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function O(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,j,Z){for(var de=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)de[rt-2]=arguments[rt];return y.prototype[j].apply(S,de)}}function Q(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function Y(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const j=c.length||0,Z=S.length||0;c.length=j+Z;for(let de=0;de<Z;de++)c[j+de]=S[de]}else c.push(S)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ue(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var fe=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function B(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let Z=0;Z<R.length;Z++)v=R[Z],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function L(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function k(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Le;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ze{constructor(){this.h=this.g=null}add(y,v){const S=He.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var He=new G(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ge=!1,Le=new ze,M=()=>{const c=m.Promise.resolve(void 0);ce=()=>{c.then(te)}};var te=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){k(v)}var y=He;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function qe(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(fe){e:{try{me(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&qe.aa.h.call(this)}}O(qe,oe);var Ce={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),pt=0;function $n(c,y,v,S,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=j,this.key=++pt,this.da=this.fa=!1}function Rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mn(c){this.src=c,this.g={},this.h=0}mn.prototype.add=function(c,y,v,S,j){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var de=ii(c,y,S,j);return-1<de?(y=c[de],v||(y.fa=!1)):(y=new $n(y,this.src,Z,!!S,j),y.fa=v,c.push(y)),y};function Cr(c,y){var v=y.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,y,void 0),Z;(Z=0<=j)&&Array.prototype.splice.call(S,j,1),Z&&(Rt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ii(c,y,v,S){for(var j=0;j<c.length;++j){var Z=c[j];if(!Z.da&&Z.listener==y&&Z.capture==!!v&&Z.ha==S)return j}return-1}var wn="closure_lm_"+(1e6*Math.random()|0),ka={};function Ns(c,y,v,S,j){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)Ns(c,y[Z],v,S,j);return null}return v=Hi(v),c&&c[Pt]?c.K(y,v,p(S)?!!S.capture:!1,j):Sn(c,y,v,!1,S,j)}function Sn(c,y,v,S,j,Z){if(!y)throw Error("Invalid event type");var de=p(j)?!!j.capture:!!j,rt=Xn(c);if(rt||(c[wn]=rt=new mn(c)),v=rt.add(y,v,S,de,Z),v.proxy)return v;if(S=Go(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)Se||(j=de),j===void 0&&(j=!1),c.addEventListener(y.toString(),S,j);else if(c.attachEvent)c.attachEvent(ai(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Go(){function c(v){return y.call(c.src,c.listener,v)}const y=yr;return c}function Ua(c,y,v,S,j){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)Ua(c,y[Z],v,S,j);else S=p(S)?!!S.capture:!!S,v=Hi(v),c&&c[Pt]?(c=c.i,y=String(y).toString(),y in c.g&&(Z=c.g[y],v=ii(Z,v,S,j),-1<v&&(Rt(Z[v]),Array.prototype.splice.call(Z,v,1),Z.length==0&&(delete c.g[y],c.h--)))):c&&(c=Xn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ii(y,v,S,j)),(v=-1<c?y[c]:null)&&Bi(v))}function Bi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Pt])Cr(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ai(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Xn(y))?(Cr(v,c),v.h==0&&(v.src=null,y[wn]=null)):Rt(c)}}}function ai(c){return c in ka?ka[c]:ka[c]="on"+c}function yr(c,y){if(c.da)c=!0;else{y=new qe(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&Bi(c),c=v.call(S,y)}return c}function Xn(c){return c=c[wn],c instanceof mn?c:null}var ji="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hi(c){return typeof c=="function"?c:(c[ji]||(c[ji]=function(y){return c.handleEvent(y)}),c[ji])}function ut(){he.call(this),this.i=new mn(this),this.M=this,this.F=null}O(ut,he),ut.prototype[Pt]=!0,ut.prototype.removeEventListener=function(c,y,v,S){Ua(this,c,y,v,S)};function Ge(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var j=y;y=new oe(S,c),V(y,j)}if(j=!0,v)for(var Z=v.length-1;0<=Z;Z--){var de=y.g=v[Z];j=gn(de,S,!0,y)&&j}if(de=y.g=c,j=gn(de,S,!0,y)&&j,j=gn(de,S,!1,y)&&j,v)for(Z=0;Z<v.length;Z++)de=y.g=v[Z],j=gn(de,S,!1,y)&&j}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)Rt(v[S]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},ut.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function gn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Z=0;Z<y.length;++Z){var de=y[Z];if(de&&!de.da&&de.capture==v){var rt=de.listener,Yt=de.ha||de.src;de.fa&&Cr(c.i,de),j=rt.call(Yt,S)!==!1&&j}}return j&&!S.defaultPrevented}function Lt(c,y,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function xs(c){c.g=Lt(()=>{c.g=null,c.i&&(c.i=!1,xs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Wn extends he{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(c){he.call(this),this.h=c,this.g={}}O(Dr,he);var Or=[];function Mr(c){B(c.g,function(y,v){this.g.hasOwnProperty(v)&&Bi(y)},c),c.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),Mr(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=m.JSON.stringify,si=m.JSON.parse,Zn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function qi(){}qi.prototype.h=null;function oi(c){return c.h||(c.h=c.i())}function za(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){oe.call(this,"d")}O(vr,oe);function Fi(){oe.call(this,"c")}O(Fi,oe);var An={},Nr=null;function xr(){return Nr=Nr||new ut}An.La="serverreachability";function Gi(c){oe.call(this,An.La,c)}O(Gi,oe);function N(c){const y=xr();Ge(y,new Gi(y))}An.STAT_EVENT="statevent";function z(c,y){oe.call(this,An.STAT_EVENT,c),this.stat=y}O(z,oe);function q(c){const y=xr();Ge(y,new z(y,c))}An.Ma="timingevent";function ne(c,y){oe.call(this,An.Ma,c),this.size=y}O(ne,oe);function le(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function ve(){this.g=!0}ve.prototype.xa=function(){this.g=!1};function De(c,y,v,S,j,Z){c.info(function(){if(c.g)if(Z)for(var de="",rt=Z.split("&"),Yt=0;Yt<rt.length;Yt++){var it=rt[Yt].split("=");if(1<it.length){var Jt=it[0];it=it[1];var Kt=Jt.split("_");de=2<=Kt.length&&Kt[1]=="type"?de+(Jt+"="+it+"&"):de+(Jt+"=redacted&")}}else de=null;else de=Z;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+v+`
`+de})}function _e(c,y,v,S,j,Z,de){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+v+`
`+Z+" "+de})}function Te(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Oe(c,v)+(S?" "+S:"")})}function Ae(c,y){c.info(function(){return"TIMEOUT: "+y})}ve.prototype.info=function(){};function Oe(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var Z=j[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var de=1;de<j.length;de++)j[de]=""}}}}return Ln(v)}catch{return y}}var be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xe;function ht(){}O(ht,qi),ht.prototype.g=function(){return new XMLHttpRequest},ht.prototype.i=function(){return{}},Xe=new ht;function ot(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nt}function nt(){this.i=null,this.g="",this.h=!1}var Qe={},er={};function Gt(c,y,v){c.L=1,c.v=Ha(zn(y)),c.m=v,c.P=!0,Rn(c,null)}function Rn(c,y){c.F=Date.now(),kn(c),c.A=zn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Xo(v.i,"t",S),c.C=0,v=c.j.J,c.h=new nt,c.g=Yu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Wn(T(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Or[0]=j.toString()),j=Or);for(var Z=0;Z<j.length;Z++){var de=Ns(v,j[Z],S||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),N(),De(c.i,c.u,c.A,c.l,c.R,c.m)}ot.prototype.ca=function(c){c=c.target;const y=this.M;y&&ar(c)==3?y.j():this.Y(c)},ot.prototype.Y=function(c){try{if(c==this.g)e:{const Kt=ar(this.g);var y=this.g.Ba();const gi=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||Kt!=4||y==7||(y==8||0>=gi?N(3):N(2)),pn(this);var v=this.g.Z();this.X=v;t:if(an(this)){var S=Uu(this.g);c="";var j=S.length,Z=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),In(this);var de="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Z&&y==j-1)});S.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=v==200,_e(this.i,this.u,this.A,this.l,this.R,Kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Yt=this.g;if((rt=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ue(rt)){var it=rt;break t}}it=null}if(v=it)Te(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kt(this,v);else{this.o=!1,this.s=3,q(12),Ue(this),In(this);break e}}if(this.P){v=!0;let on;for(;!this.J&&this.C<de.length;)if(on=Vr(this,de),on==er){Kt==4&&(this.s=4,q(14),v=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Qe){this.s=4,q(15),Te(this.i,this.l,de,"[Invalid Chunk]"),v=!1;break}else Te(this.i,this.l,on,null),kt(this,on);if(an(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||de.length!=0||this.h.h||(this.s=1,q(16),v=!1),this.o=this.o&&v,!v)Te(this.i,this.l,de,"[Invalid Chunked Response]"),Ue(this),In(this);else if(0<de.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Xa(Jt),Jt.M=!0,q(11))}}else Te(this.i,this.l,de,null),kt(this,de);Kt==4&&Ue(this),this.o&&!this.J&&(Kt==4?qu(this.j,this):(this.o=!1,kn(this)))}else df(this.g),v==400&&0<de.indexOf("Unknown SID")?(this.s=3,q(12)):(this.s=0,q(13)),Ue(this),In(this)}}}catch{}finally{}};function an(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vr(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?er:(v=Number(y.substring(v,S)),isNaN(v)?Qe:(S+=1,S+v>y.length?er:(y=y.slice(S,S+v),c.C=S+v,y)))}ot.prototype.cancel=function(){this.J=!0,Ue(this)};function kn(c){c.S=Date.now()+c.I,Yi(c,c.I)}function Yi(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=le(T(c.ba,c),y)}function pn(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ot.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ae(this.i,this.A),this.L!=2&&(N(),q(17)),Ue(this),this.s=2,In(this)):Yi(this,this.S-c)};function In(c){c.j.G==0||c.J||qu(c.j,c)}function Ue(c){pn(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Mr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function kt(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||tr(v.h,c))){if(!c.K&&tr(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Hs(v),Bs(v);else break e;tl(v),q(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=le(T(v.Za,v),6e3));if(1>=Tt(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else mi(v,11)}else if((c.K||v.g==c)&&Hs(v),!ue(y))for(j=v.Da.g.parse(y),y=0;y<j.length;y++){let it=j[y];if(v.T=it[0],it=it[1],v.G==2)if(it[0]=="c"){v.K=it[1],v.ia=it[2];const Jt=it[3];Jt!=null&&(v.la=Jt,v.j.info("VER="+v.la));const Kt=it[4];Kt!=null&&(v.Aa=Kt,v.j.info("SVER="+v.Aa));const gi=it[5];gi!=null&&typeof gi=="number"&&0<gi&&(S=1.5*gi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const on=c.g;if(on){const Hr=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var Z=S.h;Z.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(li(Z,Z.h),Z.h=null))}if(S.D){const rl=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(S.ya=rl,yt(S.I,S.D,rl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var de=c;if(S.qa=Gu(S,S.J?S.ia:null,S.W),de.K){sn(S.h,de);var rt=de,Yt=S.L;Yt&&(rt.I=Yt),rt.B&&(pn(rt),kn(rt)),S.g=de}else ju(S);0<v.i.length&&js(v)}else it[0]!="stop"&&it[0]!="close"||mi(v,7);else v.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?mi(v,7):Jo(v):it[0]!="noop"&&v.l&&v.l.ta(it),v.v=0)}}N(4)}catch{}}var Un=class{constructor(c,y){this.g=c,this.map=y}};function Mn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tt(c){return c.h?1:c.g?c.g.size:0}function tr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function li(c,y){c.g?c.g.add(y):c.h=y}function sn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Mn.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return Q(c.i)}function uf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function Vs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Ko(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Vs(c),S=uf(c),j=S.length,Z=0;Z<j;Z++)y.call(void 0,S[Z],v&&v[Z],c)}var Ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),j=null;if(0<=S){var Z=c[v].substring(0,S);j=c[v].substring(S+1)}else Z=c[v];y(Z,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ut(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ut){this.h=c.h,ja(this,c.j),this.o=c.o,this.g=c.g,Ki(this,c.s),this.l=c.l;var y=c.i,v=new ci;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ui(this,v),this.m=c.m}else c&&(y=String(c).match(Ba))?(this.h=!1,ja(this,y[1]||"",!0),this.o=nr(y[2]||""),this.g=nr(y[3]||"",!0),Ki(this,y[4]),this.l=nr(y[5]||"",!0),ui(this,y[6]||"",!0),this.m=nr(y[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}Ut.prototype.toString=function(){var c=[],y=this.j;y&&c.push(qa(y,Qo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(qa(y,Qo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(qa(v,v.charAt(0)=="/"?hf:$o,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",qa(v,Ps)),c.join("")};function zn(c){return new Ut(c)}function ja(c,y,v){c.j=v?nr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ki(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ui(c,y,v){y instanceof ci?(c.i=y,Lu(c.i,c.h)):(v||(y=qa(y,ff)),c.i=new ci(y,c.h))}function yt(c,y,v){c.i.set(y,v)}function Ha(c){return yt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function nr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qa(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Pu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Qo=/[#\/\?@]/g,$o=/[#\?:]/g,hf=/[#\?]/g,ff=/[#\?@]/g,Ps=/#/g;function ci(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function rr(c){c.g||(c.g=new Map,c.h=0,c.i&&cf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=ci.prototype,r.add=function(c,y){rr(this),this.i=null,c=Lr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function hi(c,y){rr(c),y=Lr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function fi(c,y){return rr(c),y=Lr(c,y),c.g.has(y)}r.forEach=function(c,y){rr(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(y,j,S,this)},this)},this)},r.na=function(){rr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const j=c[S];for(let Z=0;Z<j.length;Z++)v.push(y[S])}return v},r.V=function(c){rr(this);let y=[];if(typeof c=="string")fi(this,c)&&(y=y.concat(this.g.get(Lr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return rr(this),this.i=null,c=Lr(this,c),fi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Xo(c,y,v){hi(c,y),0<v.length&&(c.i=null,c.g.set(Lr(c,y),Q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const Z=encodeURIComponent(String(S)),de=this.V(S);for(S=0;S<de.length;S++){var j=Z;de[S]!==""&&(j+="="+encodeURIComponent(String(de[S]))),c.push(j)}}return this.i=c.join("&")};function Lr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Lu(c,y){y&&!c.j&&(rr(c),c.i=null,c.g.forEach(function(v,S){var j=S.toLowerCase();S!=j&&(hi(this,S),Xo(this,j,v))},c)),c.j=y}function Fa(c,y){const v=new ve;if(m.Image){const S=new Image;S.onload=I(ir,v,"TestLoadImage: loaded",!0,y,S),S.onerror=I(ir,v,"TestLoadImage: error",!1,y,S),S.onabort=I(ir,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(ir,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function _r(c,y){const v=new ve,S=new AbortController,j=setTimeout(()=>{S.abort(),ir(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Z=>{clearTimeout(j),Z.ok?ir(v,"TestPingServer: ok",!0,y):ir(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),ir(v,"TestPingServer: error",!1,y)})}function ir(c,y,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function Ga(){this.g=new Zn}function kr(c,y,v){const S=v||"";try{Ko(c,function(j,Z){let de=j;p(j)&&(de=Ln(j)),y.push(S+Z+"="+encodeURIComponent(de))})}catch(j){throw y.push(S+"type="+encodeURIComponent("_badmap")),j}}function Qi(c){this.l=c.Ub||null,this.j=c.eb||!1}O(Qi,qi),Qi.prototype.g=function(){return new di(this.l,this.j)},Qi.prototype.i=function(c){return function(){return c}}({});function di(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(di,ut),r=di.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,zr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ur(this):zr(this),this.readyState==3&&Wo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Ur(this))},r.Qa=function(c){this.g&&(this.response=c,Ur(this))},r.ga=function(){this.g&&Ur(this)};function Ur(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function zr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zo(c){let y="";return B(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Zt(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Zo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):yt(c,y,v))}function ft(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(ft,ut);var Ls=/^https?$/i,Ya=["POST","PUT"];r=ft.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xe.g(),this.v=this.o?oi(this.o):oi(Xe),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Z){ku(this,Z);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())v.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ya,y,void 0))||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,de]of v)this.g.setRequestHeader(Z,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ka(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){ku(this,Z)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ks(c),Br(c)}function ks(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),Br(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Br(this,!0)),ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Us(this):this.bb())},r.bb=function(){Us(this)};function Us(c){if(c.h&&typeof h<"u"&&(!c.v[1]||ar(c)!=4||c.Z()!=2)){if(c.u&&ar(c)==4)Lt(c.Ea,0,c);else if(Ge(c,"readystatechange"),ar(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=de===0){var j=String(c.D).match(Ba)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!Ls.test(j?j.toLowerCase():"")}v=S}if(v)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var Z=2<ar(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",ks(c)}}finally{Br(c)}}}}function Br(c,y){if(c.g){Ka(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{v.onreadystatechange=S}catch{}}}function Ka(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function ar(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),si(y)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function df(c){const y={};c=(c.g&&2<=ar(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ue(c[S]))continue;var v=L(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=y[j]||[];y[j]=Z,Z.push(v)}x(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function zs(c){this.Aa=0,this.i=[],this.j=new ve,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,c),this.cb=Qa("retryDelaySeedMs",1e4,c),this.Wa=Qa("forwardChannelMaxRetries",2,c),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Mn(c&&c.concurrentRequestLimit),this.Da=new Ga,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=zs.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,S){q(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Gu(this,null,this.W),js(this)};function Jo(c){if(zu(c),c.G==3){var y=c.U++,v=zn(c.I);if(yt(v,"SID",c.K),yt(v,"RID",y),yt(v,"TYPE","terminate"),$a(c,v),y=new ot(c,c.j,y),y.L=2,y.v=Ha(zn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Yu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),kn(y)}Fu(c)}function Bs(c){c.g&&(Xa(c),c.g.cancel(),c.g=null)}function zu(c){Bs(c),c.u&&(m.clearTimeout(c.u),c.u=null),Hs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function js(c){if(!Pr(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||M(),ge||(ce(),ge=!0),Le.add(y,c),c.B=0}}function mf(c,y){return Tt(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=le(T(c.Ga,c,y),nl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ot(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=A(Z),V(Z,this.S)):Z=this.S),this.m!==null||this.O||(j.H=Z,Z=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Bu(this,j,y),v=zn(this.I),yt(v,"RID",c),yt(v,"CVER",22),this.D&&yt(v,"X-HTTP-Session-Id",this.D),$a(this,v),Z&&(this.O?y="headers="+encodeURIComponent(String(Zo(Z)))+"&"+y:this.m&&Zt(v,this.m,Z)),li(this.h,j),this.Ua&&yt(v,"TYPE","init"),this.P?(yt(v,"$req",y),yt(v,"SID","null"),j.T=!0,Gt(j,v,null)):Gt(j,v,y),this.G=2}}else this.G==3&&(c?el(this,c):this.i.length==0||Pr(this.h)||el(this))};function el(c,y){var v;y?v=y.l:v=c.U++;const S=zn(c.I);yt(S,"SID",c.K),yt(S,"RID",v),yt(S,"AID",c.T),$a(c,S),c.m&&c.o&&Zt(S,c.m,c.o),v=new ot(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Bu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),li(c.h,v),Gt(v,S,y)}function $a(c,y){c.H&&B(c.H,function(v,S){yt(y,S,v)}),c.l&&Ko({},function(v,S){yt(y,S,v)})}function Bu(c,y,v){v=Math.min(c.i.length,v);var S=c.l?T(c.l.Na,c.l,c):null;e:{var j=c.i;let Z=-1;for(;;){const de=["count="+v];Z==-1?0<v?(Z=j[0].g,de.push("ofs="+Z)):Z=0:de.push("ofs="+Z);let rt=!0;for(let Yt=0;Yt<v;Yt++){let it=j[Yt].g;const Jt=j[Yt].map;if(it-=Z,0>it)Z=Math.max(0,j[Yt].g-100),rt=!1;else try{kr(Jt,de,"req"+it+"_")}catch{S&&S(Jt)}}if(rt){S=de.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||M(),ge||(ce(),ge=!0),Le.add(y,c),c.v=0}}function tl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=le(T(c.Fa,c),nl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=le(T(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,q(10),Bs(this),Hu(this))};function Xa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Hu(c){c.g=new ot(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=zn(c.qa);yt(y,"RID","rpc"),yt(y,"SID",c.K),yt(y,"AID",c.T),yt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&yt(y,"TO",c.ja),yt(y,"TYPE","xmlhttp"),$a(c,y),c.m&&c.o&&Zt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ha(zn(y)),v.m=null,v.P=!0,Rn(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Bs(this),tl(this),q(19))};function Hs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function qu(c,y){var v=null;if(c.g==y){Hs(c),Xa(c),c.g=null;var S=2}else if(tr(c.h,y))v=y.D,sn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;S=xr(),Ge(S,new ne(S,v)),js(c)}else ju(c);else if(j=y.s,j==3||j==0&&0<y.X||!(S==1&&mf(c,y)||S==2&&tl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),j){case 1:mi(c,5);break;case 4:mi(c,10);break;case 3:mi(c,6);break;default:mi(c,2)}}}function nl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function mi(c,y){if(c.j.info("Error code "+y),y==2){var v=T(c.fb,c),S=c.Xa;const j=!S;S=new Ut(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ja(S,"https"),Ha(S),j?Fa(S.toString(),v):_r(S.toString(),v)}else q(2);c.G=0,c.l&&c.l.sa(y),Fu(c),zu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),q(2)):(this.j.info("Failed to ping google.com"),q(1))};function Fu(c){if(c.G=0,c.ka=[],c.l){const y=Yo(c.h);(y.length!=0||c.i.length!=0)&&(Y(c.ka,y),Y(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Gu(c,y,v){var S=v instanceof Ut?zn(v):new Ut(v);if(S.g!="")y&&(S.g=y+"."+S.g),Ki(S,S.s);else{var j=m.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Z=new Ut(null);S&&ja(Z,S),y&&(Z.g=y),j&&Ki(Z,j),v&&(Z.l=v),S=Z}return v=c.D,y=c.ya,v&&y&&yt(S,v,y),yt(S,"VER",c.la),$a(c,S),S}function Yu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ft(new Qi({eb:v})):new ft(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}r=Ku.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function qs(){}qs.prototype.g=function(c,y){return new Cn(c,y)};function Cn(c,y){ut.call(this),this.g=new zs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ue(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ue(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new jr(this)}O(Cn,ut),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Jo(this.g)},Cn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ln(c),c=v);y.i.push(new Un(y.Ya++,c)),y.G==3&&js(y)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,Cn.aa.N.call(this)};function Qu(c){vr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(Qu,vr);function $u(){Fi.call(this),this.status=1}O($u,Fi);function jr(c){this.g=c}O(jr,Ku),jr.prototype.ua=function(){Ge(this.g,"a")},jr.prototype.ta=function(c){Ge(this.g,new Qu(c))},jr.prototype.sa=function(c){Ge(this.g,new $u)},jr.prototype.ra=function(){Ge(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,NT=function(){return new qs},MT=function(){return xr()},OT=An,Lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,ch=be,Ne.COMPLETE="complete",DT=Ne,za.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Wl=za,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,CT=ft}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const l0="@firebase/firestore",u0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new ig("@firebase/firestore");function _o(){return ws.logLevel}function pe(r,...e){if(ws.logLevel<=et.DEBUG){const n=e.map(vg);ws.debug(`Firestore (${Bo}): ${r}`,...n)}}function Li(r,...e){if(ws.logLevel<=et.ERROR){const n=e.map(vg);ws.error(`Firestore (${Bo}): ${r}`,...n)}}function Ia(r,...e){if(ws.logLevel<=et.WARN){const n=e.map(vg);ws.warn(`Firestore (${Bo}): ${r}`,...n)}}function vg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,xT(r,a,n)}function xT(r,e,n){let a=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Li(a),new Error(a)}function dt(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||xT(e,o,a)}function je(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class ZI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JI{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vs,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vs)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(dt(typeof a.accessToken=="string",31837,{l:a}),new VT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class eC{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tC{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new eC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const a=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new c0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new c0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=rC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ke(r,e){return r<e?-1:r>e?1:0}function km(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ke(a,o);{const u=PT(),h=iC(u.encode(h0(r,n)),u.encode(h0(e,n)));return h!==0?h:Ke(a,o)}}n+=a>65535?2:1}return Ke(r.length,e.length)}function h0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function iC(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ke(r[n],e[n]);return Ke(r.length,e.length)}function No(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="__name__";class Qr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ve(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Qr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ke(e.length,n.length)}static compareSegments(e,n){const a=Qr.isNumericId(e),o=Qr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Qr.extractNumericId(e).compare(Qr.extractNumericId(n)):km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Aa.fromString(e.substring(4,e.length-2))}}class St extends Qr{construct(e,n,a){return new St(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new St(n)}static emptyPath(){return new St([])}}const aC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Qr{construct(e,n,a){return new fn(e,n,a)}static isValidIdentifier(e){return aC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f0}static keyField(){return new fn([f0])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(a+=m,o++):(u(),o++)}if(u(),h)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(St.fromString(e))}static fromName(e){return new Ie(St.fromString(e).popFirst(5))}static empty(){return new Ie(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(r,e,n){if(!n)throw new ye(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function sC(r,e,n,a){if(e===!0&&a===!0)throw new ye(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function d0(r){if(!Ie.isDocumentKey(r))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function m0(r){if(Ie.isDocumentKey(r))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ve(12329,{type:typeof r})}function au(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(r);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Iu(r,e){if(!kT(r))throw new ye(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const h=r[a];if(o&&typeof h!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new ye(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=-62135596800,p0=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*p0);return new At(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<g0)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p0}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:qt("string",At._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new At(0,0))}static max(){return new Be(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function oC(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Be.fromTimestamp(a===1e9?new At(n+1,0):new At(n,a));return new Ca(o,Ie.empty(),e)}function lC(r){return new Ca(r.readTime,r.key,fu)}class Ca{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ca(Be.min(),Ie.empty(),fu)}static max(){return new Ca(Be.max(),Ie.empty(),fu)}}function uC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(r.documentKey,e.documentKey),n!==0?n:Ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==cC)throw r;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,a)=>{n(e)})}static reject(e){return new se((n,a)=>{a(e)})}static waitFor(e){return new se((n,a)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},g=>a(g))}),h=!0,u===o&&n()})}static or(e){let n=se.resolve(!1);for(const a of e)n=n.next(o=>o?se.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new se((a,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(_=>{h[p]=_,++m,m===u&&a(h)},_=>o(_))}})}static doWhile(e,n){return new se((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function fC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this._e(a),this.ae=a=>n.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Qh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=-1;function $h(r){return r==null}function Ch(r){return r===0&&1/r==-1/0}function dC(r){return typeof r=="number"&&Number.isInteger(r)&&!Ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="";function mC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=y0(e)),e=gC(r.get(n),e);return y0(e)}function gC(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case UT:n+="";break;default:n+=u}}return n}function y0(r){return r+UT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function As(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function zT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??hn.RED,this.left=o??hn.EMPTY,this.right=u??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new hn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _0(this.data.getIterator())}getIteratorFrom(e){return new _0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class _0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Ar([])}unionWith(e){let n=new Wt(fn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new BT("Invalid base64 string: "+u):u}}(e);return new dn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const pC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(r){if(dt(!!r,39018),typeof r=="string"){let e=0;const n=pC.exec(r);if(dt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Vt(r.seconds),nanos:Vt(r.nanos)}}function Vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Oa(r){return typeof r=="string"?dn.fromBase64String(r):dn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="server_timestamp",HT="__type__",qT="__previous_value__",FT="__local_write_time__";function Tg(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[HT])===null||n===void 0?void 0:n.stringValue)===jT}function Xh(r){const e=r.mapValue.fields[qT];return Tg(e)?Xh(e):e}function du(r){const e=Da(r.mapValue.fields[FT].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,a,o,u,h,m,g,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=_}}const Dh="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="__type__",vC="__max__",Jc={mapValue:{}},YT="__vector__",Oh="value";function Ma(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tg(r)?4:EC(r)?9007199254740991:_C(r)?10:11:Ve(28295,{value:r})}function ni(r,e){if(r===e)return!0;const n=Ma(r);if(n!==Ma(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Da(o.timestampValue),m=Da(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Oa(o.bytesValue).isEqual(Oa(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Vt(o.geoPointValue.latitude)===Vt(u.geoPointValue.latitude)&&Vt(o.geoPointValue.longitude)===Vt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Vt(o.integerValue)===Vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Vt(o.doubleValue),m=Vt(u.doubleValue);return h===m?Ch(h)===Ch(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return No(r.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(v0(h)!==v0(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!ni(h[g],m[g])))return!1;return!0}(r,e);default:return Ve(52216,{left:r})}}function gu(r,e){return(r.values||[]).find(n=>ni(n,e))!==void 0}function xo(r,e){if(r===e)return 0;const n=Ma(r),a=Ma(e);if(n!==a)return Ke(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=Vt(u.integerValue||u.doubleValue),g=Vt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return E0(r.timestampValue,e.timestampValue);case 4:return E0(du(r),du(e));case 5:return km(r.stringValue,e.stringValue);case 6:return function(u,h){const m=Oa(u),g=Oa(h);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const _=Ke(m[p],g[p]);if(_!==0)return _}return Ke(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ke(Vt(u.latitude),Vt(h.latitude));return m!==0?m:Ke(Vt(u.longitude),Vt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return T0(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,p,_;const w=u.fields||{},T=h.fields||{},I=(m=w[Oh])===null||m===void 0?void 0:m.arrayValue,O=(g=T[Oh])===null||g===void 0?void 0:g.arrayValue,Q=Ke(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0);return Q!==0?Q:T0(I,O)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===Jc.mapValue&&h===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(h===Jc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},_=Object.keys(p);g.sort(),_.sort();for(let w=0;w<g.length&&w<_.length;++w){const T=km(g[w],_[w]);if(T!==0)return T;const I=xo(m[g[w]],p[_[w]]);if(I!==0)return I}return Ke(g.length,_.length)}(r.mapValue,e.mapValue);default:throw Ve(23264,{le:n})}}function E0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ke(r,e);const n=Da(r),a=Da(e),o=Ke(n.seconds,a.seconds);return o!==0?o:Ke(n.nanos,a.nanos)}function T0(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=xo(n[o],a[o]);if(u)return u}return Ke(n.length,a.length)}function Vo(r){return Um(r)}function Um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=Da(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Oa(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ie.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Um(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${Um(n.fields[h])}`;return o+"}"}(r.mapValue):Ve(61005,{value:r})}function hh(r){switch(Ma(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(r);return e?16+hh(e):16;case 5:return 2*r.stringValue.length;case 6:return Oa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+hh(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return As(a.fields,(u,h)=>{o+=u.length+hh(h)}),o}(r.mapValue);default:throw Ve(13486,{value:r})}}function b0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function zm(r){return!!r&&"integerValue"in r}function bg(r){return!!r&&"arrayValue"in r}function w0(r){return!!r&&"nullValue"in r}function S0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fh(r){return!!r&&"mapValue"in r}function _C(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[GT])===null||n===void 0?void 0:n.stringValue)===YT}function su(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return As(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=su(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(r.arrayValue.values[n]);return e}return Object.assign({},r)}function EC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===vC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=fn.emptyPath(),a={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=m.popLast()}h?a[m.lastSegment()]=su(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){As(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new mr(su(this.value))}}function KT(r){const e=[];return As(r.fields,(n,a)=>{const o=new fn([n]);if(fh(a)){const u=KT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,a,o,u,h,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Tn(e,0,Be.min(),Be.min(),Be.min(),mr.empty(),0)}static newFoundDocument(e,n,a,o){return new Tn(e,1,n,Be.min(),a,o,0)}static newNoDocument(e,n){return new Tn(e,2,n,Be.min(),Be.min(),mr.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,Be.min(),Be.min(),mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function A0(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?a=Ie.comparator(Ie.fromName(h.referenceValue),n.key):a=xo(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function R0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ni(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function TC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{}class Ht extends QT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new wC(e,n,a):n==="array-contains"?new RC(e,a):n==="in"?new IC(e,a):n==="not-in"?new CC(e,a):n==="array-contains-any"?new DC(e,a):new Ht(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new SC(e,a):new AC(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xo(n,this.value)):n!==null&&Ma(this.value)===Ma(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends QT{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ir(e,n)}matches(e){return $T(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function $T(r){return r.op==="and"}function XT(r){return bC(r)&&$T(r)}function bC(r){for(const e of r.filters)if(e instanceof Ir)return!1;return!0}function Bm(r){if(r instanceof Ht)return r.field.canonicalString()+r.op.toString()+Vo(r.value);if(XT(r))return r.filters.map(e=>Bm(e)).join(",");{const e=r.filters.map(n=>Bm(n)).join(",");return`${r.op}(${e})`}}function WT(r,e){return r instanceof Ht?function(a,o){return o instanceof Ht&&a.op===o.op&&a.field.isEqual(o.field)&&ni(a.value,o.value)}(r,e):r instanceof Ir?function(a,o){return o instanceof Ir&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,m)=>u&&WT(h,o.filters[m]),!0):!1}(r,e):void Ve(19439)}function ZT(r){return r instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`}(r):r instanceof Ir?function(n){return n.op.toString()+" {"+n.getFilters().map(ZT).join(" ,")+"}"}(r):"Filter"}class wC extends Ht{constructor(e,n,a){super(e,n,a),this.key=Ie.fromName(a.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class SC extends Ht{constructor(e,n){super(e,"in",n),this.keys=JT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AC extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=JT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Ie.fromName(a.referenceValue))}class RC extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bg(n)&&gu(n.arrayValue,this.value)}}class IC extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class CC extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class DC extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>gu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n=null,a=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function I0(r,e=null,n=[],a=[],o=null,u=null,h=null){return new OC(r,e,n,a,o,u,h)}function wg(r){const e=je(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Bm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Vo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Vo(a)).join(",")),e.Pe=n}return e.Pe}function Sg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!TC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!WT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!R0(r.startAt,e.startAt)&&R0(r.endAt,e.endAt)}function jm(r){return Ie.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n=null,a=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function MC(r,e,n,a,o,u,h,m){return new qo(r,e,n,a,o,u,h,m)}function Ag(r){return new qo(r)}function C0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eb(r){return r.collectionGroup!==null}function ou(r){const e=je(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Wt(fn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new pu(u,a))}),n.has(fn.keyField().canonicalString())||e.Te.push(new pu(fn.keyField(),a))}return e.Te}function Xr(r){const e=je(r);return e.Ie||(e.Ie=NC(e,ou(r))),e.Ie}function NC(r,e){if(r.limitType==="F")return I0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new pu(o.field,u)});const n=r.endAt?new Mh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Mh(r.startAt.position,r.startAt.inclusive):null;return I0(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Hm(r,e){const n=r.filters.concat([e]);return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function qm(r,e,n){return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Wh(r,e){return Sg(Xr(r),Xr(e))&&r.limitType===e.limitType}function tb(r){return`${wg(Xr(r))}|lt:${r.limitType}`}function Eo(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>ZT(o)).join(", ")}]`),$h(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Vo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Vo(o)).join(",")),`Target(${a})`}(Xr(r))}; limitType=${r.limitType})`}function Zh(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ie.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of ou(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(h,m,g){const p=A0(h,m,g);return h.inclusive?p<=0:p<0}(a.startAt,ou(a),o)||a.endAt&&!function(h,m,g){const p=A0(h,m,g);return h.inclusive?p>=0:p>0}(a.endAt,ou(a),o))}(r,e)}function xC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nb(r){return(e,n)=>{let a=!1;for(const o of ou(r)){const u=VC(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function VC(r,e,n){const a=r.field.isKeyField()?Ie.comparator(e.key,n.key):function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?xo(g,p):Ve(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return zT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new Dt(Ie.comparator);function ki(){return PC}const rb=new Dt(Ie.comparator);function Zl(...r){let e=rb;for(const n of r)e=e.insert(n.key,n);return e}function ib(r){let e=rb;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function gs(){return lu()}function ab(){return lu()}function lu(){return new Rs(r=>r.toString(),(r,e)=>r.isEqual(e))}const LC=new Dt(Ie.comparator),kC=new Wt(Ie.comparator);function tt(...r){let e=kC;for(const n of r)e=e.add(n);return e}const UC=new Wt(Ke);function zC(){return UC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function sb(r){return{integerValue:""+r}}function BC(r,e){return dC(e)?sb(e):Rg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function jC(r,e,n){return r instanceof yu?function(o,u){const h={fields:{[HT]:{stringValue:jT},[FT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Tg(u)&&(u=Xh(u)),u&&(h.fields[qT]=u),{mapValue:h}}(n,e):r instanceof vu?lb(r,e):r instanceof _u?ub(r,e):function(o,u){const h=ob(o,u),m=D0(h)+D0(o.Ee);return zm(h)&&zm(o.Ee)?sb(m):Rg(o.serializer,m)}(r,e)}function HC(r,e,n){return r instanceof vu?lb(r,e):r instanceof _u?ub(r,e):n}function ob(r,e){return r instanceof Nh?function(a){return zm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class yu extends Jh{}class vu extends Jh{constructor(e){super(),this.elements=e}}function lb(r,e){const n=cb(e);for(const a of r.elements)n.some(o=>ni(o,a))||n.push(a);return{arrayValue:{values:n}}}class _u extends Jh{constructor(e){super(),this.elements=e}}function ub(r,e){let n=cb(e);for(const a of r.elements)n=n.filter(o=>!ni(o,a));return{arrayValue:{values:n}}}class Nh extends Jh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function D0(r){return Vt(r.integerValue||r.doubleValue)}function cb(r){return bg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.field=e,this.transform=n}}function FC(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof vu&&o instanceof vu||a instanceof _u&&o instanceof _u?No(a.elements,o.elements,ni):a instanceof Nh&&o instanceof Nh?ni(a.Ee,o.Ee):a instanceof yu&&o instanceof yu}(r.transform,e.transform)}class GC{constructor(e,n){this.version=e,this.transformResults=n}}class xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ef{}function hb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new db(r.key,xi.none()):new Cu(r.key,r.data,xi.none());{const n=r.data,a=mr.empty();let o=new Wt(fn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new Is(r.key,a,new Ar(o.toArray()),xi.none())}}function YC(r,e,n){r instanceof Cu?function(o,u,h){const m=o.value.clone(),g=M0(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Is?function(o,u,h){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=M0(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(fb(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function uu(r,e,n,a){return r instanceof Cu?function(u,h,m,g){if(!dh(u.precondition,h))return m;const p=u.value.clone(),_=N0(u.fieldTransforms,g,h);return p.setAll(_),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(r,e,n,a):r instanceof Is?function(u,h,m,g){if(!dh(u.precondition,h))return m;const p=N0(u.fieldTransforms,g,h),_=h.data;return _.setAll(fb(u)),_.setAll(p),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,a):function(u,h,m){return dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,n)}function KC(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=ob(a.transform,o||null);u!=null&&(n===null&&(n=mr.empty()),n.set(a.field,u))}return n||null}function O0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&No(a,o,(u,h)=>FC(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Cu extends ef{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends ef{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function fb(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function M0(r,e,n){const a=new Map;dt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);a.set(u.field,HC(h,m,n[o]))}return a}function N0(r,e,n){const a=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);a.set(o.field,jC(u,h,e))}return a}class db extends ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QC extends ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&YC(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=uu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=uu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=ab();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=hb(h,m);g!==null&&a.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Be.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(n,a)=>O0(n,a))&&No(this.baseMutations,e.baseMutations,(n,a)=>O0(n,a))}}class Ig{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){dt(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let o=function(){return LC}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new Ig(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,st;function ZC(r){switch(r){case re.OK:return Ve(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ve(15467,{code:r})}}function mb(r){if(r===void 0)return Li("GRPC error has no .code"),re.UNKNOWN;switch(r){case jt.OK:return re.OK;case jt.CANCELLED:return re.CANCELLED;case jt.UNKNOWN:return re.UNKNOWN;case jt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case jt.INTERNAL:return re.INTERNAL;case jt.UNAVAILABLE:return re.UNAVAILABLE;case jt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case jt.NOT_FOUND:return re.NOT_FOUND;case jt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case jt.ABORTED:return re.ABORTED;case jt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case jt.DATA_LOSS:return re.DATA_LOSS;default:return Ve(39323,{code:r})}}(st=jt||(jt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new Aa([4294967295,4294967295],0);function x0(r){const e=PT().encode(r),n=new IT;return n.update(e),new Uint8Array(n.digest())}function V0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Aa([n,a],0),new Aa([o,u],0)]}class Cg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(a<0)throw new Jl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Aa.fromNumber(this.fe)}pe(e,n,a){let o=e.add(n.multiply(Aa.fromNumber(a)));return o.compare(JC)===1&&(o=new Aa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=x0(e),[a,o]=V0(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(a,o,u);if(!this.ye(h))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Cg(u,o,n);return a.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const n=x0(e),[a,o]=V0(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(a,o,u);this.we(h)}}we(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new tf(Be.min(),o,new Dt(Ke),ki(),tt())}}class Du{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Du(a,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,a,o){this.Se=e,this.removedTargetIds=n,this.key=a,this.be=o}}class gb{constructor(e,n){this.targetId=e,this.De=n}}class pb{constructor(e,n,a=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class P0{constructor(){this.ve=0,this.Ce=L0(),this.Fe=dn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=tt(),n=tt(),a=tt();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ve(38017,{changeType:u})}}),new Du(this.Fe,this.Me,e,n,a)}ke(){this.xe=!1,this.Ce=L0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class eD{constructor(e){this.We=e,this.Ge=new Map,this.ze=ki(),this.je=eh(),this.Je=eh(),this.He=new Dt(Ke)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const a=this.tt(n);switch(e.state){case 0:this.nt(n)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),a.Be(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((a,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,a=e.De.count,o=this.st(n);if(o){const u=o.target;if(jm(u))if(a===0){const h=new Ie(u.path);this.Xe(n,h,Tn.newNoDocument(h,Be.min()))}else dt(a===1,20013,{expectedCount:a});else{const h=this.ot(n);if(h!==a){const m=this._t(e),g=m?this.ut(m,e,h):1;if(g!==0){this.rt(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,p)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Oa(a).toUint8Array()}catch(g){if(g instanceof BT)return Ia("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Cg(h,o,u)}catch(g){return Ia(g instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(e,n,a){return n.De.count===a-this.ht(e,n.targetId)?0:2}ht(e,n){const a=this.We.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&jm(m.target)){const g=new Ie(m.target.path);this.Tt(g).has(h)||this.It(h,g)||this.Xe(h,g,Tn.newNoDocument(g,e))}u.Ne&&(n.set(h,u.Le()),u.ke())}});let a=tt();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const p=this.st(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new tf(e,n,this.He,this.ze,a);return this.ze=ki(),this.je=eh(),this.Je=eh(),this.He=new Dt(Ke),o}Ze(e,n){if(!this.nt(e))return;const a=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,a),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,a){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),a&&(this.ze=this.ze.insert(n,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new P0,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Wt(Ke),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Wt(Ke),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new P0),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function eh(){return new Dt(Ie.comparator)}function L0(){return new Dt(Ie.comparator)}const tD={asc:"ASCENDING",desc:"DESCENDING"},nD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rD={and:"AND",or:"OR"};class iD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(r,e){return r.useProto3Json||$h(e)?e:{value:e}}function xh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function aD(r,e){return xh(r,e.toTimestamp())}function Wr(r){return dt(!!r,49232),Be.fromTimestamp(function(n){const a=Da(n);return new At(a.seconds,a.nanos)}(r))}function Dg(r,e){return Gm(r,e).canonicalString()}function Gm(r,e){const n=function(o){return new St(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function vb(r){const e=St.fromString(r);return dt(wb(e),10190,{key:e.toString()}),e}function Ym(r,e){return Dg(r.databaseId,e.path)}function vm(r,e){const n=vb(e);if(n.get(1)!==r.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ie(Eb(n))}function _b(r,e){return Dg(r.databaseId,e)}function sD(r){const e=vb(r);return e.length===4?St.emptyPath():Eb(e)}function Km(r){return new St(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Eb(r){return dt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function k0(r,e,n){return{name:Ym(r,e),fields:n.value.mapValue.fields}}function oD(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ve(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,_){return p.useProto3Json?(dt(_===void 0||typeof _=="string",58123),dn.fromBase64String(_||"")):(dt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),dn.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(p){const _=p.code===void 0?re.UNKNOWN:mb(p.code);return new ye(_,p.message||"")}(h);n=new pb(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=vm(r,a.document.name),u=Wr(a.document.updateTime),h=a.document.createTime?Wr(a.document.createTime):Be.min(),m=new mr({mapValue:{fields:a.document.fields}}),g=Tn.newFoundDocument(o,u,h,m),p=a.targetIds||[],_=a.removedTargetIds||[];n=new mh(p,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=vm(r,a.document),u=a.readTime?Wr(a.readTime):Be.min(),h=Tn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new mh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=vm(r,a.document),u=a.removedTargetIds||[];n=new mh([],u,o,null)}else{if(!("filter"in e))return Ve(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new WC(o,u),m=a.targetId;n=new gb(m,h)}}return n}function lD(r,e){let n;if(e instanceof Cu)n={update:k0(r,e.key,e.value)};else if(e instanceof db)n={delete:Ym(r,e.key)};else if(e instanceof Is)n={update:k0(r,e.key,e.data),updateMask:yD(e.fieldMask)};else{if(!(e instanceof QC))return Ve(16599,{Rt:e.type});n={verify:Ym(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,h){const m=h.transform;if(m instanceof yu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _u)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Nh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Ve(20930,{transform:h.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:aD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ve(27497)}(r,e.precondition)),n}function uD(r,e){return r&&r.length>0?(dt(e!==void 0,14353),r.map(n=>function(o,u){let h=o.updateTime?Wr(o.updateTime):Wr(u);return h.isEqual(Be.min())&&(h=Wr(u)),new GC(h,o.transformResults||[])}(n,e))):[]}function cD(r,e){return{documents:[_b(r,e.path)]}}function hD(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=_b(r,o);const u=function(p){if(p.length!==0)return bb(Ir.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(p){if(p.length!==0)return p.map(_=>function(T){return{field:To(T.field),direction:mD(T.dir)}}(_))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Fm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:n,parent:o}}function fD(r){let e=sD(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){dt(a===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=function(w){const T=Tb(w);return T instanceof Ir&&XT(T)?T.getFilters():[T]}(n.where));let h=[];n.orderBy&&(h=function(w){return w.map(T=>function(O){return new pu(bo(O.field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(n.orderBy));let m=null;n.limit&&(m=function(w){let T;return T=typeof w=="object"?w.value:w,$h(T)?null:T}(n.limit));let g=null;n.startAt&&(g=function(w){const T=!!w.before,I=w.values||[];return new Mh(I,T)}(n.startAt));let p=null;return n.endAt&&(p=function(w){const T=!w.before,I=w.values||[];return new Mh(I,T)}(n.endAt)),MC(e,o,h,u,m,"F",g,p)}function dD(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Tb(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=bo(n.unaryFilter.field);return Ht.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(n.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=bo(n.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=bo(n.unaryFilter.field);return Ht.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ht.create(bo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ir.create(n.compositeFilter.filters.map(a=>Tb(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(n.compositeFilter.op))}(r):Ve(30097,{filter:r})}function mD(r){return tD[r]}function gD(r){return nD[r]}function pD(r){return rD[r]}function To(r){return{fieldPath:r.canonicalString()}}function bo(r){return fn.fromServerFormat(r.fieldPath)}function bb(r){return r instanceof Ht?function(n){if(n.op==="=="){if(S0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(w0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(w0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:gD(n.op),value:n.value}}}(r):r instanceof Ir?function(n){const a=n.getFilters().map(o=>bb(o));return a.length===1?a[0]:{compositeFilter:{op:pD(n.op),filters:a}}}(r):Ve(54877,{filter:r})}function yD(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n,a,o,u=Be.min(),h=Be.min(),m=dn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.gt=e}}function _D(r){const e=fD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.Dn=new TD}addToCollectionParentIndex(e,n){return this.Dn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Ca.min())}updateCollectionGroup(e,n,a){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class TD{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Wt(St.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Wt(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sb=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(Sb,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Po(0)}static ur(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="LruGarbageCollector",bD=1048576;function B0([r,e],[n,a]){const o=Ke(r,n);return o===0?Ke(e,a):o}class wD{constructor(e){this.Tr=e,this.buffer=new Wt(B0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();B0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SD{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){pe(z0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?pe(z0,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Rr(3e5)})}}class AD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Qh.ue);const a=new wD(n);return this.Vr.forEachTarget(e,o=>a.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>a.Er(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(U0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),U0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let a,o,u,h,m,g,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(a=w,m=Date.now(),this.removeTargets(e,a,n))).next(w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,a))).next(w=>(p=Date.now(),_o()<=et.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(p-g)+`ms
Total Duration: ${p-_}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function RD(r,e){return new AD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.changes=new Rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?se.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&uu(a.mutation,o,Ar.empty(),At.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,tt()).next(()=>a))}getLocalViewOfDocuments(e,n,a=tt()){const o=gs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let h=Zl();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const a=gs();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,tt()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,a,o){let u=ki();const h=lu(),m=function(){return lu()}();return n.forEach((g,p)=>{const _=a.get(p.key);o.has(p.key)&&(_===void 0||_.mutation instanceof Is)?u=u.insert(p.key,p):_!==void 0?(h.set(p.key,_.mutation.getFieldMask()),uu(_.mutation,p,_.mutation.getFieldMask(),At.now())):h.set(p.key,Ar.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,_)=>h.set(p,_)),n.forEach((p,_)=>{var w;return m.set(p,new CD(_,(w=h.get(p))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const a=lu();let o=new Dt((h,m)=>h-m),u=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let _=a.get(g)||Ar.empty();_=m.applyToLocalView(p,_),a.set(g,_);const w=(o.get(m.batchId)||tt()).add(g);o=o.insert(m.batchId,w)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,_=g.value,w=ab();_.forEach(T=>{if(!u.has(T)){const I=hb(n.get(T),a.get(T));I!==null&&w.set(T,I),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,p,w))}return se.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(h){return Ie.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):se.resolve(gs());let m=fu,g=u;return h.next(p=>se.forEach(p,(_,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(_)?se.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{g=g.insert(_,T)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,tt())).next(_=>({batchId:m,changes:ib(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(a=>{let o=Zl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let h=Zl();return this.indexManager.getCollectionParents(e,u).next(m=>se.forEach(m,g=>{const p=function(w,T){return new qo(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next(_=>{_.forEach((w,T)=>{h=h.insert(w,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(h=>{u.forEach((g,p)=>{const _=p.getKey();h.get(_)===null&&(h=h.insert(_,Tn.newInvalidDocument(_)))});let m=Zl();return h.forEach((g,p)=>{const _=u.get(g);_!==void 0&&uu(_.mutation,p,Ar.empty(),At.now()),Zh(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return se.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Wr(o.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:_D(o.bundledQuery),readTime:Wr(o.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.overlays=new Dt(Ie.comparator),this.kr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const a=gs();return se.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.wt(e,n,u)}),se.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.kr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(a)),se.resolve()}getOverlaysForCollection(e,n,a){const o=gs(),u=n.length+1,h=new Ie(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Dt((p,_)=>p-_);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let _=u.get(p.largestBatchId);_===null&&(_=gs(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const m=gs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,_)=>m.set(p,_)),!(m.size()>=o)););return se.resolve(m)}wt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(a.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new XC(n,a));let u=this.kr.get(n);u===void 0&&(u=tt(),this.kr.set(n,u)),this.kr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.qr=new Wt(rn.Qr),this.$r=new Wt(rn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const a=new rn(e,n);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Wr(new rn(e,n))}Gr(e,n){e.forEach(a=>this.removeReference(a,n))}zr(e){const n=new Ie(new St([])),a=new rn(n,e),o=new rn(n,e+1),u=[];return this.$r.forEachInRange([a,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ie(new St([])),a=new rn(n,e),o=new rn(n,e+1);let u=tt();return this.$r.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new rn(e,0),a=this.qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class rn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ie.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Wt(rn.Qr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new $C(u,n,a,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new rn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,n){return se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Xr(a),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Eg:this.er-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new rn(n,0),o=new rn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([a,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Wt(Ke);return n.forEach(o=>{const u=new rn(o,0),h=new rn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{a=a.add(m.Hr)})}),se.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Ie.isDocumentKey(u)||(u=u.child(""));const h=new rn(new Ie(u),0);let m=new Wt(Ke);return this.Yr.forEachWhile(g=>{const p=g.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)},h),se.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(a=>{const o=this.Zr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){dt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return se.forEach(n.mutations,o=>{const u=new rn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,n){const a=new rn(n,0),o=this.Yr.firstAfterOrEqual(a);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.ni=e,this.docs=function(){return new Dt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,h=this.ni(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return se.resolve(a?a.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let a=ki();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Tn.newInvalidDocument(o))}),se.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=ki();const h=n.path,m=new Ie(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:_}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||uC(lC(_),a)<=0||(o.has(_.key)||Zh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ve(9500)}ri(e,n){return se.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new PD(this)}getSize(e){return se.resolve(this.size)}}class PD extends ID{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(a)}),se.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.persistence=e,this.ii=new Rs(n=>wg(n),Sg),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.si=0,this.oi=new Og,this.targetCount=0,this._i=Po.ar()}forEachTarget(e,n){return this.ii.forEach((a,o)=>n(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.si&&(this.si=n),se.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Po(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.hr(n),se.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const a=this.ii.get(n)||null;return se.resolve(a)}addMatchingKeys(e,n,a){return this.oi.Kr(n,a),se.resolve()}removeMatchingKeys(e,n,a){this.oi.Gr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const a=this.oi.Jr(n);return se.resolve(a)}containsKey(e,n){return se.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n){this.ai={},this.overlays={},this.ui=new Qh(0),this.ci=!1,this.ci=!0,this.li=new ND,this.referenceDelegate=e(this),this.hi=new LD(this),this.indexManager=new ED,this.remoteDocumentCache=function(o){return new VD(o)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new vD(n),this.Ti=new OD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ai[e.toKey()];return a||(a=new xD(n,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,a){pe("MemoryPersistence","Starting transaction:",e);const o=new kD(this.ui.next());return this.referenceDelegate.Ii(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return se.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,n)))}}class kD extends hC{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.Ai=new Og,this.Ri=null}static Vi(e){return new Mg(e)}get mi(){if(this.Ri)return this.Ri;throw Ve(60996)}addReference(e,n,a){return this.Ai.addReference(a,n),this.mi.delete(a.toString()),se.resolve()}removeReference(e,n,a){return this.Ai.removeReference(a,n),this.mi.add(a.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.mi,a=>{const o=Ie.fromPath(a);return this.fi(e,o).next(u=>{u||n.removeEntry(o,Be.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(a=>{a?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return se.or([()=>se.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Vh{constructor(e,n){this.persistence=e,this.gi=new Rs(a=>mC(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=RD(this,n)}static Vi(e,n){return new Vh(e,n)}Ii(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}yr(e){let n=0;return this.gr(e,a=>{n++}).next(()=>n)}gr(e,n){return se.forEach(this.gi,(a,o)=>this.Sr(e,a,o).next(u=>u?se.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,n).next(m=>{m||(a++,u.removeEntry(h,Be.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.gi.set(a,e.currentSequenceNumber),se.resolve()}removeReference(e,n,a){return this.gi.set(a,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),se.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hh(e.data.value)),n}Sr(e,n,a){return se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return se.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Is=a,this.ds=o}static Es(e,n){let a=tt(),o=tt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ng(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return M1()?8:fC(bn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ps(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,n,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new UD;return this.ws(e,n,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,n,h,m.size)})}).next(()=>u.result)}Ss(e,n,a,o){return a.documentReadCount<this.Vs?(_o()<=et.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(_o()<=et.DEBUG&&pe("QueryEngine","Query:",Eo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.fs*o?(_o()<=et.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):se.resolve())}ps(e,n){if(C0(n))return se.resolve(null);let a=Xr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=qm(n,null,"F"),a=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const h=tt(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,a).next(g=>{const p=this.bs(n,m);return this.Ds(n,p,h,g.readTime)?this.ps(e,qm(n,null,"F")):this.vs(e,p,n,g)}))})))}ys(e,n,a,o){return C0(n)||o.isEqual(Be.min())?se.resolve(null):this.gs.getDocuments(e,a).next(u=>{const h=this.bs(n,u);return this.Ds(n,h,a,o)?se.resolve(null):(_o()<=et.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(n)),this.vs(e,h,n,oC(o,fu)).next(m=>m))})}bs(e,n){let a=new Wt(nb(e));return n.forEach((o,u)=>{Zh(e,u)&&(a=a.add(u))}),a}Ds(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,a){return _o()<=et.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.gs.getDocumentsMatchingQuery(e,n,Ca.min(),a)}vs(e,n,a,o){return this.gs.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="LocalStore",BD=3e8;class jD{constructor(e,n,a,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Dt(Ke),this.Ms=new Rs(u=>wg(u),Sg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function HD(r,e,n,a){return new jD(r,e,n,a)}async function Rb(r,e){const n=je(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],m=[];let g=tt();for(const p of o){h.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}for(const p of u){m.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(a,g).next(p=>({Bs:p,removedBatchIds:h,addedBatchIds:m}))})})}function qD(r,e){const n=je(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,g,p,_){const w=p.batch,T=w.keys();let I=se.resolve();return T.forEach(O=>{I=I.next(()=>_.getEntry(g,O)).next(Q=>{const Y=p.docVersions.get(O);dt(Y!==null,48541),Q.version.compareTo(Y)<0&&(w.applyToRemoteDocument(Q,p),Q.isValidDocument()&&(Q.setReadTime(p.commitVersion),_.addEntry(Q)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(g,w))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let g=tt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function Ib(r){const e=je(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function FD(r,e){const n=je(r),a=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach((_,w)=>{const T=o.get(w);if(!T)return;m.push(n.hi.removeMatchingKeys(u,_.removedDocuments,w).next(()=>n.hi.addMatchingKeys(u,_.addedDocuments,w)));let I=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(dn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,a)),o=o.insert(w,I),function(Q,Y,G){return Q.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=BD?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(T,I,_)&&m.push(n.hi.updateTargetData(u,I))});let g=ki(),p=tt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(GD(u,h,e.documentUpdates).next(_=>{g=_.Ls,p=_.ks})),!a.isEqual(Be.min())){const _=n.hi.getLastRemoteSnapshotVersion(u).next(w=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(_)}return se.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.Fs=o,u))}function GD(r,e,n){let a=tt(),o=tt();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let h=ki();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Be.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):pe(xg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{Ls:h,ks:o}})}function YD(r,e){const n=je(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Eg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function KD(r,e){const n=je(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.hi.getTargetData(a,e).next(u=>u?(o=u,se.resolve(o)):n.hi.allocateTargetId(a).next(h=>(o=new Ta(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.hi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Fs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(a.targetId,a),n.Ms.set(e,a.targetId)),a})}async function Qm(r,e,n){const a=je(r),o=a.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Ho(h))throw h;pe(xg,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(o.target)}function j0(r,e,n){const a=je(r);let o=Be.min(),u=tt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(g,p,_){const w=je(g),T=w.Ms.get(_);return T!==void 0?se.resolve(w.Fs.get(T)):w.hi.getTargetData(p,_)}(a,h,Xr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>a.Cs.getDocumentsMatchingQuery(h,e,n?o:Be.min(),n?u:tt())).next(m=>(QD(a,xC(e),m),{documents:m,qs:u})))}function QD(r,e,n){let a=r.xs.get(e)||Be.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.xs.set(e,a)}class H0{constructor(){this.activeTargetIds=zC()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $D{constructor(){this.Fo=new H0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,a){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new H0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="ConnectivityMonitor";class F0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){pe(q0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){pe(q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function $m(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="RestConnection",WD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.Ko=this.databaseId.database===Dh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,n,a,o,u){const h=$m(),m=this.Go(e,n.toUriEncodedString());pe(_m,`Sending RPC '${e}' ${h}:`,m,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:p}=new URL(m),_=ko(p);return this.jo(e,m,g,a,_).then(w=>(pe(_m,`Received RPC '${e}' ${h}: `,w),w),w=>{throw Ia(_m,`RPC '${e}' ${h} failed with error: `,w,"url: ",m,"request:",a),w})}Jo(e,n,a,o,u,h){return this.Wo(e,n,a,o,u)}zo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const a=WD[e];return`${this.$o}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class e2 extends ZD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,a,o,u){const h=$m();return new Promise((m,g)=>{const p=new CT;p.setWithCredentials(!0),p.listenOnce(DT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ch.NO_ERROR:const w=p.getResponseJson();pe(_n,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),m(w);break;case ch.TIMEOUT:pe(_n,`RPC '${e}' ${h} timed out`),g(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const T=p.getStatus();if(pe(_n,`RPC '${e}' ${h} failed with status:`,T,"response text:",p.getResponseText()),T>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const O=I==null?void 0:I.error;if(O&&O.status&&O.message){const Q=function(G){const ue=G.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ue)>=0?ue:re.UNKNOWN}(O.status);g(new ye(Q,O.message))}else g(new ye(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ye(re.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{c_:e,streamId:h,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{pe(_n,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);pe(_n,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",_,a,15)})}P_(e,n,a){const o=$m(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=NT(),m=MT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const _=u.join("");pe(_n,`Creating RPC '${e}' stream ${o}: ${_}`,g);const w=h.createWebChannel(_,g);this.T_(w);let T=!1,I=!1;const O=new JD({Ho:Y=>{I?pe(_n,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(T||(pe(_n,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),pe(_n,`RPC '${e}' stream ${o} sending:`,Y),w.send(Y))},Yo:()=>w.close()}),Q=(Y,G,ue)=>{Y.listen(G,ae=>{try{ue(ae)}catch(me){setTimeout(()=>{throw me},0)}})};return Q(w,Wl.EventType.OPEN,()=>{I||(pe(_n,`RPC '${e}' stream ${o} transport opened.`),O.s_())}),Q(w,Wl.EventType.CLOSE,()=>{I||(I=!0,pe(_n,`RPC '${e}' stream ${o} transport closed`),O.__(),this.I_(w))}),Q(w,Wl.EventType.ERROR,Y=>{I||(I=!0,Ia(_n,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),O.__(new ye(re.UNAVAILABLE,"The operation could not be completed")))}),Q(w,Wl.EventType.MESSAGE,Y=>{var G;if(!I){const ue=Y.data[0];dt(!!ue,16349);const ae=ue,me=(ae==null?void 0:ae.error)||((G=ae[0])===null||G===void 0?void 0:G.error);if(me){pe(_n,`RPC '${e}' stream ${o} received error:`,me);const fe=me.status;let B=function(R){const V=jt[R];if(V!==void 0)return mb(V)}(fe),x=me.message;B===void 0&&(B=re.INTERNAL,x="Unknown error status: "+fe+" with message "+me.message),I=!0,O.__(new ye(B,x)),w.close()}else pe(_n,`RPC '${e}' stream ${o} received:`,ue),O.a_(ue)}}),Q(m,OT.STAT_EVENT,Y=>{Y.stat===Lm.PROXY?pe(_n,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===Lm.NOPROXY&&pe(_n,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.o_()},0),O}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(r){return new iD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=a,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-a);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="PersistentStream";class Db{constructor(e,n,a,o,u,h,m,g){this.Fi=e,this.w_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Cb(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Li(n.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.b_===n&&this.W_(a,o)},a=>{e(()=>{const o=new ye(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(o)})})}W_(e,n){const a=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{a(()=>this.G_(o))}),this.stream.onMessage(o=>{a(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return pe(G0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(pe(G0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t2 extends Db{constructor(e,n,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=oD(this.serializer,e),a=function(u){if(!("targetChange"in u))return Be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Be.min():h.readTime?Wr(h.readTime):Be.min()}(e);return this.listener.J_(n,a)}H_(e){const n={};n.database=Km(this.serializer),n.addTarget=function(u,h){let m;const g=h.target;if(m=jm(g)?{documents:cD(u,g)}:{query:hD(u,g).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=yb(u,h.resumeToken);const p=Fm(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Be.min())>0){m.readTime=xh(u,h.snapshotVersion.toTimestamp());const p=Fm(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const a=dD(this.serializer,e);a&&(n.labels=a),this.k_(n)}Y_(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.k_(n)}}class n2 extends Db{constructor(e,n,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=uD(e.writeResults,e.commitTime),a=Wr(e.commitTime);return this.listener.ta(a,n)}na(){const e={};e.database=Km(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>lD(this.serializer,a))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{}class i2 extends r2{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Gm(n,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(re.UNKNOWN,u.toString())})}Jo(e,n,a,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,Gm(n,a),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(re.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class a2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Li(n),this._a=!1):pe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="RemoteStore";class s2{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{a.enqueueAndForget(async()=>{Cs(this)&&(pe(Ss,"Restarting streams for network reachability change."),await async function(g){const p=je(g);p.Ia.add(4),await Ou(p),p.Aa.set("Unknown"),p.Ia.delete(4),await rf(p)}(this))})}),this.Aa=new a2(a,o)}}async function rf(r){if(Cs(r))for(const e of r.da)await e(!0)}async function Ou(r){for(const e of r.da)await e(!1)}function Ob(r,e){const n=je(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),kg(n)?Lg(n):Fo(n).x_()&&Pg(n,e))}function Vg(r,e){const n=je(r),a=Fo(n);n.Ta.delete(e),a.x_()&&Mb(n,e),n.Ta.size===0&&(a.x_()?a.B_():Cs(n)&&n.Aa.set("Unknown"))}function Pg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fo(r).H_(e)}function Mb(r,e){r.Ra.$e(e),Fo(r).Y_(e)}function Lg(r){r.Ra=new eD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Fo(r).start(),r.Aa.aa()}function kg(r){return Cs(r)&&!Fo(r).M_()&&r.Ta.size>0}function Cs(r){return je(r).Ia.size===0}function Nb(r){r.Ra=void 0}async function o2(r){r.Aa.set("Online")}async function l2(r){r.Ta.forEach((e,n)=>{Pg(r,e)})}async function u2(r,e){Nb(r),kg(r)?(r.Aa.la(e),Lg(r)):r.Aa.set("Unknown")}async function c2(r,e,n){if(r.Aa.set("Online"),e instanceof pb&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(a){pe(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Ph(r,a)}else if(e instanceof mh?r.Ra.Ye(e):e instanceof gb?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Be.min()))try{const a=await Ib(r.localStore);n.compareTo(a)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ta.get(p);_&&u.Ta.set(p,_.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,p)=>{const _=u.Ta.get(g);if(!_)return;u.Ta.set(g,_.withResumeToken(dn.EMPTY_BYTE_STRING,_.snapshotVersion)),Mb(u,g);const w=new Ta(_.target,g,p,_.sequenceNumber);Pg(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){pe(Ss,"Failed to raise snapshot:",a),await Ph(r,a)}}async function Ph(r,e,n){if(!Ho(e))throw e;r.Ia.add(1),await Ou(r),r.Aa.set("Offline"),n||(n=()=>Ib(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{pe(Ss,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await rf(r)})}function xb(r,e){return e().catch(n=>Ph(r,n,e))}async function af(r){const e=je(r),n=Na(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Eg;for(;h2(e);)try{const o=await YD(e.localStore,a);if(o===null){e.Pa.length===0&&n.B_();break}a=o.batchId,f2(e,o)}catch(o){await Ph(e,o)}Vb(e)&&Pb(e)}function h2(r){return Cs(r)&&r.Pa.length<10}function f2(r,e){r.Pa.push(e);const n=Na(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function Vb(r){return Cs(r)&&!Na(r).M_()&&r.Pa.length>0}function Pb(r){Na(r).start()}async function d2(r){Na(r).na()}async function m2(r){const e=Na(r);for(const n of r.Pa)e.X_(n.mutations)}async function g2(r,e,n){const a=r.Pa.shift(),o=Ig.from(a,e,n);await xb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await af(r)}async function p2(r,e){e&&Na(r).Z_&&await async function(a,o){if(function(h){return ZC(h)&&h!==re.ABORTED}(o.code)){const u=a.Pa.shift();Na(a).N_(),await xb(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await af(a)}}(r,e),Vb(r)&&Pb(r)}async function Y0(r,e){const n=je(r);n.asyncQueue.verifyOperationInProgress(),pe(Ss,"RemoteStore received new credentials");const a=Cs(n);n.Ia.add(3),await Ou(n),a&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await rf(n)}async function y2(r,e){const n=je(r);e?(n.Ia.delete(2),await rf(n)):e||(n.Ia.add(2),await Ou(n),n.Aa.set("Unknown"))}function Fo(r){return r.Va||(r.Va=function(n,a,o){const u=je(n);return u.ia(),new t2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:o2.bind(null,r),e_:l2.bind(null,r),n_:u2.bind(null,r),J_:c2.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),kg(r)?Lg(r):r.Aa.set("Unknown")):(await r.Va.stop(),Nb(r))})),r.Va}function Na(r){return r.ma||(r.ma=function(n,a,o){const u=je(n);return u.ia(),new n2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:d2.bind(null,r),n_:p2.bind(null,r),ea:m2.bind(null,r),ta:g2.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await af(r)):(await r.ma.stop(),r.Pa.length>0&&(pe(Ss,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const h=Date.now()+a,m=new Ug(e,n,h,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(r,e){if(Li("AsyncQueue",`${e}: ${r}`),Ho(r))return new ye(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(e){return new Io(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ie.comparator(n.key,a.key):(n,a)=>Ie.comparator(n.key,a.key),this.keyedMap=Zl(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Io;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.fa=new Dt(Ie.comparator)}track(e){const n=e.doc.key,a=this.fa.get(n);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(n,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(n):e.type===1&&a.type===2?this.fa=this.fa.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ve(63341,{At:e,ga:a}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,a)=>{e.push(a)}),e}}class Lo{constructor(e,n,a,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Lo(e,n,Io.emptySet(n),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class _2{constructor(){this.queries=Q0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,a){const o=je(n),u=o.queries;o.queries=Q0(),u.forEach((h,m)=>{for(const g of m.wa)g.onError(a)})})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function Q0(){return new Rs(r=>tb(r),Wh)}async function E2(r,e){const n=je(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(a=2):(u=new v2,a=e.ba()?0:1);try{switch(a){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=zg(h,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&Bg(n)}async function T2(r,e){const n=je(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function b2(r,e){const n=je(r);let a=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(a=!0);h.ya=o}}a&&Bg(n)}function w2(r,e,n){const a=je(r),o=a.queries.get(e);if(o)for(const u of o.wa)u.onError(n);a.queries.delete(e)}function Bg(r){r.Da.forEach(e=>{e.next()})}var Xm,$0;($0=Xm||(Xm={})).Fa="default",$0.Cache="cache";class S2{constructor(e,n,a){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Lo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const a=n!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.key=e}}class kb{constructor(e){this.key=e}}class A2{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=tt(),this.mutatedKeys=tt(),this.Xa=nb(e),this.eu=new Io(this.Xa)}get tu(){return this.Ha}nu(e,n){const a=n?n.ru:new K0,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const T=o.get(_),I=Zh(this.query,w)?w:null,O=!!T&&this.mutatedKeys.has(T.key),Q=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let Y=!1;T&&I?T.data.isEqual(I.data)?O!==Q&&(a.track({type:3,doc:I}),Y=!0):this.iu(T,I)||(a.track({type:2,doc:I}),Y=!0,(g&&this.Xa(I,g)>0||p&&this.Xa(I,p)<0)&&(m=!0)):!T&&I?(a.track({type:0,doc:I}),Y=!0):T&&!I&&(a.track({type:1,doc:T}),Y=!0,(g||p)&&(m=!0)),Y&&(I?(h=h.add(I),u=Q?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{eu:h,ru:a,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((_,w)=>function(I,O){const Q=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{At:Y})}};return Q(I)-Q(O)}(_.type,w.type)||this.Xa(_.doc,w.doc)),this.su(a),o=o!=null&&o;const m=n&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,p=g!==this.Ya;return this.Ya=g,h.length!==0||p?{snapshot:new Lo(this.query,e.eu,u,h,e.mutatedKeys,g===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new K0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=tt(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const n=[];return e.forEach(a=>{this.Za.has(a)||n.push(new kb(a))}),this.Za.forEach(a=>{e.has(a)||n.push(new Lb(a))}),n}uu(e){this.Ha=e.qs,this.Za=tt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Lo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const jg="SyncEngine";class R2{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class I2{constructor(e){this.key=e,this.lu=!1}}class C2{constructor(e,n,a,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Rs(m=>tb(m),Wh),this.Tu=new Map,this.Iu=new Set,this.du=new Dt(Ie.comparator),this.Eu=new Map,this.Au=new Og,this.Ru={},this.Vu=new Map,this.mu=Po.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function D2(r,e,n=!0){const a=qb(r);let o;const u=a.Pu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Ub(a,e,n,!0),o}async function O2(r,e){const n=qb(r);await Ub(n,e,!0,!1)}async function Ub(r,e,n,a){const o=await KD(r.localStore,Xr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await M2(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&Ob(r.remoteStore,o),m}async function M2(r,e,n,a,o){r.gu=(w,T,I)=>async function(Q,Y,G,ue){let ae=Y.view.nu(G);ae.Ds&&(ae=await j0(Q.localStore,Y.query,!1).then(({documents:x})=>Y.view.nu(x,ae)));const me=ue&&ue.targetChanges.get(Y.targetId),fe=ue&&ue.targetMismatches.get(Y.targetId)!=null,B=Y.view.applyChanges(ae,Q.isPrimaryClient,me,fe);return W0(Q,Y.targetId,B._u),B.snapshot}(r,w,T,I);const u=await j0(r.localStore,e,!0),h=new A2(e,u.qs),m=h.nu(u.documents),g=Du.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);W0(r,n,p._u);const _=new R2(e,n,h);return r.Pu.set(e,_),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),p.snapshot}async function N2(r,e,n){const a=je(r),o=a.Pu.get(e),u=a.Tu.get(o.targetId);if(u.length>1)return a.Tu.set(o.targetId,u.filter(h=>!Wh(h,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Qm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Vg(a.remoteStore,o.targetId),Wm(a,o.targetId)}).catch(jo)):(Wm(a,o.targetId),await Qm(a.localStore,o.targetId,!0))}async function x2(r,e){const n=je(r),a=n.Pu.get(e),o=n.Tu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Vg(n.remoteStore,a.targetId))}async function V2(r,e,n){const a=j2(r);try{const o=await function(h,m){const g=je(h),p=At.now(),_=m.reduce((I,O)=>I.add(O.key),tt());let w,T;return g.persistence.runTransaction("Locally write mutations","readwrite",I=>{let O=ki(),Q=tt();return g.Os.getEntries(I,_).next(Y=>{O=Y,O.forEach((G,ue)=>{ue.isValidDocument()||(Q=Q.add(G))})}).next(()=>g.localDocuments.getOverlayedDocuments(I,O)).next(Y=>{w=Y;const G=[];for(const ue of m){const ae=KC(ue,w.get(ue.key).overlayedDocument);ae!=null&&G.push(new Is(ue.key,ae,KT(ae.value.mapValue),xi.exists(!0)))}return g.mutationQueue.addMutationBatch(I,p,G,m)}).next(Y=>{T=Y;const G=Y.applyToLocalDocumentSet(w,Q);return g.documentOverlayCache.saveOverlays(I,Y.batchId,G)})}).then(()=>({batchId:T.batchId,changes:ib(w)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(h,m,g){let p=h.Ru[h.currentUser.toKey()];p||(p=new Dt(Ke)),p=p.insert(m,g),h.Ru[h.currentUser.toKey()]=p}(a,o.batchId,n),await Mu(a,o.changes),await af(a.remoteStore)}catch(o){const u=zg(o,"Failed to persist write");n.reject(u)}}async function zb(r,e){const n=je(r);try{const a=await FD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?dt(h.lu,14607):o.removedDocuments.size>0&&(dt(h.lu,42227),h.lu=!1))}),await Mu(n,a,e)}catch(a){await jo(a)}}function X0(r,e,n){const a=je(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const g=je(h);g.onlineState=m;let p=!1;g.queries.forEach((_,w)=>{for(const T of w.wa)T.va(m)&&(p=!0)}),p&&Bg(g)}(a.eventManager,e),o.length&&a.hu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function P2(r,e,n){const a=je(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Eu.get(e),u=o&&o.key;if(u){let h=new Dt(Ie.comparator);h=h.insert(u,Tn.newNoDocument(u,Be.min()));const m=tt().add(u),g=new tf(Be.min(),new Map,new Dt(Ke),h,m);await zb(a,g),a.du=a.du.remove(u),a.Eu.delete(e),Hg(a)}else await Qm(a.localStore,e,!1).then(()=>Wm(a,e,n)).catch(jo)}async function L2(r,e){const n=je(r),a=e.batch.batchId;try{const o=await qD(n.localStore,e);jb(n,a,null),Bb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Mu(n,o)}catch(o){await jo(o)}}async function k2(r,e,n){const a=je(r);try{const o=await function(h,m){const g=je(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return g.mutationQueue.lookupMutationBatch(p,m).next(w=>(dt(w!==null,37113),_=w.keys(),g.mutationQueue.removeMutationBatch(p,w))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,_,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>g.localDocuments.getDocuments(p,_))})}(a.localStore,e);jb(a,e,n),Bb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Mu(a,o)}catch(o){await jo(o)}}function Bb(r,e){(r.Vu.get(e)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(e)}function jb(r,e,n){const a=je(r);let o=a.Ru[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Ru[a.currentUser.toKey()]=o}}function Wm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Tu.get(e))r.Pu.delete(a),n&&r.hu.pu(a,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(a=>{r.Au.containsKey(a)||Hb(r,a)})}function Hb(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Vg(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),Hg(r))}function W0(r,e,n){for(const a of n)a instanceof Lb?(r.Au.addReference(a.key,e),U2(r,a)):a instanceof kb?(pe(jg,"Document no longer in limbo: "+a.key),r.Au.removeReference(a.key,e),r.Au.containsKey(a.key)||Hb(r,a.key)):Ve(19791,{yu:a})}function U2(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Iu.has(a)||(pe(jg,"New document in limbo: "+n),r.Iu.add(a),Hg(r))}function Hg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Ie(St.fromString(e)),a=r.mu.next();r.Eu.set(a,new I2(n)),r.du=r.du.insert(n,a),Ob(r.remoteStore,new Ta(Xr(Ag(n.path)),a,"TargetPurposeLimboResolution",Qh.ue))}}async function Mu(r,e,n){const a=je(r),o=[],u=[],h=[];a.Pu.isEmpty()||(a.Pu.forEach((m,g)=>{h.push(a.gu(g,e,n).then(p=>{var _;if((p||n)&&a.isPrimaryClient){const w=p?!p.fromCache:(_=n==null?void 0:n.targetChanges.get(g.targetId))===null||_===void 0?void 0:_.current;a.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(p){o.push(p);const w=Ng.Es(g.targetId,p);u.push(w)}}))}),await Promise.all(h),a.hu.J_(o),await async function(g,p){const _=je(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>se.forEach(p,T=>se.forEach(T.Is,I=>_.persistence.referenceDelegate.addReference(w,T.targetId,I)).next(()=>se.forEach(T.ds,I=>_.persistence.referenceDelegate.removeReference(w,T.targetId,I)))))}catch(w){if(!Ho(w))throw w;pe(xg,"Failed to update sequence numbers: "+w)}for(const w of p){const T=w.targetId;if(!w.fromCache){const I=_.Fs.get(T),O=I.snapshotVersion,Q=I.withLastLimboFreeSnapshotVersion(O);_.Fs=_.Fs.insert(T,Q)}}}(a.localStore,u))}async function z2(r,e){const n=je(r);if(!n.currentUser.isEqual(e)){pe(jg,"User change. New user:",e.toKey());const a=await Rb(n.localStore,e);n.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(g=>{g.reject(new ye(re.CANCELLED,h))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Mu(n,a.Bs)}}function B2(r,e){const n=je(r),a=n.Eu.get(e);if(a&&a.lu)return tt().add(a.key);{let o=tt();const u=n.Tu.get(e);if(!u)return o;for(const h of u){const m=n.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function qb(r){const e=je(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P2.bind(null,e),e.hu.J_=b2.bind(null,e.eventManager),e.hu.pu=w2.bind(null,e.eventManager),e}function j2(r){const e=je(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k2.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return HD(this.persistence,new zD,e.initialUser,this.serializer)}Du(e){return new Ab(Mg.Vi,this.serializer)}bu(e){return new $D}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class H2 extends Lh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){dt(this.persistence.referenceDelegate instanceof Vh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new SD(a,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new Ab(a=>Vh.Vi(a,n),this.serializer)}}class Zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>X0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=z2.bind(null,this.syncEngine),await y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _2}()}createDatastore(e){const n=nf(e.databaseInfo.databaseId),a=function(u){return new e2(u)}(e.databaseInfo);return function(u,h,m,g){return new i2(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,h,m){return new s2(a,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>X0(this.syncEngine,n,0),function(){return F0.C()?new F0:new XD}())}createSyncEngine(e,n){return function(o,u,h,m,g,p,_){const w=new C2(o,u,h,m,g,p);return _&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=je(o);pe(Ss,"RemoteStore shutting down."),u.Ia.add(5),await Ou(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zm.provider={build:()=>new Zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="FirestoreClient";class F2{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=_g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{pe(xa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(pe(xa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=zg(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Tm(r,e){r.asyncQueue.verifyOperationInProgress(),pe(xa,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Rb(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>{Ia("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{pe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Ia("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function Z0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await G2(r);pe(xa,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>Y0(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>Y0(e.remoteStore,o)),r._onlineComponents=e}async function G2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(xa,"Using user provided OfflineComponentProvider");try{await Tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ia("Error using user provided cache. Falling back to memory cache: "+n),await Tm(r,new Lh)}}else pe(xa,"Using default OfflineComponentProvider"),await Tm(r,new H2(void 0));return r._offlineComponents}async function Fb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(xa,"Using user provided OnlineComponentProvider"),await Z0(r,r._uninitializedComponentsProvider._online)):(pe(xa,"Using default OnlineComponentProvider"),await Z0(r,new Zm))),r._onlineComponents}function Y2(r){return Fb(r).then(e=>e.syncEngine)}async function J0(r){const e=await Fb(r),n=e.eventManager;return n.onListen=D2.bind(null,e.syncEngine),n.onUnlisten=N2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=x2.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="firestore.googleapis.com",tE=!0;class nE{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yb,this.ssl=tE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:tE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bD)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gb((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new WI;switch(a.type){case"firstParty":return new tC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=eE.get(n);a&&(pe("ComponentProvider","Removing Datastore"),eE.delete(n),a.terminate())}(this),Promise.resolve()}}function K2(r,e,n,a={}){var o;r=au(r,sf);const u=ko(e),h=r._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${n}`;u&&(qE(`https://${g}`),FE("Firestore",!0)),h.host!==Yb&&h.host!==g&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},h),{host:g,ssl:u,emulatorOptions:a});if(!Es(p,m)&&(r._setSettings(p),a.mockUserToken)){let _,w;if(typeof a.mockUserToken=="string")_=a.mockUserToken,w=En.MOCK_USER;else{_=b1(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new En(T)}r._authCredentials=new ZI(new VT(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class Xt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Iu(n,Xt._jsonSchema))return new Xt(e,a||null,new Ie(St.fromString(n.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:qt("string",Xt._jsonSchemaVersion),referencePath:qt("string")};class Ra extends Ds{constructor(e,n,a){super(e,n,Ag(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Ie(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function Kb(r,e,...n){if(r=On(r),LT("collection","path",e),r instanceof sf){const a=St.fromString(e,...n);return m0(a),new Ra(r,null,a)}{if(!(r instanceof Xt||r instanceof Ra))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(St.fromString(e,...n));return m0(a),new Ra(r.firestore,null,a)}}function Q2(r,e,...n){if(r=On(r),arguments.length===1&&(e=_g.newId()),LT("doc","path",e),r instanceof sf){const a=St.fromString(e,...n);return d0(a),new Xt(r,null,new Ie(a))}{if(!(r instanceof Xt||r instanceof Ra))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(St.fromString(e,...n));return d0(a),new Xt(r.firestore,r instanceof Ra?r.converter:null,new Ie(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="AsyncQueue";class iE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Cb(this,"async_queue_retry"),this.oc=()=>{const a=Em();a&&pe(rE,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new vs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ho(e))throw e;pe(rE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Li("INTERNAL UNHANDLED ERROR: ",aE(a)),a}).then(a=>(this.nc=!1,a))));return this._c=n,n}enqueueAfterDelay(e,n,a){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=Ug.createAndSchedule(this,e,n,a,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ve(47125,{hc:aE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function aE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(r){return function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class kh extends sf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new iE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iE(e),this._firestoreClient=void 0,await e}}}function $2(r,e){const n=typeof r=="object"?r:QE(),a=typeof r=="string"?r:Dh,o=sg(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=E1("firestore");u&&K2(o,...u)}return o}function Qb(r){if(r._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||X2(r),r._firestoreClient}function X2(r){var e,n,a;const o=r._freezeSettings(),u=function(m,g,p,_){return new yC(m,g,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Gb(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new F2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gr(dn.fromBase64String(e))}catch(n){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gr(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,gr._jsonSchema))return gr.fromBase64String(e.bytes)}}gr._jsonSchemaVersion="firestore/bytes/1.0",gr._jsonSchema={type:qt("string",gr._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zr._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,Zr._jsonSchema))return new Zr(e.latitude,e.longitude)}}Zr._jsonSchemaVersion="firestore/geoPoint/1.0",Zr._jsonSchema={type:qt("string",Zr._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,Jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Jr(e.vectorValues);throw new ye(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jr._jsonSchemaVersion="firestore/vectorValue/1.0",Jr._jsonSchema={type:qt("string",Jr._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=/^__.*__$/;class Z2{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}function $b(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ec:r})}}class Gg{constructor(e,n,a,o,u,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:a,mc:!1});return o.fc(e),o}gc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:a,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Uh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if($b(this.Ec)&&W2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class J2{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||nf(e)}Dc(e,n,a,o=!1){return new Gg({Ec:e,methodName:n,bc:a,path:fn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xb(r){const e=r._freezeSettings(),n=nf(r._databaseId);return new J2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function eO(r,e,n,a,o,u={}){const h=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Jb("Data must be an object, but it was:",h,a);const m=Wb(a,h);let g,p;if(u.merge)g=new Ar(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const w of u.mergeFields){const T=nO(e,w,n);if(!h.contains(T))throw new ye(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);iO(_,T)||_.push(T)}g=new Ar(_),p=h.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,p=h.fieldTransforms;return new Z2(new mr(m),g,p)}class Yg extends Fg{_toFieldTransform(e){return new qC(e.path,new yu)}isEqual(e){return e instanceof Yg}}function tO(r,e,n,a=!1){return Kg(n,r.Dc(a?4:3,e))}function Kg(r,e){if(Zb(r=On(r)))return Jb("Unsupported field value:",e,r),Wb(r,e);if(r instanceof Fg)return function(a,o){if(!$b(o.Ec))throw o.wc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const m of a){let g=Kg(m,o.yc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=On(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return BC(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=At.fromDate(a);return{timestampValue:xh(o.serializer,u)}}if(a instanceof At){const u=new At(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:xh(o.serializer,u)}}if(a instanceof Zr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof gr)return{bytesValue:yb(o.serializer,a._byteString)};if(a instanceof Xt){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Jr)return function(h,m){return{mapValue:{fields:{[GT]:{stringValue:YT},[Oh]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.wc("VectorValues must only contain numeric values.");return Rg(m.serializer,p)})}}}}}}(a,o);throw o.wc(`Unsupported field value: ${Kh(a)}`)}(r,e)}function Wb(r,e){const n={};return zT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(r,(a,o)=>{const u=Kg(o,e.Vc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function Zb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof At||r instanceof Zr||r instanceof gr||r instanceof Xt||r instanceof Fg||r instanceof Jr)}function Jb(r,e,n){if(!Zb(n)||!kT(n)){const a=Kh(n);throw a==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+a)}}function nO(r,e,n){if((e=On(e))instanceof qg)return e._internalPath;if(typeof e=="string")return ew(r,e);throw Uh("Field path arguments must be of type string or ",r,!1,void 0,n)}const rO=new RegExp("[~\\*/\\[\\]]");function ew(r,e,n){if(e.search(rO)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new qg(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Uh(r,e,n,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${a}`),h&&(g+=` in document ${o}`),g+=")"),new ye(re.INVALID_ARGUMENT,m+r+g)}function iO(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aO extends tw{data(){return super.data()}}function Qg(r,e){return typeof e=="string"?ew(r,e):e instanceof qg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $g{}class nw extends $g{}function oO(r,e,...n){let a=[];e instanceof $g&&a.push(e),a=a.concat(n),function(u){const h=u.filter(g=>g instanceof Wg).length,m=u.filter(g=>g instanceof Xg).length;if(h>1||h>0&&m>0)throw new ye(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Xg extends nw{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Xg(e,n,a)}_apply(e){const n=this._parse(e);return rw(e._query,n),new Ds(e.firestore,e.converter,Hm(e._query,n))}_parse(e){const n=Xb(e.firestore);return function(u,h,m,g,p,_,w){let T;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ye(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){lE(w,_);const O=[];for(const Q of w)O.push(oE(g,u,Q));T={arrayValue:{values:O}}}else T=oE(g,u,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||lE(w,_),T=tO(m,h,w,_==="in"||_==="not-in");return Ht.create(p,_,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Wg extends $g{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wg(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)rw(h,g),h=Hm(h,g)}(e._query,n),new Ds(e.firestore,e.converter,Hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zg extends nw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zg(e,n)}_apply(e){const n=function(o,u,h){if(o.startAt!==null)throw new ye(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ye(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pu(u,h)}(e._query,this._field,this._direction);return new Ds(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new qo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function lO(r,e="asc"){const n=e,a=Qg("orderBy",r);return Zg._create(a,n)}function oE(r,e,n){if(typeof(n=On(n))=="string"){if(n==="")throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eb(e)&&n.indexOf("/")!==-1)throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(St.fromString(n));if(!Ie.isDocumentKey(a))throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return b0(r,new Ie(a))}if(n instanceof Xt)return b0(r,n._key);throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function lE(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rw(r,e){const n=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uO{convertValue(e,n="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return As(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[Oh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>Vt(h.doubleValue));return new Jr(u)}convertGeoPoint(e){return new Zr(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Xh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=Da(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=St.fromString(e);dt(wb(a),9688,{name:e});const o=new mu(a.get(1),a.get(3)),u=new Ie(a.popFirst(5));return o.isEqual(n)||Li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _s extends tw{constructor(e,n,a,o,u,h){super(e,n,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Qg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_s._jsonSchemaVersion="firestore/documentSnapshot/1.0",_s._jsonSchema={type:qt("string",_s._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class gh extends _s{data(e={}){return super.data(e)}}class Co{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new gh(this._firestore,this._userDataWriter,a.key,a,new eu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const g=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,_=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:hO(m.type),doc:g,oldIndex:p,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:r})}}Co._jsonSchemaVersion="firestore/querySnapshot/1.0",Co._jsonSchema={type:qt("string",Co._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class iw extends uO{constructor(e){super(),this.firestore=e}convertBytes(e){return new gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function fO(r,e){const n=au(r.firestore,kh),a=Q2(r),o=cO(r.converter,e);return mO(n,[eO(Xb(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,xi.exists(!1))]).then(()=>a)}function dO(r,...e){var n,a,o;r=On(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||sE(e[h])||(u=e[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(sE(e[h])){const w=e[h];e[h]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[h+1]=(a=w.error)===null||a===void 0?void 0:a.bind(w),e[h+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let g,p,_;if(r instanceof Xt)p=au(r.firestore,kh),_=Ag(r._key.path),g={next:w=>{e[h]&&e[h](gO(p,r,w))},error:e[h+1],complete:e[h+2]};else{const w=au(r,Ds);p=au(w.firestore,kh),_=w._query;const T=new iw(p);g={next:I=>{e[h]&&e[h](new Co(p,T,w,I))},error:e[h+1],complete:e[h+2]},sO(r._query)}return function(T,I,O,Q){const Y=new q2(Q),G=new S2(I,Y,O);return T.asyncQueue.enqueueAndForget(async()=>E2(await J0(T),G)),()=>{Y.Ou(),T.asyncQueue.enqueueAndForget(async()=>T2(await J0(T),G))}}(Qb(p),_,m,g)}function mO(r,e){return function(a,o){const u=new vs;return a.asyncQueue.enqueueAndForget(async()=>V2(await Y2(a),o,u)),u.promise}(Qb(r),e)}function gO(r,e,n){const a=n.docs.get(e._key),o=new iw(r);return new _s(r,o,e._key,a,new eu(n.hasPendingWrites,n.fromCache),e.converter)}function pO(){return new Yg("serverTimestamp")}(function(e,n=!0){(function(o){Bo=o})(Uo),Oo(new Ts("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new kh(new JI(a.getProvider("auth-internal")),new nC(h,a.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(p.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Sa(l0,u0,e),Sa(l0,u0,"esm2017")})();const yO={apiKey:"AIzaSyBS-g-gBk-mrmLwRAB0EDY4oJpjRLxYbnc",authDomain:"my-guestbook-demo-890d9.firebaseapp.com",projectId:"my-guestbook-demo-890d9",storageBucket:"my-guestbook-demo-890d9.firebasestorage.app",messagingSenderId:"715954290413",appId:"1:715954290413:web:d8810bdcf8decb640a56e4"},aw=KE(yO),nh=KI(aw),sw=$2(aw),ow=W.createContext(),vO=({children:r})=>{const[e,n]=W.useState(null),a=()=>{const h=new Di;J_(nh,h)},o=()=>{const h=new Oi;J_(nh,h)},u=()=>{kR(nh)};return W.useEffect(()=>{const h=LR(nh,m=>{n(m),console.log("User state changed:",m)});return()=>{h()}},[]),we.jsx(ow.Provider,{value:{googleSignIn:a,githubSignIn:o,user:e,logOut:u},children:r})},Jg=()=>W.useContext(ow);function uE({text:r,onclick:e}){return we.jsx("button",{className:"bg-primary text-neutral-200 flex-grow p-3 rounded-md cursor-pointer",onClick:e,children:r})}const _O=()=>{const{googleSignIn:r,githubSignIn:e}=Jg(),n=async()=>{try{await r()}catch(o){console.error("Error signing in with Google:",o)}},a=async()=>{try{await e()}catch(o){console.error("Error signing in with GitHub:",o)}};return we.jsxs("section",{className:"border border-base-300 p-6 m-6 rounded-sm",children:[we.jsx("h2",{className:"text-xl",children:"Sign in"}),we.jsx("p",{children:"To sign the guestbook, please login using either of the two options below."}),we.jsxs("div",{className:"flex gap-3 mt-3 justify-around",children:[we.jsx(uE,{text:"Continue using Google",onclick:n}),we.jsx(uE,{text:"Continue using GitHub",onclick:a})]})]})};function EO({title:r,titleId:e,...n},a){return W.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),r?W.createElement("title",{id:e},r):null,W.createElement("path",{fillRule:"evenodd",d:"M16.5 3.75a1.5 1.5 0 0 1 1.5 1.5v13.5a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1-1.5-1.5V15a.75.75 0 0 0-1.5 0v3.75a3 3 0 0 0 3 3h6a3 3 0 0 0 3-3V5.25a3 3 0 0 0-3-3h-6a3 3 0 0 0-3 3V9A.75.75 0 1 0 9 9V5.25a1.5 1.5 0 0 1 1.5-1.5h6ZM5.78 8.47a.75.75 0 0 0-1.06 0l-3 3a.75.75 0 0 0 0 1.06l3 3a.75.75 0 0 0 1.06-1.06l-1.72-1.72H15a.75.75 0 0 0 0-1.5H4.06l1.72-1.72a.75.75 0 0 0 0-1.06Z",clipRule:"evenodd"}))}const TO=W.forwardRef(EO);function bO({title:r,titleId:e,...n},a){return W.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),r?W.createElement("title",{id:e},r):null,W.createElement("path",{d:"M3.478 2.404a.75.75 0 0 0-.926.941l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.404Z"}))}const wO=W.forwardRef(bO);function SO(){const{logOut:r,user:e}=Jg(),[n,a]=W.useState(""),[o,u]=W.useState(!1),h=async()=>{try{await r()}catch(g){console.error("Error signing out:",g)}},m=async g=>{if(g.preventDefault(),!!n.trim()){u(!0);try{await fO(Kb(sw,"entries"),{name:e.displayName,photoURL:e.photoURL,timestamp:pO(),message:n}),a("")}catch(p){console.log("Error in submitting the entry: ",p)}finally{u(!1)}}};return we.jsxs("section",{className:"border border-base-300 p-6 m-6 rounded-sm",children:[we.jsxs("div",{className:"flex justify-between items-center",children:[we.jsxs("div",{className:"flex space-x-2 items-center",children:[we.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-10 h-10 rounded-full border border-primary"}),we.jsx("p",{className:"font-semibold",children:e.displayName})]}),we.jsx("div",{children:we.jsxs("button",{className:"bg-primary text-neutral-200  py-2 px-4 rounded-md cursor-pointer flex justify-center items-center space-x-1",onClick:h,children:[we.jsx("span",{children:"Logout"}),we.jsx(TO,{className:"w-5 h-5 font"})]})})]}),we.jsxs("form",{onSubmit:m,children:[we.jsx("textarea",{className:"textarea textarea-ghost w-full mt-3 border-primary",placeholder:"Write your message...",value:n,onChange:g=>a(g.target.value),disabled:o}),we.jsx("div",{className:"flex gap-3 mt-3 justify-around",children:we.jsxs("button",{className:"bg-primary text-neutral-200 flex-grow flex justify-center items-center space-x-1 p-3 rounded-md cursor-pointer disabled:opacity-50",type:"submit",disabled:!n||o,children:[we.jsx("span",{children:o?"Signing...":"Sign"}),we.jsx(wO,{className:"w-5 h-5"})]})})]})]})}const rh=43200,cE=1440,hE=Symbol.for("constructDateFrom");function ep(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&hE in r?r[hE](e):r instanceof Date?new r.constructor(e):new Date(e)}function Va(r,e){return ep(r,r)}let AO={};function RO(){return AO}function fE(r){const e=Va(r),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+r-+n}function tp(r,...e){const n=ep.bind(null,r||e.find(a=>typeof a=="object"));return e.map(n)}function ph(r,e){const n=+Va(r)-+Va(e);return n<0?-1:n>0?1:n}function IO(r){return ep(r,Date.now())}function CO(r,e,n){const[a,o]=tp(n==null?void 0:n.in,r,e),u=a.getFullYear()-o.getFullYear(),h=a.getMonth()-o.getMonth();return u*12+h}function DO(r){return e=>{const a=(r?Math[r]:Math.trunc)(e);return a===0?0:a}}function OO(r,e){return+Va(r)-+Va(e)}function MO(r,e){const n=Va(r);return n.setHours(23,59,59,999),n}function NO(r,e){const n=Va(r),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function xO(r,e){const n=Va(r);return+MO(n)==+NO(n)}function VO(r,e,n){const[a,o,u]=tp(n==null?void 0:n.in,r,r,e),h=ph(o,u),m=Math.abs(CO(o,u));if(m<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-h*m);let g=ph(o,u)===-h;xO(a)&&m===1&&ph(a,u)===1&&(g=!1);const p=h*(m-+g);return p===0?0:p}function PO(r,e,n){const a=OO(r,e)/1e3;return DO(n==null?void 0:n.roundingMethod)(a)}const LO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kO=(r,e,n)=>{let a;const o=LO[r];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function bm(r){return(e={})=>{const n=e.width?String(e.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const UO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},BO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jO={date:bm({formats:UO,defaultWidth:"full"}),time:bm({formats:zO,defaultWidth:"full"}),dateTime:bm({formats:BO,defaultWidth:"full"})},HO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qO=(r,e,n,a)=>HO[r];function Gl(r){return(e,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let o;if(a==="formatting"&&r.formattingValues){const h=r.defaultFormattingWidth||r.defaultWidth,m=n!=null&&n.width?String(n.width):h;o=r.formattingValues[m]||r.formattingValues[h]}else{const h=r.defaultWidth,m=n!=null&&n.width?String(n.width):r.defaultWidth;o=r.values[m]||r.values[h]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const FO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$O={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},XO=(r,e)=>{const n=Number(r),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},WO={ordinalNumber:XO,era:Gl({values:FO,defaultWidth:"wide"}),quarter:Gl({values:GO,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Gl({values:YO,defaultWidth:"wide"}),day:Gl({values:KO,defaultWidth:"wide"}),dayPeriod:Gl({values:QO,defaultWidth:"wide",formattingValues:$O,defaultFormattingWidth:"wide"})};function Yl(r){return(e,n={})=>{const a=n.width,o=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const h=u[0],m=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],g=Array.isArray(m)?JO(m,w=>w.test(h)):ZO(m,w=>w.test(h));let p;p=r.valueCallback?r.valueCallback(g):g,p=n.valueCallback?n.valueCallback(p):p;const _=e.slice(h.length);return{value:p,rest:_}}}function ZO(r,e){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&e(r[n]))return n}function JO(r,e){for(let n=0;n<r.length;n++)if(e(r[n]))return n}function eM(r){return(e,n={})=>{const a=e.match(r.matchPattern);if(!a)return null;const o=a[0],u=e.match(r.parsePattern);if(!u)return null;let h=r.valueCallback?r.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const m=e.slice(o.length);return{value:h,rest:m}}}const tM=/^(\d+)(th|st|nd|rd)?/i,nM=/\d+/i,rM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iM={any:[/^b/i,/^(a|c)/i]},aM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sM={any:[/1/i,/2/i,/3/i,/4/i]},oM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dM={ordinalNumber:eM({matchPattern:tM,parsePattern:nM,valueCallback:r=>parseInt(r,10)}),era:Yl({matchPatterns:rM,defaultMatchWidth:"wide",parsePatterns:iM,defaultParseWidth:"any"}),quarter:Yl({matchPatterns:aM,defaultMatchWidth:"wide",parsePatterns:sM,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Yl({matchPatterns:oM,defaultMatchWidth:"wide",parsePatterns:lM,defaultParseWidth:"any"}),day:Yl({matchPatterns:uM,defaultMatchWidth:"wide",parsePatterns:cM,defaultParseWidth:"any"}),dayPeriod:Yl({matchPatterns:hM,defaultMatchWidth:"any",parsePatterns:fM,defaultParseWidth:"any"})},mM={code:"en-US",formatDistance:kO,formatLong:jO,formatRelative:qO,localize:WO,match:dM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gM(r,e,n){const a=RO(),o=(n==null?void 0:n.locale)??a.locale??mM,u=2520,h=ph(r,e);if(isNaN(h))throw new RangeError("Invalid time value");const m=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:h}),[g,p]=tp(n==null?void 0:n.in,...h>0?[e,r]:[r,e]),_=PO(p,g),w=(fE(p)-fE(g))/1e3,T=Math.round((_-w)/60);let I;if(T<2)return n!=null&&n.includeSeconds?_<5?o.formatDistance("lessThanXSeconds",5,m):_<10?o.formatDistance("lessThanXSeconds",10,m):_<20?o.formatDistance("lessThanXSeconds",20,m):_<40?o.formatDistance("halfAMinute",0,m):_<60?o.formatDistance("lessThanXMinutes",1,m):o.formatDistance("xMinutes",1,m):T===0?o.formatDistance("lessThanXMinutes",1,m):o.formatDistance("xMinutes",T,m);if(T<45)return o.formatDistance("xMinutes",T,m);if(T<90)return o.formatDistance("aboutXHours",1,m);if(T<cE){const O=Math.round(T/60);return o.formatDistance("aboutXHours",O,m)}else{if(T<u)return o.formatDistance("xDays",1,m);if(T<rh){const O=Math.round(T/cE);return o.formatDistance("xDays",O,m)}else if(T<rh*2)return I=Math.round(T/rh),o.formatDistance("aboutXMonths",I,m)}if(I=VO(p,g),I<12){const O=Math.round(T/rh);return o.formatDistance("xMonths",O,m)}else{const O=I%12,Q=Math.trunc(I/12);return O<3?o.formatDistance("aboutXYears",Q,m):O<9?o.formatDistance("overXYears",Q,m):o.formatDistance("almostXYears",Q+1,m)}}function pM(r,e){return gM(r,IO(r),e)}const yM=({data:r})=>{const{name:e,photoURL:n,timestamp:a,message:o}=r,u=a!=null&&a.toDate?pM(a.toDate(),{addSuffix:!0}):"just now";return we.jsxs("div",{className:" px-6 py-4",children:[we.jsxs("div",{className:"flex space-x-2 ",children:[we.jsx("img",{src:n,alt:"profile",className:"w-10 h-10 rounded-full"}),we.jsxs("div",{className:"",children:[we.jsx("p",{className:"font-semibold",children:e}),we.jsx("p",{className:"text-sm text-neutral-400 leading-2",children:u})]})]}),we.jsx("p",{className:"mt-3",children:o})]})},vM=()=>we.jsxs("div",{className:" px-6 py-4",children:[we.jsxs("div",{className:"flex space-x-2 ",children:[we.jsx("div",{className:"w-10 h-10 skeleton rounded-full"}),we.jsxs("div",{className:"",children:[we.jsx("div",{className:"w-40 skeleton h-4"}),we.jsx("div",{className:"w-20 skeleton h-3 mt-2"})]})]}),we.jsx("div",{className:"w-full skeleton h-4 mt-3"}),we.jsx("div",{className:"w-[70%] skeleton h-4 mt-3"})]}),_M=()=>{const[r,e]=W.useState([]),[n,a]=W.useState(!0);return W.useEffect(()=>{const o=oO(Kb(sw,"entries"),lO("timestamp","desc")),u=dO(o,h=>{const m=h.docs;e(m),a(!1)});return()=>u()},[]),we.jsx("section",{className:"mt-6 divide-y border-y border-base-300 divide-base-300",children:n?Array.from({length:5}).map((o,u)=>we.jsx(vM,{},u)):r.map(o=>we.jsx(yM,{data:o.data()},o.id))})},EM=()=>{const{user:r}=Jg();return we.jsxs("div",{className:"flex h-screen flex-col py-5 font-ubuntu overflow-x-hidden ",children:[we.jsxs("section",{className:"border-y md:border border-base-300 p-6 md:rounded-t-xl flex items-center justify-between max-w-3xl mx-auto w-full space-x-5",children:[we.jsxs("div",{children:[we.jsx("h1",{className:"text-2xl font-bold",children:"Daniel's Guestbook"}),we.jsx("p",{className:"text-lg",children:"You can leave your thoughts and comments below."})]}),we.jsx("div",{children:we.jsxs("label",{className:"swap swap-rotate border p-2 rounded-full border-base-300 cursor-pointer",children:[we.jsx("input",{type:"checkbox",className:"theme-controller ",defaultChecked:document.documentElement.getAttribute("data-theme")!=="winter",onChange:e=>{document.documentElement.setAttribute("data-theme",e.target.checked?"dracula":"winter")}}),we.jsx("svg",{className:"swap-off h-5 w-5 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:we.jsx("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),we.jsx("svg",{className:"swap-on h-5 w-5 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:we.jsx("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]})})]}),we.jsxs("section",{className:"border-0 md:border-x border-b md:rounded-b-xl border-base-300 flex-grow pb-6 max-w-3xl mx-auto w-full",children:[!r&&we.jsx(_O,{}),r&&we.jsx(SO,{}),we.jsx(_M,{})]})]})},TM=()=>we.jsx(vO,{children:we.jsx(EM,{})});var Kl={},dE;function bM(){if(dE)return Kl;dE=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.parse=h,Kl.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,I){const O=new u,Q=T.length;if(Q<2)return O;const Y=(I==null?void 0:I.decode)||_;let G=0;do{const ue=T.indexOf("=",G);if(ue===-1)break;const ae=T.indexOf(";",G),me=ae===-1?Q:ae;if(ue>me){G=T.lastIndexOf(";",ue-1)+1;continue}const fe=m(T,G,ue),B=g(T,ue,fe),x=T.slice(fe,B);if(O[x]===void 0){let A=m(T,ue+1,me),R=g(T,me,A);const V=Y(T.slice(A,R));O[x]=V}G=me+1}while(G<Q);return O}function m(T,I,O){do{const Q=T.charCodeAt(I);if(Q!==32&&Q!==9)return I}while(++I<O);return O}function g(T,I,O){for(;I>O;){const Q=T.charCodeAt(--I);if(Q!==32&&Q!==9)return I+1}return O}function p(T,I,O){const Q=(O==null?void 0:O.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const Y=Q(I);if(!e.test(Y))throw new TypeError(`argument val is invalid: ${I}`);let G=T+"="+Y;if(!O)return G;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);G+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);G+="; Domain="+O.domain}if(O.path){if(!a.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);G+="; Path="+O.path}if(O.expires){if(!w(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);G+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(G+="; HttpOnly"),O.secure&&(G+="; Secure"),O.partitioned&&(G+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return G}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return o.call(T)==="[object Date]"}return Kl}bM();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lw=r=>{throw TypeError(r)},wM=(r,e,n)=>e.has(r)||lw("Cannot "+n),wm=(r,e,n)=>(wM(r,e,"read from private field"),n?n.call(r):e.get(r)),SM=(r,e,n)=>e.has(r)?lw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),mE="popstate";function AM(r={}){function e(a,o){let{pathname:u,search:h,hash:m}=a.location;return Eu("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Pa(o)}return IM(e,n,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ft(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RM(){return Math.random().toString(36).substring(2,10)}function gE(r,e){return{usr:r.state,key:r.key,idx:e}}function Eu(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?La(e):e,state:n,key:e&&e.key||a||RM()}}function Pa({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function La(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function IM(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,m="POP",g=null,p=_();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function _(){return(h.state||{idx:null}).idx}function w(){m="POP";let Y=_(),G=Y==null?null:Y-p;p=Y,g&&g({action:m,location:Q.location,delta:G})}function T(Y,G){m="PUSH";let ue=Eu(Q.location,Y,G);p=_()+1;let ae=gE(ue,p),me=Q.createHref(ue);try{h.pushState(ae,"",me)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(me)}u&&g&&g({action:m,location:Q.location,delta:1})}function I(Y,G){m="REPLACE";let ue=Eu(Q.location,Y,G);p=_();let ae=gE(ue,p),me=Q.createHref(ue);h.replaceState(ae,"",me),u&&g&&g({action:m,location:Q.location,delta:0})}function O(Y){return uw(Y)}let Q={get action(){return m},get location(){return r(o,h)},listen(Y){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(mE,w),g=Y,()=>{o.removeEventListener(mE,w),g=null}},createHref(Y){return e(o,Y)},createURL:O,encodeLocation(Y){let G=O(Y);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:T,replace:I,go(Y){return h.go(Y)}};return Q}function uw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Pa(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var tu,pE=class{constructor(r){if(SM(this,tu,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(wm(this,tu).has(r))return wm(this,tu).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){wm(this,tu).set(r,e)}};tu=new WeakMap;var CM=new Set(["lazy","caseSensitive","path","id","index","children"]);function DM(r){return CM.has(r)}var OM=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function MM(r){return OM.has(r)}function NM(r){return r.index===!0}function zh(r,e,n=[],a={}){return r.map((o,u)=>{let h=[...n,String(u)],m=typeof o.id=="string"?o.id:h.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),NM(o)){let g={...o,...e(o),id:m};return a[m]=g,g}else{let g={...o,...e(o),id:m,children:void 0};return a[m]=g,o.children&&(g.children=zh(o.children,e,h,a)),g}})}function Ea(r,e,n="/"){return yh(r,e,n,!1)}function yh(r,e,n,a){let o=typeof e=="string"?La(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let h=cw(r);VM(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=GM(u);m=qM(h[g],p,a)}return m}function xM(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function cw(r,e=[],n=[],a=""){let o=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let p=ei([a,g.relativePath]),_=n.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),cw(u.children,e,_,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:jM(p,u.index),routesMeta:_})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let g of hw(u.path))o(u,h,g)}),e}function hw(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=hw(a.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function VM(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:HM(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var PM=/^:[\w-]+$/,LM=3,kM=2,UM=1,zM=10,BM=-2,yE=r=>r==="*";function jM(r,e){let n=r.split("/"),a=n.length;return n.some(yE)&&(a+=BM),e&&(a+=kM),n.filter(o=>!yE(o)).reduce((o,u)=>o+(PM.test(u)?LM:u===""?UM:zM),a)}function HM(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function qM(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",h=[];for(let m=0;m<a.length;++m){let g=a[m],p=m===a.length-1,_=u==="/"?e:e.slice(u.length)||"/",w=Bh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},_),T=g.route;if(!w&&p&&n&&!a[a.length-1].route.index&&(w=Bh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:ei([u,w.pathname]),pathnameBase:QM(ei([u,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(u=ei([u,w.pathnameBase]))}return h}function Bh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=FM(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((p,{paramName:_,isOptional:w},T)=>{if(_==="*"){let O=m[T]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const I=m[T];return w&&!I?p[_]=void 0:p[_]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function FM(r,e=!1,n=!0){Ft(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function GM(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ft(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function YM(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?La(r):r;return{pathname:n?n.startsWith("/")?n:KM(n,e):e,search:$M(a),hash:XM(o)}}function KM(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function np(r){let e=fw(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function rp(r,e,n,a=!1){let o;typeof r=="string"?o=La(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let w=e.length-1;if(!a&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}m=w>=0?e[w]:"/"}let g=YM(o,m),p=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||_)&&(g.pathname+="/"),g}var ei=r=>r.join("/").replace(/\/\/+/g,"/"),QM=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$M=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,XM=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,jh=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Tu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var dw=["POST","PUT","PATCH","DELETE"],WM=new Set(dw),ZM=["GET",...dw],JM=new Set(ZM),eN=new Set([301,302,303,307,308]),tN=new Set([307,308]),Am={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ql={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rN=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),mw="remix-router-transitions",gw=Symbol("ResetLoaderData");function iN(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||rN,u={},h=zh(r.routes,o,void 0,u),m,g=r.basename||"/",p=r.dataStrategy||uN,_={unstable_middleware:!1,...r.future},w=null,T=new Set,I=null,O=null,Q=null,Y=r.hydrationData!=null,G=Ea(h,r.history.location,g),ue=!1,ae=null,me;if(G==null&&!r.patchRoutesOnNavigation){let N=dr(404,{pathname:r.history.location.pathname}),{matches:z,route:q}=DE(h);me=!0,G=z,ae={[q.id]:N}}else if(G&&!r.hydrationData&&An(G,h,r.history.location.pathname).active&&(G=null),G)if(G.some(N=>N.route.lazy))me=!1;else if(!G.some(N=>N.route.loader))me=!0;else{let N=r.hydrationData?r.hydrationData.loaderData:null,z=r.hydrationData?r.hydrationData.errors:null;if(z){let q=G.findIndex(ne=>z[ne.route.id]!==void 0);me=G.slice(0,q+1).every(ne=>!eg(ne.route,N,z))}else me=G.every(q=>!eg(q.route,N,z))}else{me=!1,G=[];let N=An(null,h,r.history.location.pathname);N.active&&N.matches&&(ue=!0,G=N.matches)}let fe,B={historyAction:r.history.action,location:r.history.location,matches:G,initialized:me,navigation:Am,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ae,fetchers:new Map,blockers:new Map},x="POP",A=!1,R,V=!1,L=new Map,k=null,D=!1,ze=!1,He=new Set,$=new Map,ce=0,ge=-1,Le=new Map,M=new Set,te=new Map,he=new Map,oe=new Set,Se=new Map,qe,Ce=null;function Pt(){if(w=r.history.listen(({action:N,location:z,delta:q})=>{if(qe){qe(),qe=void 0;return}Ft(Se.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=qi({currentLocation:B.location,nextLocation:z,historyAction:N});if(ne&&q!=null){let le=new Promise(ve=>{qe=ve});r.history.go(q*-1),Zn(ne,{state:"blocked",location:z,proceed(){Zn(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),le.then(()=>r.history.go(q))},reset(){let ve=new Map(B.blockers);ve.set(ne,Ql),Rt({blockers:ve})}});return}return wn(N,z)}),n){EN(e,L);let N=()=>TN(e,L);e.addEventListener("pagehide",N),k=()=>e.removeEventListener("pagehide",N)}return B.initialized||wn("POP",B.location,{initialHydration:!0}),fe}function pt(){w&&w(),k&&k(),T.clear(),R&&R.abort(),B.fetchers.forEach((N,z)=>Lt(z)),B.blockers.forEach((N,z)=>si(z))}function $n(N){return T.add(N),()=>T.delete(N)}function Rt(N,z={}){B={...B,...N};let q=[],ne=[];B.fetchers.forEach((le,ve)=>{le.state==="idle"&&(oe.has(ve)?q.push(ve):ne.push(ve))}),oe.forEach(le=>{!B.fetchers.has(le)&&!$.has(le)&&q.push(le)}),[...T].forEach(le=>le(B,{deletedFetchers:q,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),q.forEach(le=>Lt(le)),ne.forEach(le=>B.fetchers.delete(le))}function mn(N,z,{flushSync:q}={}){var Ae,Oe;let ne=B.actionData!=null&&B.navigation.formMethod!=null&&Qn(B.navigation.formMethod)&&B.navigation.state==="loading"&&((Ae=N.state)==null?void 0:Ae._isRedirect)!==!0,le;z.actionData?Object.keys(z.actionData).length>0?le=z.actionData:le=null:ne?le=B.actionData:le=null;let ve=z.loaderData?IE(B.loaderData,z.loaderData,z.matches||[],z.errors):B.loaderData,De=B.blockers;De.size>0&&(De=new Map(De),De.forEach((be,Ne)=>De.set(Ne,Ql)));let _e=A===!0||B.navigation.formMethod!=null&&Qn(B.navigation.formMethod)&&((Oe=N.state)==null?void 0:Oe._isRedirect)!==!0;m&&(h=m,m=void 0),D||x==="POP"||(x==="PUSH"?r.history.push(N,N.state):x==="REPLACE"&&r.history.replace(N,N.state));let Te;if(x==="POP"){let be=L.get(B.location.pathname);be&&be.has(N.pathname)?Te={currentLocation:B.location,nextLocation:N}:L.has(N.pathname)&&(Te={currentLocation:N,nextLocation:B.location})}else if(V){let be=L.get(B.location.pathname);be?be.add(N.pathname):(be=new Set([N.pathname]),L.set(B.location.pathname,be)),Te={currentLocation:B.location,nextLocation:N}}Rt({...z,actionData:le,loaderData:ve,historyAction:x,location:N,initialized:!0,navigation:Am,revalidation:"idle",restoreScrollPosition:Fi(N,z.matches||B.matches),preventScrollReset:_e,blockers:De},{viewTransitionOpts:Te,flushSync:q===!0}),x="POP",A=!1,V=!1,D=!1,ze=!1,Ce==null||Ce.resolve(),Ce=null}async function Cr(N,z){if(typeof N=="number"){r.history.go(N);return}let q=Jm(B.location,B.matches,g,N,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:ne,submission:le,error:ve}=vE(!1,q,z),De=B.location,_e=Eu(B.location,ne,z&&z.state);_e={..._e,...r.history.encodeLocation(_e)};let Te=z&&z.replace!=null?z.replace:void 0,Ae="PUSH";Te===!0?Ae="REPLACE":Te===!1||le!=null&&Qn(le.formMethod)&&le.formAction===B.location.pathname+B.location.search&&(Ae="REPLACE");let Oe=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,be=(z&&z.flushSync)===!0,Ne=qi({currentLocation:De,nextLocation:_e,historyAction:Ae});if(Ne){Zn(Ne,{state:"blocked",location:_e,proceed(){Zn(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),Cr(N,z)},reset(){let Xe=new Map(B.blockers);Xe.set(Ne,Ql),Rt({blockers:Xe})}});return}await wn(Ae,_e,{submission:le,pendingError:ve,preventScrollReset:Oe,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:be})}function ii(){Ce||(Ce=bN()),Hi(),Rt({revalidation:"loading"});let N=Ce.promise;return B.navigation.state==="submitting"?N:B.navigation.state==="idle"?(wn(B.historyAction,B.location,{startUninterruptedRevalidation:!0}),N):(wn(x||B.historyAction,B.navigation.location,{overrideNavigation:B.navigation,enableViewTransition:V===!0}),N)}async function wn(N,z,q){R&&R.abort(),R=null,x=N,D=(q&&q.startUninterruptedRevalidation)===!0,vr(B.location,B.matches),A=(q&&q.preventScrollReset)===!0,V=(q&&q.enableViewTransition)===!0;let ne=m||h,le=q&&q.overrideNavigation,ve=q!=null&&q.initialHydration&&B.matches&&B.matches.length>0&&!ue?B.matches:Ea(ne,z,g),De=(q&&q.flushSync)===!0;if(ve&&B.initialized&&!ze&&gN(B.location,z)&&!(q&&q.submission&&Qn(q.submission.formMethod))){mn(z,{matches:ve},{flushSync:De});return}let _e=An(ve,ne,z.pathname);if(_e.active&&_e.matches&&(ve=_e.matches),!ve){let{error:ot,notFoundMatches:nt,route:Qe}=oi(z.pathname);mn(z,{matches:nt,loaderData:{},errors:{[Qe.id]:ot}},{flushSync:De});return}R=new AbortController;let Te=wo(r.history,z,R.signal,q&&q.submission),Ae=new pE(r.unstable_getContext?await r.unstable_getContext():void 0),Oe;if(q&&q.pendingError)Oe=[ds(ve).route.id,{type:"error",error:q.pendingError}];else if(q&&q.submission&&Qn(q.submission.formMethod)){let ot=await ka(Te,z,q.submission,ve,Ae,_e.active,q&&q.initialHydration===!0,{replace:q.replace,flushSync:De});if(ot.shortCircuited)return;if(ot.pendingActionResult){let[nt,Qe]=ot.pendingActionResult;if(Kn(Qe)&&Tu(Qe.error)&&Qe.error.status===404){R=null,mn(z,{matches:ot.matches,loaderData:{},errors:{[nt]:Qe.error}});return}}ve=ot.matches||ve,Oe=ot.pendingActionResult,le=Rm(z,q.submission),De=!1,_e.active=!1,Te=wo(r.history,Te.url,Te.signal)}let{shortCircuited:be,matches:Ne,loaderData:Xe,errors:ht}=await Ns(Te,z,ve,Ae,_e.active,le,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,q&&q.initialHydration===!0,De,Oe);be||(R=null,mn(z,{matches:Ne||ve,...CE(Oe),loaderData:Xe,errors:ht}))}async function ka(N,z,q,ne,le,ve,De,_e={}){Hi();let Te=vN(z,q);if(Rt({navigation:Te},{flushSync:_e.flushSync===!0}),ve){let be=await Nr(ne,z.pathname,N.signal);if(be.type==="aborted")return{shortCircuited:!0};if(be.type==="error"){let Ne=ds(be.partialMatches).route.id;return{matches:be.partialMatches,pendingActionResult:[Ne,{type:"error",error:be.error}]}}else if(be.matches)ne=be.matches;else{let{notFoundMatches:Ne,error:Xe,route:ht}=oi(z.pathname);return{matches:Ne,pendingActionResult:[ht.id,{type:"error",error:Xe}]}}}let Ae,Oe=nu(ne,z);if(!Oe.route.action&&!Oe.route.lazy)Ae={type:"error",error:dr(405,{method:N.method,pathname:z.pathname,routeId:Oe.route.id})};else{let be=Do(o,u,N,ne,Oe,De?[]:a,le),Ne=await Xn(N,be,le,null);if(Ae=Ne[Oe.route.id],!Ae){for(let Xe of ne)if(Ne[Xe.route.id]){Ae=Ne[Xe.route.id];break}}if(N.signal.aborted)return{shortCircuited:!0}}if(ps(Ae)){let be;return _e&&_e.replace!=null?be=_e.replace:be=SE(Ae.response.headers.get("Location"),new URL(N.url),g)===B.location.pathname+B.location.search,await yr(N,Ae,!0,{submission:q,replace:be}),{shortCircuited:!0}}if(Kn(Ae)){let be=ds(ne,Oe.route.id);return(_e&&_e.replace)!==!0&&(x="PUSH"),{matches:ne,pendingActionResult:[be.route.id,Ae,Oe.route.id]}}return{matches:ne,pendingActionResult:[Oe.route.id,Ae]}}async function Ns(N,z,q,ne,le,ve,De,_e,Te,Ae,Oe,be){let Ne=ve||Rm(z,De),Xe=De||_e||ME(Ne),ht=!D&&!Ae;if(le){if(ht){let kt=Sn(be);Rt({navigation:Ne,...kt!==void 0?{actionData:kt}:{}},{flushSync:Oe})}let Ue=await Nr(q,z.pathname,N.signal);if(Ue.type==="aborted")return{shortCircuited:!0};if(Ue.type==="error"){let kt=ds(Ue.partialMatches).route.id;return{matches:Ue.partialMatches,loaderData:{},errors:{[kt]:Ue.error}}}else if(Ue.matches)q=Ue.matches;else{let{error:kt,notFoundMatches:Un,route:Mn}=oi(z.pathname);return{matches:Un,loaderData:{},errors:{[Mn.id]:kt}}}}let ot=m||h,{dsMatches:nt,revalidatingFetchers:Qe}=_E(N,ne,o,u,r.history,B,q,Xe,z,Ae?[]:a,Ae===!0,ze,He,oe,te,M,ot,g,r.patchRoutesOnNavigation!=null,be);if(ge=++ce,!r.dataStrategy&&!nt.some(Ue=>Ue.shouldLoad)&&Qe.length===0){let Ue=Or();return mn(z,{matches:q,loaderData:{},errors:be&&Kn(be[1])?{[be[0]]:be[1].error}:null,...CE(be),...Ue?{fetchers:new Map(B.fetchers)}:{}},{flushSync:Oe}),{shortCircuited:!0}}if(ht){let Ue={};if(!le){Ue.navigation=Ne;let kt=Sn(be);kt!==void 0&&(Ue.actionData=kt)}Qe.length>0&&(Ue.fetchers=Go(Qe)),Rt(Ue,{flushSync:Oe})}Qe.forEach(Ue=>{Wn(Ue.key),Ue.controller&&$.set(Ue.key,Ue.controller)});let er=()=>Qe.forEach(Ue=>Wn(Ue.key));R&&R.signal.addEventListener("abort",er);let{loaderResults:Gt,fetcherResults:Rn}=await ji(nt,Qe,N,ne);if(N.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",er),Qe.forEach(Ue=>$.delete(Ue.key));let an=ih(Gt);if(an)return await yr(N,an.result,!0,{replace:Te}),{shortCircuited:!0};if(an=ih(Rn),an)return M.add(an.key),await yr(N,an.result,!0,{replace:Te}),{shortCircuited:!0};let{loaderData:Vr,errors:kn}=RE(B,q,Gt,be,Qe,Rn);Ae&&B.errors&&(kn={...B.errors,...kn});let Yi=Or(),pn=Mr(ge),In=Yi||pn||Qe.length>0;return{matches:q,loaderData:Vr,errors:kn,...In?{fetchers:new Map(B.fetchers)}:{}}}function Sn(N){if(N&&!Kn(N[1]))return{[N[0]]:N[1].data};if(B.actionData)return Object.keys(B.actionData).length===0?null:B.actionData}function Go(N){return N.forEach(z=>{let q=B.fetchers.get(z.key),ne=$l(void 0,q?q.data:void 0);B.fetchers.set(z.key,ne)}),new Map(B.fetchers)}async function Ua(N,z,q,ne){Wn(N);let le=(ne&&ne.flushSync)===!0,ve=m||h,De=Jm(B.location,B.matches,g,q,z,ne==null?void 0:ne.relative),_e=Ea(ve,De,g),Te=An(_e,ve,De);if(Te.active&&Te.matches&&(_e=Te.matches),!_e){Ge(N,z,dr(404,{pathname:De}),{flushSync:le});return}let{path:Ae,submission:Oe,error:be}=vE(!0,De,ne);if(be){Ge(N,z,be,{flushSync:le});return}let Ne=nu(_e,Ae),Xe=new pE(r.unstable_getContext?await r.unstable_getContext():void 0),ht=(ne&&ne.preventScrollReset)===!0;if(Oe&&Qn(Oe.formMethod)){await Bi(N,z,Ae,Ne,_e,Xe,Te.active,le,ht,Oe);return}te.set(N,{routeId:z,path:Ae}),await ai(N,z,Ae,Ne,_e,Xe,Te.active,le,ht,Oe)}async function Bi(N,z,q,ne,le,ve,De,_e,Te,Ae){Hi(),te.delete(N);function Oe(Tt){if(!Tt.route.action&&!Tt.route.lazy){let tr=dr(405,{method:Ae.formMethod,pathname:q,routeId:z});return Ge(N,z,tr,{flushSync:_e}),!0}return!1}if(!De&&Oe(ne))return;let be=B.fetchers.get(N);ut(N,_N(Ae,be),{flushSync:_e});let Ne=new AbortController,Xe=wo(r.history,q,Ne.signal,Ae);if(De){let Tt=await Nr(le,q,Xe.signal,N);if(Tt.type==="aborted")return;if(Tt.type==="error"){Ge(N,z,Tt.error,{flushSync:_e});return}else if(Tt.matches){if(le=Tt.matches,ne=nu(le,q),Oe(ne))return}else{Ge(N,z,dr(404,{pathname:q}),{flushSync:_e});return}}$.set(N,Ne);let ht=ce,ot=Do(o,u,Xe,le,ne,a,ve),Qe=(await Xn(Xe,ot,ve,N))[ne.route.id];if(Xe.signal.aborted){$.get(N)===Ne&&$.delete(N);return}if(oe.has(N)){if(ps(Qe)||Kn(Qe)){ut(N,ya(void 0));return}}else{if(ps(Qe))if($.delete(N),ge>ht){ut(N,ya(void 0));return}else return M.add(N),ut(N,$l(Ae)),yr(Xe,Qe,!1,{fetcherSubmission:Ae,preventScrollReset:Te});if(Kn(Qe)){Ge(N,z,Qe.error);return}}let er=B.navigation.location||B.location,Gt=wo(r.history,er,Ne.signal),Rn=m||h,an=B.navigation.state!=="idle"?Ea(Rn,B.navigation.location,g):B.matches;Je(an,"Didn't find any matches after fetcher action");let Vr=++ce;Le.set(N,Vr);let kn=$l(Ae,Qe.data);B.fetchers.set(N,kn);let{dsMatches:Yi,revalidatingFetchers:pn}=_E(Gt,ve,o,u,r.history,B,an,Ae,er,a,!1,ze,He,oe,te,M,Rn,g,r.patchRoutesOnNavigation!=null,[ne.route.id,Qe]);pn.filter(Tt=>Tt.key!==N).forEach(Tt=>{let tr=Tt.key,li=B.fetchers.get(tr),sn=$l(void 0,li?li.data:void 0);B.fetchers.set(tr,sn),Wn(tr),Tt.controller&&$.set(tr,Tt.controller)}),Rt({fetchers:new Map(B.fetchers)});let In=()=>pn.forEach(Tt=>Wn(Tt.key));Ne.signal.addEventListener("abort",In);let{loaderResults:Ue,fetcherResults:kt}=await ji(Yi,pn,Gt,ve);if(Ne.signal.aborted)return;if(Ne.signal.removeEventListener("abort",In),Le.delete(N),$.delete(N),pn.forEach(Tt=>$.delete(Tt.key)),B.fetchers.has(N)){let Tt=ya(Qe.data);B.fetchers.set(N,Tt)}let Un=ih(Ue);if(Un)return yr(Gt,Un.result,!1,{preventScrollReset:Te});if(Un=ih(kt),Un)return M.add(Un.key),yr(Gt,Un.result,!1,{preventScrollReset:Te});let{loaderData:Mn,errors:Pr}=RE(B,an,Ue,void 0,pn,kt);Mr(Vr),B.navigation.state==="loading"&&Vr>ge?(Je(x,"Expected pending action"),R&&R.abort(),mn(B.navigation.location,{matches:an,loaderData:Mn,errors:Pr,fetchers:new Map(B.fetchers)})):(Rt({errors:Pr,loaderData:IE(B.loaderData,Mn,an,Pr),fetchers:new Map(B.fetchers)}),ze=!1)}async function ai(N,z,q,ne,le,ve,De,_e,Te,Ae){let Oe=B.fetchers.get(N);ut(N,$l(Ae,Oe?Oe.data:void 0),{flushSync:_e});let be=new AbortController,Ne=wo(r.history,q,be.signal);if(De){let Qe=await Nr(le,q,Ne.signal,N);if(Qe.type==="aborted")return;if(Qe.type==="error"){Ge(N,z,Qe.error,{flushSync:_e});return}else if(Qe.matches)le=Qe.matches,ne=nu(le,q);else{Ge(N,z,dr(404,{pathname:q}),{flushSync:_e});return}}$.set(N,be);let Xe=ce,ht=Do(o,u,Ne,le,ne,a,ve),nt=(await Xn(Ne,ht,ve,N))[ne.route.id];if($.get(N)===be&&$.delete(N),!Ne.signal.aborted){if(oe.has(N)){ut(N,ya(void 0));return}if(ps(nt))if(ge>Xe){ut(N,ya(void 0));return}else{M.add(N),await yr(Ne,nt,!1,{preventScrollReset:Te});return}if(Kn(nt)){Ge(N,z,nt.error);return}ut(N,ya(nt.data))}}async function yr(N,z,q,{submission:ne,fetcherSubmission:le,preventScrollReset:ve,replace:De}={}){z.response.headers.has("X-Remix-Revalidate")&&(ze=!0);let _e=z.response.headers.get("Location");Je(_e,"Expected a Location header on the redirect Response"),_e=SE(_e,new URL(N.url),g);let Te=Eu(B.location,_e,{_isRedirect:!0});if(n){let ht=!1;if(z.response.headers.has("X-Remix-Reload-Document"))ht=!0;else if(ip.test(_e)){const ot=uw(_e,!0);ht=ot.origin!==e.location.origin||pr(ot.pathname,g)==null}if(ht){De?e.location.replace(_e):e.location.assign(_e);return}}R=null;let Ae=De===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Oe,formAction:be,formEncType:Ne}=B.navigation;!ne&&!le&&Oe&&be&&Ne&&(ne=ME(B.navigation));let Xe=ne||le;if(tN.has(z.response.status)&&Xe&&Qn(Xe.formMethod))await wn(Ae,Te,{submission:{...Xe,formAction:_e},preventScrollReset:ve||A,enableViewTransition:q?V:void 0});else{let ht=Rm(Te,ne);await wn(Ae,Te,{overrideNavigation:ht,fetcherSubmission:le,preventScrollReset:ve||A,enableViewTransition:q?V:void 0})}}async function Xn(N,z,q,ne){let le,ve={};try{le=await cN(p,N,z,ne,q,!1)}catch(De){return z.filter(_e=>_e.shouldLoad).forEach(_e=>{ve[_e.route.id]={type:"error",error:De}}),ve}if(N.signal.aborted)return ve;for(let[De,_e]of Object.entries(le))if(pN(_e)){let Te=_e.result;ve[De]={type:"redirect",response:dN(Te,N,De,z,g)}}else ve[De]=await fN(_e);return ve}async function ji(N,z,q,ne){let le=Xn(q,N,ne,null),ve=Promise.all(z.map(async Te=>{if(Te.matches&&Te.match&&Te.request&&Te.controller){let Oe=(await Xn(Te.request,Te.matches,ne,Te.key))[Te.match.route.id];return{[Te.key]:Oe}}else return Promise.resolve({[Te.key]:{type:"error",error:dr(404,{pathname:Te.path})}})})),De=await le,_e=(await ve).reduce((Te,Ae)=>Object.assign(Te,Ae),{});return{loaderResults:De,fetcherResults:_e}}function Hi(){ze=!0,te.forEach((N,z)=>{$.has(z)&&He.add(z),Wn(z)})}function ut(N,z,q={}){B.fetchers.set(N,z),Rt({fetchers:new Map(B.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function Ge(N,z,q,ne={}){let le=ds(B.matches,z);Lt(N),Rt({errors:{[le.route.id]:q},fetchers:new Map(B.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function gn(N){return he.set(N,(he.get(N)||0)+1),oe.has(N)&&oe.delete(N),B.fetchers.get(N)||nN}function Lt(N){let z=B.fetchers.get(N);$.has(N)&&!(z&&z.state==="loading"&&Le.has(N))&&Wn(N),te.delete(N),Le.delete(N),M.delete(N),oe.delete(N),He.delete(N),B.fetchers.delete(N)}function xs(N){let z=(he.get(N)||0)-1;z<=0?(he.delete(N),oe.add(N)):he.set(N,z),Rt({fetchers:new Map(B.fetchers)})}function Wn(N){let z=$.get(N);z&&(z.abort(),$.delete(N))}function Dr(N){for(let z of N){let q=gn(z),ne=ya(q.data);B.fetchers.set(z,ne)}}function Or(){let N=[],z=!1;for(let q of M){let ne=B.fetchers.get(q);Je(ne,`Expected fetcher: ${q}`),ne.state==="loading"&&(M.delete(q),N.push(q),z=!0)}return Dr(N),z}function Mr(N){let z=[];for(let[q,ne]of Le)if(ne<N){let le=B.fetchers.get(q);Je(le,`Expected fetcher: ${q}`),le.state==="loading"&&(Wn(q),Le.delete(q),z.push(q))}return Dr(z),z.length>0}function Ln(N,z){let q=B.blockers.get(N)||Ql;return Se.get(N)!==z&&Se.set(N,z),q}function si(N){B.blockers.delete(N),Se.delete(N)}function Zn(N,z){let q=B.blockers.get(N)||Ql;Je(q.state==="unblocked"&&z.state==="blocked"||q.state==="blocked"&&z.state==="blocked"||q.state==="blocked"&&z.state==="proceeding"||q.state==="blocked"&&z.state==="unblocked"||q.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${q.state} -> ${z.state}`);let ne=new Map(B.blockers);ne.set(N,z),Rt({blockers:ne})}function qi({currentLocation:N,nextLocation:z,historyAction:q}){if(Se.size===0)return;Se.size>1&&Ft(!1,"A router only supports one blocker at a time");let ne=Array.from(Se.entries()),[le,ve]=ne[ne.length-1],De=B.blockers.get(le);if(!(De&&De.state==="proceeding")&&ve({currentLocation:N,nextLocation:z,historyAction:q}))return le}function oi(N){let z=dr(404,{pathname:N}),q=m||h,{matches:ne,route:le}=DE(q);return{notFoundMatches:ne,route:le,error:z}}function za(N,z,q){if(I=N,Q=z,O=q||null,!Y&&B.navigation===Am){Y=!0;let ne=Fi(B.location,B.matches);ne!=null&&Rt({restoreScrollPosition:ne})}return()=>{I=null,Q=null,O=null}}function Jn(N,z){return O&&O(N,z.map(ne=>xM(ne,B.loaderData)))||N.key}function vr(N,z){if(I&&Q){let q=Jn(N,z);I[q]=Q()}}function Fi(N,z){if(I){let q=Jn(N,z),ne=I[q];if(typeof ne=="number")return ne}return null}function An(N,z,q){if(r.patchRoutesOnNavigation)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:yh(z,q,g,!0)}}else return{active:!0,matches:yh(z,q,g,!0)||[]};return{active:!1,matches:null}}async function Nr(N,z,q,ne){if(!r.patchRoutesOnNavigation)return{type:"success",matches:N};let le=N;for(;;){let ve=m==null,De=m||h,_e=u;try{await r.patchRoutesOnNavigation({signal:q,path:z,matches:le,fetcherKey:ne,patch:(Oe,be)=>{q.aborted||EE(Oe,be,De,_e,o)}})}catch(Oe){return{type:"error",error:Oe,partialMatches:le}}finally{ve&&!q.aborted&&(h=[...h])}if(q.aborted)return{type:"aborted"};let Te=Ea(De,z,g);if(Te)return{type:"success",matches:Te};let Ae=yh(De,z,g,!0);if(!Ae||le.length===Ae.length&&le.every((Oe,be)=>Oe.route.id===Ae[be].route.id))return{type:"success",matches:null};le=Ae}}function xr(N){u={},m=zh(N,o,void 0,u)}function Gi(N,z){let q=m==null;EE(N,z,m||h,u,o),q&&(h=[...h],Rt({}))}return fe={get basename(){return g},get future(){return _},get state(){return B},get routes(){return h},get window(){return e},initialize:Pt,subscribe:$n,enableScrollRestoration:za,navigate:Cr,fetch:Ua,revalidate:ii,createHref:N=>r.history.createHref(N),encodeLocation:N=>r.history.encodeLocation(N),getFetcher:gn,deleteFetcher:xs,dispose:pt,getBlocker:Ln,deleteBlocker:si,patchRoutes:Gi,_internalFetchControllers:$,_internalSetRoutes:xr},fe}function aN(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Jm(r,e,n,a,o,u){let h,m;if(o){h=[];for(let p of e)if(h.push(p),p.route.id===o){m=p;break}}else h=e,m=e[e.length-1];let g=rp(a||".",np(h),pr(r.pathname,n)||r.pathname,u==="path");if(a==null&&(g.search=r.search,g.hash=r.hash),(a==null||a===""||a===".")&&m){let p=ap(g.search);if(m.route.index&&!p)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&p){let _=new URLSearchParams(g.search),w=_.getAll("index");_.delete("index"),w.filter(I=>I).forEach(I=>_.append("index",I));let T=_.toString();g.search=T?`?${T}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:ei([n,g.pathname])),Pa(g)}function vE(r,e,n){if(!n||!aN(n))return{path:e};if(n.formMethod&&!yN(n.formMethod))return{path:e,error:dr(405,{method:n.formMethod})};let a=()=>({path:e,error:dr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=Tw(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Qn(u))return a();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((T,[I,O])=>`${T}${I}=${O}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!Qn(u))return a();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return a()}}}Je(typeof FormData=="function","FormData is not available in this environment");let m,g;if(n.formData)m=ng(n.formData),g=n.formData;else if(n.body instanceof FormData)m=ng(n.body),g=n.body;else if(n.body instanceof URLSearchParams)m=n.body,g=AE(m);else if(n.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(n.body),g=AE(m)}catch{return a()}let p={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Qn(p.formMethod))return{path:e,submission:p};let _=La(e);return r&&_.search&&ap(_.search)&&m.append("index",""),_.search=`?${m}`,{path:Pa(_),submission:p}}function _E(r,e,n,a,o,u,h,m,g,p,_,w,T,I,O,Q,Y,G,ue,ae){var D;let me=ae?Kn(ae[1])?ae[1].error:ae[1].data:void 0,fe=o.createURL(u.location),B=o.createURL(g),x;if(_&&u.errors){let ze=Object.keys(u.errors)[0];x=h.findIndex(He=>He.route.id===ze)}else if(ae&&Kn(ae[1])){let ze=ae[0];x=h.findIndex(He=>He.route.id===ze)-1}let A=ae?ae[1].statusCode:void 0,R=A&&A>=400,V={currentUrl:fe,currentParams:((D=u.matches[0])==null?void 0:D.params)||{},nextUrl:B,nextParams:h[0].params,...m,actionResult:me,actionStatus:A},L=h.map((ze,He)=>{let{route:$}=ze,ce=null;if(x!=null&&He>x?ce=!1:$.lazy?ce=!0:$.loader==null?ce=!1:_?ce=eg($,u.loaderData,u.errors):sN(u.loaderData,u.matches[He],ze)&&(ce=!0),ce!==null)return tg(n,a,r,ze,p,e,ce);let ge=R?!1:w||fe.pathname+fe.search===B.pathname+B.search||fe.search!==B.search||oN(u.matches[He],ze),Le={...V,defaultShouldRevalidate:ge},M=Hh(ze,Le);return tg(n,a,r,ze,p,e,M,Le)}),k=[];return O.forEach((ze,He)=>{if(_||!h.some(oe=>oe.route.id===ze.routeId)||I.has(He))return;let $=u.fetchers.get(He),ce=$&&$.state!=="idle"&&$.data===void 0,ge=Ea(Y,ze.path,G);if(!ge){if(ue&&ce)return;k.push({key:He,routeId:ze.routeId,path:ze.path,matches:null,match:null,request:null,controller:null});return}if(Q.has(He))return;let Le=nu(ge,ze.path),M=new AbortController,te=wo(o,ze.path,M.signal),he=null;if(T.has(He))T.delete(He),he=Do(n,a,te,ge,Le,p,e);else if(ce)w&&(he=Do(n,a,te,ge,Le,p,e));else{let oe={...V,defaultShouldRevalidate:R?!1:w};Hh(Le,oe)&&(he=Do(n,a,te,ge,Le,p,e,oe))}he&&k.push({key:He,routeId:ze.routeId,path:ze.path,matches:he,match:Le,request:te,controller:M})}),{dsMatches:L,revalidatingFetchers:k}}function eg(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&r.id in e,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function sN(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function oN(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function Hh(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function EE(r,e,n,a,o){let u;if(r){let g=a[r];Je(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),u=g.children}else u=n;let h=e.filter(g=>!u.some(p=>pw(g,p))),m=zh(h,o,[r||"_","patch",String((u==null?void 0:u.length)||"0")],a);u.push(...m)}function pw(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>{var o;return(o=e.children)==null?void 0:o.some(u=>pw(n,u))}):!1}var TE=new WeakMap,yw=({key:r,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(Je(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let h=TE.get(o);h||(h={},TE.set(o,h));let m=h[r];if(m)return m;let g=(async()=>{let p=DM(r),w=o[r]!==void 0&&r!=="hasErrorBoundary";if(p)Ft(!p,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),h[r]=Promise.resolve();else if(w)Ft(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let T=await u();T!=null&&(Object.assign(o,{[r]:T}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(T=>T===void 0)&&(o.lazy=void 0))})();return h[r]=g,g},bE=new WeakMap;function lN(r,e,n,a,o){let u=n[r.id];if(Je(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let _=bE.get(u);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let w=(async()=>{Je(typeof r.lazy=="function","No lazy route function found");let T=await r.lazy(),I={};for(let O in T){let Q=T[O];if(Q===void 0)continue;let Y=MM(O),ue=u[O]!==void 0&&O!=="hasErrorBoundary";Y?Ft(!Y,"Route property "+O+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ue?Ft(!ue,`Route "${u.id}" has a static property "${O}" defined but its lazy function is also returning a value for this property. The lazy route property "${O}" will be ignored.`):I[O]=Q}Object.assign(u,I),Object.assign(u,{...a(u),lazy:void 0})})();return bE.set(u,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let h=Object.keys(r.lazy),m=[],g;for(let _ of h){if(o&&o.includes(_))continue;let w=yw({key:_,route:r,manifest:n,mapRouteProperties:a});w&&(m.push(w),_===e&&(g=w))}let p=m.length>0?Promise.all(m).then(()=>{}):void 0;return p==null||p.catch(()=>{}),g==null||g.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:g}}async function wE(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function uN(r){return r.matches.some(e=>e.route.unstable_middleware)?vw(r,!1,()=>wE(r),(e,n)=>({[n]:{type:"error",result:e}})):wE(r)}async function vw(r,e,n,a){let{matches:o,request:u,params:h,context:m}=r,g={handlerResult:void 0};try{let p=o.flatMap(w=>w.route.unstable_middleware?w.route.unstable_middleware.map(T=>[w.route.id,T]):[]),_=await _w({request:u,params:h,context:m},p,e,g,n);return e?_:g.handlerResult}catch(p){if(!g.middlewareError)throw p;let _=await a(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,_):_}}async function _w(r,e,n,a,o,u=0){let{request:h}=r;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let m=e[u];if(!m)return a.handlerResult=await o(),a.handlerResult;let[g,p]=m,_=!1,w,T=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0,await _w(r,e,n,a,o,u+1)};try{let I=await p({request:r.request,params:r.params,context:r.context},T);return _?I===void 0?w:I:T()}catch(I){throw a.middlewareError?a.middlewareError.error!==I&&(a.middlewareError={routeId:g,error:I}):a.middlewareError={routeId:g,error:I},I}}function Ew(r,e,n,a,o){let u=yw({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:r}),h=lN(a.route,Qn(n.method)?"action":"loader",e,r,o);return{middleware:u,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function tg(r,e,n,a,o,u,h,m=null){let g=!1,p=Ew(r,e,n,a,o);return{...a,_lazyPromises:p,shouldLoad:h,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(_){return g=!0,m?typeof _=="boolean"?Hh(a,{...m,defaultShouldRevalidate:_}):Hh(a,m):h},resolve(_){return g||h||_&&n.method==="GET"&&(a.route.lazy||a.route.loader)?hN({request:n,match:a,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:_,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Do(r,e,n,a,o,u,h,m=null){return a.map(g=>g.route.id!==o.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:Ew(r,e,n,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:tg(r,e,n,g,u,h,!0,m))}async function cN(r,e,n,a,o,u){n.some(p=>{var _;return(_=p._lazyPromises)==null?void 0:_.middleware})&&await Promise.all(n.map(p=>{var _;return(_=p._lazyPromises)==null?void 0:_.middleware}));let h={request:e,params:n[0].params,context:o,matches:n},g=await r({...h,fetcherKey:a,unstable_runClientMiddleware:p=>{let _=h;return vw(_,!1,()=>p({..._,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(w,T)=>({[T]:{type:"error",result:w}}))}});try{await Promise.all(n.flatMap(p=>{var _,w;return[(_=p._lazyPromises)==null?void 0:_.handler,(w=p._lazyPromises)==null?void 0:w.route]}))}catch{}return g}async function hN({request:r,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let h,m,g=Qn(r.method),p=g?"action":"loader",_=w=>{let T,I=new Promise((Y,G)=>T=G);m=()=>T(),r.signal.addEventListener("abort",m);let O=Y=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):w({request:r,params:e.params,context:u},...Y!==void 0?[Y]:[]),Q=(async()=>{try{return{type:"data",result:await(o?o(G=>O(G)):O())}}catch(Y){return{type:"error",result:Y}}})();return Promise.race([Q,I])};try{let w=g?e.route.action:e.route.loader;if(n||a)if(w){let T,[I]=await Promise.all([_(w).catch(O=>{T=O}),n,a]);if(T!==void 0)throw T;h=I}else{await n;let T=g?e.route.action:e.route.loader;if(T)[h]=await Promise.all([_(T),a]);else if(p==="action"){let I=new URL(r.url),O=I.pathname+I.search;throw dr(405,{method:r.method,pathname:O,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(w)h=await _(w);else{let T=new URL(r.url),I=T.pathname+T.search;throw dr(404,{pathname:I})}}catch(w){return{type:"error",result:w}}finally{m&&r.signal.removeEventListener("abort",m)}return h}async function fN(r){var a,o,u,h,m,g;let{result:e,type:n}=r;if(bw(e)){let p;try{let _=e.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(_){return{type:"error",error:_}}return n==="error"?{type:"error",error:new jh(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return n==="error"?OE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new jh(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Tu(e)?e.status:void 0,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Tu(e)?e.status:void 0}:OE(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function dN(r,e,n,a,o){let u=r.headers.get("Location");if(Je(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!ip.test(u)){let h=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=Jm(new URL(e.url),h,o,u),r.headers.set("Location",u)}return r}function SE(r,e,n){if(ip.test(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=pr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function wo(r,e,n,a){let o=r.createURL(Tw(e)).toString(),u={signal:n};if(a&&Qn(a.formMethod)){let{formMethod:h,formEncType:m}=a;u.method=h.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=ng(a.formData):u.body=a.formData}return new Request(o,u)}function ng(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function AE(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function mN(r,e,n,a=!1,o=!1){let u={},h=null,m,g=!1,p={},_=n&&Kn(n[1])?n[1].error:void 0;return r.forEach(w=>{if(!(w.route.id in e))return;let T=w.route.id,I=e[T];if(Je(!ps(I),"Cannot handle redirect results in processLoaderData"),Kn(I)){let O=I.error;if(_!==void 0&&(O=_,_=void 0),h=h||{},o)h[T]=O;else{let Q=ds(r,T);h[Q.route.id]==null&&(h[Q.route.id]=O)}a||(u[T]=gw),g||(g=!0,m=Tu(I.error)?I.error.status:500),I.headers&&(p[T]=I.headers)}else u[T]=I.data,I.statusCode&&I.statusCode!==200&&!g&&(m=I.statusCode),I.headers&&(p[T]=I.headers)}),_!==void 0&&n&&(h={[n[0]]:_},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:h,statusCode:m||200,loaderHeaders:p}}function RE(r,e,n,a,o,u){let{loaderData:h,errors:m}=mN(e,n,a);return o.filter(g=>!g.matches||g.matches.some(p=>p.shouldLoad)).forEach(g=>{let{key:p,match:_,controller:w}=g,T=u[p];if(Je(T,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(Kn(T)){let I=ds(r.matches,_==null?void 0:_.route.id);m&&m[I.route.id]||(m={...m,[I.route.id]:T.error}),r.fetchers.delete(p)}else if(ps(T))Je(!1,"Unhandled fetcher revalidation redirect");else{let I=ya(T.data);r.fetchers.set(p,I)}}),{loaderData:h,errors:m}}function IE(r,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==gw).reduce((u,[h,m])=>(u[h]=m,u),{});for(let u of n){let h=u.route.id;if(!e.hasOwnProperty(h)&&r.hasOwnProperty(h)&&u.route.loader&&(o[h]=r[h]),a&&a.hasOwnProperty(h))break}return o}function CE(r){return r?Kn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function ds(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function DE(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function dr(r,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let h="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(h="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(h="Forbidden",m=`Route "${n}" does not match URL "${e}"`):r===404?(h="Not Found",m=`No route matches URL "${e}"`):r===405&&(h="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new jh(r||500,h,new Error(m),!0)}function ih(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(ps(o))return{key:a,result:o}}}function Tw(r){let e=typeof r=="string"?La(r):r;return Pa({...e,hash:""})}function gN(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function pN(r){return bw(r.result)&&eN.has(r.result.status)}function Kn(r){return r.type==="error"}function ps(r){return(r&&r.type)==="redirect"}function OE(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function bw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function yN(r){return JM.has(r.toUpperCase())}function Qn(r){return WM.has(r.toUpperCase())}function ap(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function nu(r,e){let n=typeof e=="string"?La(e).search:e.search;if(r[r.length-1].route.index&&ap(n||""))return r[r.length-1];let a=fw(r);return a[a.length-1]}function ME(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:h}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:h,text:void 0}}}function Rm(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vN(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function $l(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function _N(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function ya(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function EN(r,e){try{let n=r.sessionStorage.getItem(mw);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function TN(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(mw,JSON.stringify(n))}catch(a){Ft(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function bN(){let r,e,n=new Promise((a,o)=>{r=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Os=W.createContext(null);Os.displayName="DataRouter";var Nu=W.createContext(null);Nu.displayName="DataRouterState";var sp=W.createContext({isTransitioning:!1});sp.displayName="ViewTransition";var ww=W.createContext(new Map);ww.displayName="Fetchers";var wN=W.createContext(null);wN.displayName="Await";var ri=W.createContext(null);ri.displayName="Navigation";var of=W.createContext(null);of.displayName="Location";var zi=W.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var op=W.createContext(null);op.displayName="RouteError";function SN(r,{relative:e}={}){Je(xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=W.useContext(ri),{hash:o,pathname:u,search:h}=Vu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ei([n,u])),a.createHref({pathname:m,search:h,hash:o})}function xu(){return W.useContext(of)!=null}function Ms(){return Je(xu(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(of).location}var Sw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Aw(r){W.useContext(ri).static||W.useLayoutEffect(r)}function AN(){let{isDataRoute:r}=W.useContext(zi);return r?UN():RN()}function RN(){Je(xu(),"useNavigate() may be used only in the context of a <Router> component.");let r=W.useContext(Os),{basename:e,navigator:n}=W.useContext(ri),{matches:a}=W.useContext(zi),{pathname:o}=Ms(),u=JSON.stringify(np(a)),h=W.useRef(!1);return Aw(()=>{h.current=!0}),W.useCallback((g,p={})=>{if(Ft(h.current,Sw),!h.current)return;if(typeof g=="number"){n.go(g);return}let _=rp(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ei([e,_.pathname])),(p.replace?n.replace:n.push)(_,p.state,p)},[e,n,u,o,r])}W.createContext(null);function Vu(r,{relative:e}={}){let{matches:n}=W.useContext(zi),{pathname:a}=Ms(),o=JSON.stringify(np(n));return W.useMemo(()=>rp(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function IN(r,e,n,a){Je(xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext(ri),{matches:u}=W.useContext(zi),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",p=h?h.pathnameBase:"/",_=h&&h.route;{let G=_&&_.path||"";Rw(g,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let w=Ms(),T;T=w;let I=T.pathname||"/",O=I;if(p!=="/"){let G=p.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(G.length).join("/")}let Q=Ea(r,{pathname:O});return Ft(_||Q!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Ft(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),NN(Q&&Q.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:ei([p,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?p:ei([p,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,n,a)}function CN(){let r=kN(),e=Tu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:o},n):null,h)}var DN=W.createElement(CN,null),ON=class extends W.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?W.createElement(zi.Provider,{value:this.props.routeContext},W.createElement(op.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MN({routeContext:r,match:e,children:n}){let a=W.useContext(Os);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(zi.Provider,{value:r},n)}function NN(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:_,errors:w}=n,T=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||T){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,_)=>{let w,T=!1,I=null,O=null;n&&(w=u&&p.route.id?u[p.route.id]:void 0,I=p.route.errorElement||DN,h&&(m<0&&_===0?(Rw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):m===_&&(T=!0,O=p.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,_+1)),Y=()=>{let G;return w?G=I:T?G=O:p.route.Component?G=W.createElement(p.route.Component,null):p.route.element?G=p.route.element:G=g,W.createElement(MN,{match:p,routeContext:{outlet:g,matches:Q,isDataRoute:n!=null},children:G})};return n&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?W.createElement(ON,{location:n.location,revalidation:n.revalidation,component:I,error:w,children:Y(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):Y()},null)}function lp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xN(r){let e=W.useContext(Os);return Je(e,lp(r)),e}function VN(r){let e=W.useContext(Nu);return Je(e,lp(r)),e}function PN(r){let e=W.useContext(zi);return Je(e,lp(r)),e}function up(r){let e=PN(r),n=e.matches[e.matches.length-1];return Je(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function LN(){return up("useRouteId")}function kN(){var a;let r=W.useContext(op),e=VN("useRouteError"),n=up("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[n]}function UN(){let{router:r}=xN("useNavigate"),e=up("useNavigate"),n=W.useRef(!1);return Aw(()=>{n.current=!0}),W.useCallback(async(o,u={})=>{Ft(n.current,Sw),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var NE={};function Rw(r,e,n){!e&&!NE[r]&&(NE[r]=!0,Ft(!1,n))}var xE={};function VE(r,e){!r&&!xE[e]&&(xE[e]=!0,console.warn(e))}function zN(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Ft(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:W.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Ft(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:W.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Ft(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:W.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var BN=["HydrateFallback","hydrateFallbackElement"],jN=class{constructor(){this.status="pending",this.promise=new Promise((r,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",r(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function HN({router:r,flushSync:e}){let[n,a]=W.useState(r.state),[o,u]=W.useState(),[h,m]=W.useState({isTransitioning:!1}),[g,p]=W.useState(),[_,w]=W.useState(),[T,I]=W.useState(),O=W.useRef(new Map),Q=W.useCallback((ae,{deletedFetchers:me,flushSync:fe,viewTransitionOpts:B})=>{ae.fetchers.forEach((A,R)=>{A.data!==void 0&&O.current.set(R,A.data)}),me.forEach(A=>O.current.delete(A)),VE(fe===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(VE(B==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!x){e&&fe?e(()=>a(ae)):W.startTransition(()=>a(ae));return}if(e&&fe){e(()=>{_&&(g&&g.resolve(),_.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let A=r.window.document.startViewTransition(()=>{e(()=>a(ae))});A.finished.finally(()=>{e(()=>{p(void 0),w(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>w(A));return}_?(g&&g.resolve(),_.skipTransition(),I({state:ae,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(u(ae),m({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[r.window,e,_,g]);W.useLayoutEffect(()=>r.subscribe(Q),[r,Q]),W.useEffect(()=>{h.isTransitioning&&!h.flushSync&&p(new jN)},[h]),W.useEffect(()=>{if(g&&o&&r.window){let ae=o,me=g.promise,fe=r.window.document.startViewTransition(async()=>{W.startTransition(()=>a(ae)),await me});fe.finished.finally(()=>{p(void 0),w(void 0),u(void 0),m({isTransitioning:!1})}),w(fe)}},[o,g,r.window]),W.useEffect(()=>{g&&o&&n.location.key===o.location.key&&g.resolve()},[g,_,n.location,o]),W.useEffect(()=>{!h.isTransitioning&&T&&(u(T.state),m({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),I(void 0))},[h.isTransitioning,T]);let Y=W.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ae=>r.navigate(ae),push:(ae,me,fe)=>r.navigate(ae,{state:me,preventScrollReset:fe==null?void 0:fe.preventScrollReset}),replace:(ae,me,fe)=>r.navigate(ae,{replace:!0,state:me,preventScrollReset:fe==null?void 0:fe.preventScrollReset})}),[r]),G=r.basename||"/",ue=W.useMemo(()=>({router:r,navigator:Y,static:!1,basename:G}),[r,Y,G]);return W.createElement(W.Fragment,null,W.createElement(Os.Provider,{value:ue},W.createElement(Nu.Provider,{value:n},W.createElement(ww.Provider,{value:O.current},W.createElement(sp.Provider,{value:h},W.createElement(GN,{basename:G,location:n.location,navigationType:n.historyAction,navigator:Y},W.createElement(qN,{routes:r.routes,future:r.future,state:n})))))),null)}var qN=W.memo(FN);function FN({routes:r,future:e,state:n}){return IN(r,void 0,n,e)}function GN({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Je(!xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=W.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=La(n));let{pathname:g="/",search:p="",hash:_="",state:w=null,key:T="default"}=n,I=W.useMemo(()=>{let O=pr(g,h);return O==null?null:{location:{pathname:O,search:p,hash:_,state:w,key:T},navigationType:a}},[h,g,p,_,w,T,a]);return Ft(I!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:W.createElement(ri.Provider,{value:m},W.createElement(of.Provider,{children:e,value:I}))}var vh="get",_h="application/x-www-form-urlencoded";function lf(r){return r!=null&&typeof r.tagName=="string"}function YN(r){return lf(r)&&r.tagName.toLowerCase()==="button"}function KN(r){return lf(r)&&r.tagName.toLowerCase()==="form"}function QN(r){return lf(r)&&r.tagName.toLowerCase()==="input"}function $N(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function XN(r,e){return r.button===0&&(!e||e==="_self")&&!$N(r)}var ah=null;function WN(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var ZN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Im(r){return r!=null&&!ZN.has(r)?(Ft(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_h}"`),null):r}function JN(r,e){let n,a,o,u,h;if(KN(r)){let m=r.getAttribute("action");a=m?pr(m,e):null,n=r.getAttribute("method")||vh,o=Im(r.getAttribute("enctype"))||_h,u=new FormData(r)}else if(YN(r)||QN(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(a=g?pr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||vh,o=Im(r.getAttribute("formenctype"))||Im(m.getAttribute("enctype"))||_h,u=new FormData(m,r),!WN()){let{name:p,type:_,value:w}=r;if(_==="image"){let T=p?`${p}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else p&&u.append(p,w)}}else{if(lf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vh,a=null,o=_h,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}function cp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function ex(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function nx(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await ex(u,n);return h.links?h.links():[]}return[]}));return sx(a.flat(1).filter(tx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function PE(r,e,n,a,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var _;return n[p].pathname!==g.pathname||((_=n[p].route.path)==null?void 0:_.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var w;let _=a.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function rx(r,e,{includeHydrateFallback:n}={}){return ix(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ix(r){return[...new Set(r)]}function ax(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function sx(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(ax(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ox=new Set([100,101,204,205]);function lx(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&pr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Iw(){let r=W.useContext(Os);return cp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ux(){let r=W.useContext(Nu);return cp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var hp=W.createContext(void 0);hp.displayName="FrameworkContext";function Cw(){let r=W.useContext(hp);return cp(r,"You must render this element inside a <HydratedRouter> element"),r}function cx(r,e){let n=W.useContext(hp),[a,o]=W.useState(!1),[u,h]=W.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:_,onTouchStart:w}=e,T=W.useRef(null);W.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Q=G=>{G.forEach(ue=>{h(ue.isIntersecting)})},Y=new IntersectionObserver(Q,{threshold:.5});return T.current&&Y.observe(T.current),()=>{Y.disconnect()}}},[r]),W.useEffect(()=>{if(a){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[a]);let I=()=>{o(!0)},O=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,T,{}]:[u,T,{onFocus:Xl(m,I),onBlur:Xl(g,O),onMouseEnter:Xl(p,I),onMouseLeave:Xl(_,O),onTouchStart:Xl(w,I)}]:[!1,T,{}]}function Xl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function hx({page:r,...e}){let{router:n}=Iw(),a=W.useMemo(()=>Ea(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?W.createElement(dx,{page:r,matches:a,...e}):null}function fx(r){let{manifest:e,routeModules:n}=Cw(),[a,o]=W.useState([]);return W.useEffect(()=>{let u=!1;return nx(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),a}function dx({page:r,matches:e,...n}){let a=Ms(),{manifest:o,routeModules:u}=Cw(),{basename:h}=Iw(),{loaderData:m,matches:g}=ux(),p=W.useMemo(()=>PE(r,e,g,o,a,"data"),[r,e,g,o,a]),_=W.useMemo(()=>PE(r,e,g,o,a,"assets"),[r,e,g,o,a]),w=W.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let O=new Set,Q=!1;if(e.forEach(G=>{var ae;let ue=o.routes[G.route.id];!ue||!ue.hasLoader||(!p.some(me=>me.route.id===G.route.id)&&G.route.id in m&&((ae=u[G.route.id])!=null&&ae.shouldRevalidate)||ue.hasClientLoader?Q=!0:O.add(G.route.id))}),O.size===0)return[];let Y=lx(r,h);return Q&&O.size>0&&Y.searchParams.set("_routes",e.filter(G=>O.has(G.route.id)).map(G=>G.route.id).join(",")),[Y.pathname+Y.search]},[h,m,a,o,p,e,r,u]),T=W.useMemo(()=>rx(_,o),[_,o]),I=fx(_);return W.createElement(W.Fragment,null,w.map(O=>W.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),T.map(O=>W.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),I.map(({key:O,link:Q})=>W.createElement("link",{key:O,...Q})))}function mx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dw&&(window.__reactRouterVersion="7.6.3")}catch{}function gx(r,e){return iN({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:AM({window:e==null?void 0:e.window}),hydrationData:px(),routes:r,mapRouteProperties:zN,hydrationRouteProperties:BN,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function px(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:yx(r.errors)}),r}function yx(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new jh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",n[a]=h}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var Ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mw=W.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:_,viewTransition:w,...T},I){let{basename:O}=W.useContext(ri),Q=typeof p=="string"&&Ow.test(p),Y,G=!1;if(typeof p=="string"&&Q&&(Y=p,Dw))try{let R=new URL(window.location.href),V=p.startsWith("//")?new URL(R.protocol+p):new URL(p),L=pr(V.pathname,O);V.origin===R.origin&&L!=null?p=L+V.search+V.hash:G=!0}catch{Ft(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ue=SN(p,{relative:o}),[ae,me,fe]=cx(a,T),B=Tx(p,{replace:h,state:m,target:g,preventScrollReset:_,relative:o,viewTransition:w});function x(R){e&&e(R),R.defaultPrevented||B(R)}let A=W.createElement("a",{...T,...fe,href:Y||ue,onClick:G||u?e:x,ref:mx(I,me),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return ae&&!Q?W.createElement(W.Fragment,null,A,W.createElement(hx,{page:ue})):A});Mw.displayName="Link";var vx=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},_){let w=Vu(h,{relative:p.relative}),T=Ms(),I=W.useContext(Nu),{navigator:O,basename:Q}=W.useContext(ri),Y=I!=null&&Rx(w)&&m===!0,G=O.encodeLocation?O.encodeLocation(w).pathname:w.pathname,ue=T.pathname,ae=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(ue=ue.toLowerCase(),ae=ae?ae.toLowerCase():null,G=G.toLowerCase()),ae&&Q&&(ae=pr(ae,Q)||ae);const me=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let fe=ue===G||!o&&ue.startsWith(G)&&ue.charAt(me)==="/",B=ae!=null&&(ae===G||!o&&ae.startsWith(G)&&ae.charAt(G.length)==="/"),x={isActive:fe,isPending:B,isTransitioning:Y},A=fe?e:void 0,R;typeof a=="function"?R=a(x):R=[a,fe?"active":null,B?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(x):u;return W.createElement(Mw,{...p,"aria-current":A,className:R,ref:_,style:V,to:h,viewTransition:m},typeof g=="function"?g(x):g)});vx.displayName="NavLink";var _x=W.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:h=vh,action:m,onSubmit:g,relative:p,preventScrollReset:_,viewTransition:w,...T},I)=>{let O=Sx(),Q=Ax(m,{relative:p}),Y=h.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&Ow.test(m),ue=ae=>{if(g&&g(ae),ae.defaultPrevented)return;ae.preventDefault();let me=ae.nativeEvent.submitter,fe=(me==null?void 0:me.getAttribute("formmethod"))||h;O(me||ae.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:u,relative:p,preventScrollReset:_,viewTransition:w})};return W.createElement("form",{ref:I,method:Y,action:Q,onSubmit:a?g:ue,...T,"data-discover":!G&&r==="render"?"true":void 0})});_x.displayName="Form";function Ex(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nw(r){let e=W.useContext(Os);return Je(e,Ex(r)),e}function Tx(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=AN(),g=Ms(),p=Vu(r,{relative:u});return W.useCallback(_=>{if(XN(_,e)){_.preventDefault();let w=n!==void 0?n:Pa(g)===Pa(p);m(r,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,p,n,a,e,r,o,u,h])}var bx=0,wx=()=>`__${String(++bx)}__`;function Sx(){let{router:r}=Nw("useSubmit"),{basename:e}=W.useContext(ri),n=LN();return W.useCallback(async(a,o={})=>{let{action:u,method:h,encType:m,formData:g,body:p}=JN(a,e);if(o.navigate===!1){let _=o.fetcherKey||wx();await r.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Ax(r,{relative:e}={}){let{basename:n}=W.useContext(ri),a=W.useContext(zi);Je(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Vu(r||".",{relative:e})},h=Ms();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ei([n,u.pathname])),Pa(u)}function Rx(r,e={}){let n=W.useContext(sp);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Nw("useViewTransitionState"),o=Vu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=pr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Bh(o.pathname,h)!=null||Bh(o.pathname,u)!=null}[...ox];var Ix=LE();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cx(r){return W.createElement(HN,{flushSync:Ix.flushSync,...r})}const Dx=gx([{path:"/",element:we.jsx(TM,{})}]);h1.createRoot(document.getElementById("root")).render(we.jsx(W.StrictMode,{children:we.jsx(Cx,{router:Dx})}));
